@1.  ИНФОРМАЦИЯ О СИСТЕМЕ

Система управления технологическим оборудованием "АЛЬФА".
Версия 2.0, копирована 2000г. Все права защищены.

@1.1  Основные характеристики

 ■ 8 осей для непрерывной интерполяции;
 ■ 8 осей управления типа точка-точка;
 ■ 1 ось шпинделя;
 ■ одновременное управление по 12 осям;
 ■ линейная и круговая интерполяции;
 ■ точность интерполяции 0.01 мкм/м
 ■ ротационные оптические датчики, оптические линейки
   в качестве преобразователей;
 ■ автоматический расчет скоростей подачи с динамической
   оптимизацией по профилю;
 ■ входящая в базовую поставку функция "просмотр вперед" на 5000 кадров;
 ■ минимальная величина вектора перемещения- 0.1 мкм;
 ■ повышенная реальная точность управления за счет индивидуальной
   адаптации системы к комплексу привод-блок приводов-двигатель;
 ■ обработка информации по технологии PC;
 ■ хранение программ на жестком диске объемом до 40 Гб;
 ■ ввод данных через дискету 3.5", последовательный порт или сеть;
 ■ максимальный объем управляющей программы- 1.5 млн кадров,
   объем оперативной памяти 32 Мб позволяет загружать и отрабатывать
   УП в 125 тыс. кадров;
 ■ управляющая программа в стандарте ISO;
 ■ поддержка трехбуквенных кодов в стандарте EIA 1177В
   (программные циклы, подпрограммы, условные и безусловные переходы,
   изменение системы отсчета  и.т.д.);
 ■ поддержка параметрического программирования;
 ■ развитый графический блок помогает быстро создать и оттестировать УП;
 ■ использование на стойке любых DOS и Windows программ, в том числе
   чертежных, подготовки данных, постпроцессоров;
 ■ возможность завязать стойку с любым IBM компьютером или группой
   компьютеров в ближнюю или удаленную сеть с помощью
   стандартных сетевых плат;
 ■ система "АЛЬФА" комплектуется из готовых плат и покупных элементов
   ведущих зарубежных производителей электронной техники;
 ■ все комплектующие элементы доступны, сертифицированы и удовлетворяют
   требованиям, предъявляемым к аппаратуре, работающей
   в промышленных условиях;

@1.2  Реквизиты

Разработчик - "ТЕХНИПРОМ" - НИИД
 Россия,
 г. Москва, проспект Буденного 16, ММЗ "САЛЮТ"
 "ТЕХНИПРОМ" - НИИД
 Телефон: (095) 369-8173;
 Факс: (095) 369-8657.

Изготовитель - АО "САВМА"
 Россия,   171510
 Тверской обл., г. Кимры,
 Савеловское машиностроительное АО "САВМА"
 Телефон: (08236) 4-11-20, 4-13-97, 4-12-30;
 Факс: (095) 973-0144 КИМРЫ САВМА, (08236) 3-25-01;
 Телекс: 171213 "РОБОТ"

Фирмы поставщики оборудования и комплектующих

"ICOS" Ltd.
 Россия,
 г. Москва, Рязанский проспект  8А;
 Телефон: (095) 174-3550;
 Факс: 174-3274;
 http: //www.icos.ru
 E-mail: grade @ icos.msk.ru





@2.  ПУЛЬТ ОПЕРАТОРА

Пульт оператора предназначен для взаимодействия оператора с системой и
 станком, компонуется в следующем составе:

 ■ клавиатура;
 ■ панель управления;
 ■ монитор.

Система допускает различные варианты компоновки пульта оператора:
 ■ рабочие станции;
 ■ изготовление индивидуальных панелей управления (состав и размещение
   органов управления производится с учетом особенностей станка и
   пожеланий заказчика);
 ■ выносные пульты;
 ■ использование мониторов любых типов и размеров;
 ■ специальные клавиатуры.

Ниже описан стандартный вариант  пульта оператора, реализованный в
 системе "АЛЬФА" для станков фрезерной группы.

@2.1  КЛАВИАТУРА

Клавиатура- устройство, предназначенное для ввода информации в систему.
 Стандартная РС клавиатура 102 клавиши.
 Клавиши клавиатуры можно разделить на следующие группы:

 ■ основные (алфавитно-цифровые) клавиши;
 ■ функциональные клавиши;
 ■ управляющие клавиши;
 ■ дополнительные клавиши.


@2.1.1  Основные (алфавитно-цифровые) клавиши

Клавиши алфавитно-цифровой группы поддерживают английский и русский
 алфавиты в их полном объеме, а также  цифры, знаки препинания,
 математические знаки и специальные символы.

Символы английского алфавита.
ABCDEFGHIJKLMNOPQRSTUVWXYZ -прописные,
abcdefghijklmnopqrstuvwxyz -строчные.

Прописные символы английского алфавита являются основными кодами,
 используемыми при составлении управляющих программ в формате ISO и
 посредством трехбуквенных команд.

Символы русского алфавита.
АБВГДЕЖЗИЙКЛМНОПРСТУФХЦЧШЩЬЫЪЭЮЯ - прописные,
абвгдеёжзийклмнопрстуфхцчшщьыъэюя -строчные.

Символы русского алфавита в основном используются для выдачи на экран
 сообщений и в кадрах комментариях.

Прочие символы алфавитно-цифровой группы.
1234567890 - = ! @ # $ % ^ & * ( ) _ + : ; ' " \ | | \ ` [ ] { }

@2.1.2  Функциональные клавиши

Функциональные клавиши (F1..F12) расположены в верхнем ряду клавиатуры.
С этими клавишами связана работа наиболее важных функций системы в
 каждом из отведенных режимов, например:

F1- вызвать справочную службу системы;
F2- вызвать функцию "Установки";
F3- вызвать функцию "Наладка"
F4- загрузить "Редактор" управляющих программ;

@2.1.3  Управляющие клавиши

Данная группа осуществляет выполнение команд перемещения указателя часто
 используемых в процессе редактирования (команды перемещения курсора,
 листания страниц и.т.д.)

@2.1.4  Дополнительные клавиши

Клавиши данной группы расположены в правой части клавиатуры,
 работают в двух режимах:

1.  -дублируют цифровые клавиши и клавиши арифметических
      действий основной группы;
2.  -дублируют работу клавиш управляющей группы.

Переключение режимов осуществляется клавишей NumLock и отражается на
 индикации клавиатуры в соответствующей позиции. Свечение лампы NumLock
 соответствует работе дополнительных клавиш в режиме 1.

@2.1.5  Информация по работе с клавиатурой

Переключение с одного алфавита на другой выполняется клавишей правый Shift.
 Выбранный алфавит отображается в правом верхнем углу монитора
 сокращениями:
 Rus- установлен русский алфавит;
 Lat- установлен английский алфавит.

Клавиша NumLock задает режим работы дополнительных клавиш (см. 2.1.4).
Клавиша CapsLock переключает режим строчные/прописные буквы. Свечение
 лампы CapsLock в поле индикации соответствует режиму прописные буквы.
 Нажатая и удерживаемая клавиша Shift меняет режим, заданный клавишей
 CapsLock на противоположный.

Специальные клавиши Ctrl, Alt, Shift могут использоваться в совместном
 нажатии с любой другой клавишей задавая при этом различные коды.
 Такую комбинацию будем обозначать следующим образом:

 Ctrl + A   - одновременное нажатие клавиш Ctrl и A;
 Alt + F1   - одновременное нажатие клавиш Alt и F1;
 Shift + 5  - одновременное нажатие клавиш Shift и 5.

Совместным нажатием клавиш Ctrl + левый Shift в "главном" меню
 осуществляется переключение страниц правой части экрана (см 2.3.5-2.3.7).

@2.2  ПАНЕЛЬ УПРАВЛЕНИЯ

Панель управления- щит для размещения органов управления станком
 (переключателей, кнопок, селекторов, сигнальных ламп).
В данном разделе рассмотрены состав и назначение расположенных на панели
 органов управления для станков фрезерной группы.

Состав органов управления (штатная комплектация):

 В1 -переключатель "Включение системы"
 В2 -переключатель выбор направления движения "+/-"
 В3 -переключатель управление охлаждением "СОЖ"
 В4 -переключатель "Прерывание подачи"
 В5 -переключатель "Освещение"
 S1 -селектор "Режим"
 S2 -селектор коррекции подачи "F"
 S3 -селектор коррекции частоты вращения шпинделя "S"
 S4 -селектор выбора активной оси "XYZ(ABCUVW)"
 Р1 -кнопка "Включение станка"
 Р2 -кнопка "Аварийное выключение станка"
 Р3 -кнопка "Пуск цикла"
 Р4 -кнопка "Стоп цикла"
 Н1 -светодиод "Аварийное состояние системы"

Подробнее описание и порядок работы органов управления приведены ниже.

@2.2.1  Включение- выключение стойки

B1 -двухпозиционный переключатель, выполняет включение и выключение
 стойки управления,
 положение  I соответствует состоянию "стойка включена",
 положение  0 соответствует состоянию "стойка выключена".

При установке переключателя В1 в положение I:
 ■ на стойку управления подается напряжение питания 220 В;
 ■ производится загрузка операционной системы MS DOS;
 ■ по команде, в файле автоматической загрузки AUTOEXEC.BAT производится
   загрузка системы управления "АЛЬФА", чтение файла конфигурации BASE.INI,
   загрузка системных файлов ERRORS.INI, GTABLE.INI, HELP.HLP,
   если вся аппаратура в норме, система готова к работе в режиме
   "станок выключен". На экране монитора появится заставка на синем фоне.

На панели управления расположен светодиод Н1, сигнализирующий о состоянии
 цепи аппаратной защиты системы от "зависания". Если система "АЛЬФА" не
 загружена - светодиод горит. При загрузке системы, после появления
 указанной заставки, светодиод Н1 должен погаснуть, в противном случае
 включение станка будет блокировано автоматикой.

@2.2.2  Включение станка

P1 -нажимная, нормально- разомкнутая кнопка, выполняет включение станка.
Включение станка производится из базового режима, заставки
 "станок выключен". После нажатия указанной кнопки система выполняет
 последовательность команд приведенных в алгоритме "Включение станка"
 (см. Приложение В). Если контролируемые параметры станка не в норме-
 система прервет включение станка и выдаст в окне "Сообщения"
 соответствующую ошибку, в противном случае система перейдет
 в состояние "станок включен" и высветит на экране монитора основную
 заставку "главного" меню.

@2.2.3  Выключение станка

P2 -нажимная, нормально- замкнутая кнопка с увеличенными размерами, 
 выполняет выключение станка.

Выключение станка производится из любого меню, состояния "станок включен",
 в результате система перейдет в состояние "станок выключен". В "главном"
 меню основная заставка сменится заставкой на синем фоне, система выдаст
 сообщение "Нет готовности станка".
Копка Р2 может фиксироваться в нажатом положении, в этом случае включение
 станка кнопкой Р1 блокируется.

@2.2.4  Управление циклом

P3 -нажимная, нормально- разомкнутая кнопка, выполняет запуск цикла
 отработки процесса, установленного селектором S1.

P4 -нажимная, нормально- замкнутая кнопка, выполняет:
 ■ прерывание цикла отработки процесса, если цикл действует;
 ■ останов шпинделя, если цикл остановлен.

Состояние процесса контролируется на экране в окне Цикл[....] и принимает
 одно из следующих значений:

 RUN    -выполняется процесс, выбранный селектором S1;
 IDLE   -процесс остановлен;
 HOLD   -процесс остановлен, управляющая программа фиксирована.

Кнопка Р3 "ПУСК ЦИКЛА" активна в состоянии [IDLE], [HOLD].
Кнопка Р4 "СТОП ЦИКЛА" активна в состоянии [ RUN].

@2.2.5  Коррекция значений подачи

S2 -селектор (4 секции контактов) на 11 позиций корректирует скорость
 рабочей подачи в диапазоне 10..110% с шагом 10%.

Селектор активен:
 ■ безусловно, в режиме "рабочего хода" (G01..G03);
 ■ в режиме "быстрого хода" (по G0), если значение системной переменной
   URL =1 (см. Глава 5).

Если значения подачи с учетом коррекции выходят за рамки установленных
 для осей диапазонов, система принимает граничные значения (8.7.9) и
 выдает сообщение "ГРАНИЦА ДИАПАЗОНА".

@2.2.6  Коррекция частоты вращения шпинделя

S3 -селектор (4 секции контактов) на 11 позиций корректирует частоту
 вращения шпинделя в диапазоне 75..125% с шагом 5%.

Если скорость шпинделя с учетом коррекции выходит за рамки диапазона,
 установленного для текущей ступени коробки передач шпинделя, система
 принимает граничные для данной ступени значения и выдает сообщение
 "ГРАНИЦА ДИАПАЗОНА".

@2.2.7  Режимы управления станком

S1 -селектор (1 секция контактов) на 11 позиций осуществляет выбор
 следующих режимов управления станком:
  MDI     -ручное управление с командной строки;
  AUTO    -автоматическая отработка УП;
  STEP    -покадровая отработка управляющей программы (УП);
  MANU    -непрерывное ручное перемещение по осям;
  JOG     -дискретное ручное перемещение по осям;
  PROF    -возврат в точку прерванной УП по осям;
  HOME    -инициализация начальной точки координат по осям;
  ESC     -сброс комплекса параметров в начальное состояние;

Переход из одного режима в другой выполняется из состояний процесса
 IDLE, HOLD (2.2.4). Переход из режима AUTO в режим STEP и наоборот
 выполняется из любого состояния.
 Контроль включения -в окне Режим[....]  базовой заставки.

@2.2.8  Переключатель выбора оси

S4 -селектор (1 секция контактов) на 11 позиций, осуществляет выбор
 активной оси в режимах управления станком  MANU, JOG, PROF, HOME.
 Установленная ось отображается на дисплее в режиме мерцания.
 Оси, по которым после включения станка не была выполнена инициализация,
 отображаются коричневым цветом, инициализированные оси -желтым.

@2.2.9  Переключатель выбора направления

B2 -двухпозиционный переключатель, осуществляет выбор направления движения
 в режимах  MANU, JOG, по оси, установленной селектором S3,
 принимает положения:

 +  -выбор положительного направления движения (в сторону станочного нуля);
 -  -выбор отрицательного направления движения.

@2.2.10 Переключатель управления охлаждением

B3 -трехпозиционный переключатель, осуществляет ручное управление подачей
 охлаждения или переводит управление охладителями в автоматический режим,
 принимает положения:

 1. СОЖ ВКЛ    -безусловное включение основного охладителя;
 2. СОЖ ВЫКЛ   -безусловное выключение основного охладителя;
 3. СОЖ С УП   -управление включением охладителя  выполняется с УП или
                с командной строки (режим MDI) с помощью следующих команд:
                 ■ М07 (включить охлаждение воздухом)
                 ■ М08 (включить охлаждение жидкостью)
                 ■ М09 (выключить все виды охлаждения).

Если при отработке УП переключатель В3 переведен в положение 3-
 охладители автоматически установятся в состояние, заданное в УП к
 данному кадру.
 В положении 1,2 система включает или выключает соответственно подачу
 охлаждающей жидкости, команды М07,М08,М09 при этом игнорируются и на
 экран монитора выдается сообщение "УПРАВЛЕНИЕ СОЖ С УП БЛОКИРОВАНО"

@2.2.11 Переключатель управления прерыванием подач

B4 -двухпозиционный переключатель, осуществляет управление прерыванием
 подач, принимает положения:

 I   -прерывание подач активно;
 0  -прерывание подач отменено;

В положении I:
 ■ выполняет управляемый останов движения;
 ■ блокирует движение во всех режимах;
 ■ выдает сообщение "ПРЕРЫВАНИЕ ПОДАЧИ".

В положении 0:
 ■ возобновляет прерванное движение;
 ■ разблокирует движение во всех режимах;

Прерывание подачи является временным остановом процесса и не приводит
 к выходу из цикла, а также к останову шпинделя.
 Для выхода из цикла используется кнопка "Стоп цикла" (Р4), в том числе
 и при активном положении переключателя В4.
 Сообщение "ПРЕРЫВАНИЕ ПОДАЧИ" автоматически (по времени) не сбрасывается.

@2.2.12 Переключатель управления освещением станка

B5 -двухпозиционный переключатель, осуществляет управление станочным
 освещением, имеет положения:

I   -станочное освещение включено;
0  -станочное освещение выключено;

Переключатель В5 активен только в состоянии "станок включен".
Станочное освещение автоматически отключается вместе с выключением станка,
 независимо от положения переключателя В5.

@2.2.13 Переключатель управления разжимом/зажимом инструмента

B6 -двухпозиционный переключатель, осуществляет управление разжимом/зажимом
 инструмента, обычно установлен на станке, на дополнительной панели,
 имеет положения:
 ЗАЖИМ     -выполняется операция "зажим инструмента";
 РАЗЖИМ   - выполняется операция "разжим инструмента";

Алгоритмы выполнения операций разжим/зажим инструмента для конкретного
 станка изложены в Приложении В. Команда на исполнение соответствующего
 алгоритма вырабатывается при изменении положения переключателя В6.
 Расположенная на одной панели с переключателем сигнальная лампа
 сигнализирует о реальном разжиме/зажиме инструмента
 (по положению микропереключателя исполнительного органа).
 Загорание лампы соответствует состоянию "ИНСТРУМЕНТ РАЗЖАТ".

@2.3  МОНИТОР

Монитор- устройство, предназначенное для визуального отображения
 поступающей информации. Стандартная комплектация системы предусматривает
 установку цветного электроннолучевого монитора с размером экрана
 14 или 15 дюймов (типа VGA/15/0.28).

Система "АЛЬФА" ведет обработку информации по технологии РС, широко
 используя отображение на экране дисплея различного рода картинок,
 окон, меню.

Базовая заставка

Ниже рассматривается изображение базовой заставки окна "главное" с
 указанием расположения элементов, форматами записи чисел и всеми
 необходимыми пояснениями.

В правом углу первой сверху строки базовой картинки выводятся программное
 и системное время (часы, минуты, секунды);

Вторая строка предназначена для отображения:
 ■ кадра управляющей программы в режиме STEP,
 ■ командной строки преднабора в режиме MDI;
 ■ установки переменной JOG в режиме JOG.

В остальных режимах строка не используется.

Следующая далее область экрана охвачена рамкой и разделена вертикальной
 линией на две части. Область экрана, расположенную слева от вертикальной
 линии назовем "левая панель", она разбита на 4 окна в которых отображается
 следующая ниже информация.

@2.3.1  Окно состояния

Окно содержит поля "Цикл" и "Режим".

В поле Цикл [ ] отображается текущее состояние цикла:
 RUN   -цикл запущен в режиме, выбранном селектором S1;
 IDLE  -цикл остановлен;
 HOLD  -цикл остановлен, управляющая программа фиксирована.

В поле Режим [ ] отображается один из режимов управления станком,
 установленный селектором S1:
 MDI, AUTO, STEP,MANU, JOG, PROF, HOME, ESC (см. 2.2.7).

@2.3.2  Окно ошибок и сообщений

Окно ошибок и сообщений состоит из 4 строк по 40 символов каждая.
В первой строке выводятся ошибки, обнаруженные при анализе сигналов,
 участвующих в постоянном опросе.

Во второй строке выводятся ошибки, возникающие при отработке алгоритмов
 станочной автоматики и синтаксические ошибки набора в режиме [MDI].
 Если по какой либо группе возникает несколько ошибок одновременно,
 на экран будет выдана ошибка с меньшим порядковым номером;

В третьей строке выводятся сообщения, заданные командой DIS (см. 8.9.3).
Сообщения DIS отображаются зеленым цветом и не стираются автоматически.

Четвертая строка предназначена для вывода системных сообщений.
Сообщения перекрывают друг друга по мере поступления и остаются на экране
 в течении времени, установленным переменной "время выдачи сообщения" (TWM)
 после чего пропадают с экрана. Задать значение переменной TWM можно в
 меню "Наладка" или в файле конфигурации ВASE.INI.

@2.3.3  Окно координат

Информация по каждой координате отображается в колонках
 "Факт", "Задано", "Остаток".

В колонке Факт выводятся текущие значения координат по установленным осям
в соответствии со следующими пунктами:
 ■ линейные оси- в единицах измерения- мм;
 ■ угловые оси- в единицах измерения- градус;
 ■ в формате 6.3 (6 знаков до десятичной точки, 3- после);
 ■ в установленной системе отсчета UAO (см. 8.9.1).
 ■ с учетом коррекции на длину инструмента;
 ■ период обновления устанавливается системной переменной (TСА),
   устанавливаемой в меню "Наладка" или в файле конфигурации ВASE.INI.
 ■ в зависимости от значения системной переменной UCV (8.9.4) отображаются:
        0- вычисляемые координаты;
        1- координаты, определенные преобразователем;
        2- ошибки отслеживания.

В колонке Задано выводятся заданные программные значения координат по
 установленным осям в соответствии со следующими пунктами:
 ■ линейные оси- в единицах измерения- мм;
 ■ угловые оси- в единицах измерения- градус;
 ■ в формате 6.3 (6 знаков до десятичной точки, 3- после);
 ■ в установленной системе отсчета UAO (см. 8.9.1).
 ■ с учетом коррекции на длину инструмента;
 ■ обновляются при смене кадра или заданием нового перемещения в ручных
   режимах.

В колонке Остаток выводится разность между заданным программным и
 текущим расчетным значениями координат по установленным осям в
 соответствии со следующими пунктами:
 ■ линейные оси- в единицах измерения- мм;
 ■ угловые оси- в единицах измерения- градус;
 ■ в формате 6.3 (6 знаков до десятичной точки, 3- после);
 ■ в установленной системе отсчета UAO (см. 8.9.1).
 ■ с учетом коррекции на длину инструмента;
 ■ период обновления устанавливается системной переменной (TСА),
   устанавливаемой в меню "Наладка" или в файле конфигурации ВASE.INI.

@2.3.4  Окно технологических параметров

В окне, в трех колонках отображается информация о состоянии следующих
технологических параметров:

 а) - подача (F),
 В колонке F Факт выводится текущее значение подачи, подача отображается:
 ■ в единицах измерения- мм/мин;
 ■ в формате 5.0 (целое значение, 5 знаков);
 ■ с учетом коррекции, установленной селектором S2 (см. 2.2.5);
 ■ с учетом состояния системных флагов UVR, URL.
 Во колонке F Задано выводится значение подачи, заданной в УП инструкцией
 F (см. 8.7.9), либо установленной переменными FQC, FWC (см. 2.3.1),
 подача отображается:
 ■ в единицах измерения- мм/мин;
 ■ в формате 5.0 (целое значение, 5 знаков).
 В колонке F % выводится значение коррекции подачи, устанавливаемое
 селектором S2 (в %).

 б) - частота вращения шпинделя (S),

 В колонке S Факт выводится текущее значение скорости вращения шпинделя:
 ■ в единицах измерения- об/мин;
 ■ в формате 5.0 (целое значение, 5 знаков);
 ■ с учетом коррекции, установленной селектором S3 (см. 2.2.6);
 В колонке S Задано выводится значение скорости вращения шпинделя,
 заданное инструкцией S (см. 8.7.10), скорость шпинделя отображается:
 ■ в единицах измерения- об/мин;
 ■ в формате 5.0 (целое значение, 5 знаков);
 В колонке S % выводится значение коррекции скорости вращения шпинделя,
 устанавливаемое селектором S3 (в %).

 с) - номер инструмента (T) с присоединенным номером парной коррекции
 В колонке T Факт выводится значение номера текущего, установленного
 инструмента, и через разделитель (.),  номер текущей парной коррекции.
 В колонке T Задано выводится значение номера инструмента с присоединенным
 номером парной коррекции (из таблицы DL), заданные в УП последней
 инструкцией Т (см. 8.7.11);

 Область экрана, расположенную справа от вертикальной линии назовем
 "правая панель". На "правой панели" информация отображается в одном из
 трех различных вариантов, назовем их Экран 1, Экран 2, Экран 3.
 Переключение экранов осуществляется по команде Ctrl + левый Shift
 с клавиатуры. Экран 1 является базовым и устанавливается автоматически
 при включении станка.

@2.3.5  Состояние флагов, переменных и параметров УП (Экран 1)

 В следующих полях отображается информация о состоянии
 системных переменных:

 FQC- подача, с которой выполняются перемещения по осям на быстром ходу
      (G0) в режимах АUTO,STEP,MDI,MANU,PROF;
 FWC- подача, с которой выполняются перемещения в режиме JOG;
 FVR- подача, на которую будут заменены все рабочие подачи
      (по коду G01,G02,G03) при исполнении управляющей программы.
      Значения подач FQC, FWC, FVR отображаются:
        ■ в единицах измерения- мм/мин;
        ■ в формате 4.2 (4 знака до десятичной точки, 2- после);

 JOG- значение, на которое выполняется дискретное перемещения по осям,
      в режиме JOG, отображается:
        ■ в единицах измерения- мм;
        ■ в формате 5.3 (5 знаков до десятичной точки, 3- после);

 TMR- переменная, задающая продолжительность паузы в конце кадра УП,
      активизируется по коду G04, диапазон значений 0..255 сек.

В следующих полях отображается информация о состоянии трехбуквенных
 системных флагов:

 USB- управление исполнением блоков УП снабженных знаком /:
      если USB =1- блоки с  / исполняются как обычные блоки УП,
      если USB =0- блоки с  /  обрабатываются как блоки- комментарии;
 UVR- управление рабочей подачей УП:
      если UVR =1- все рабочие подачи (по кодам G01,G02,G03), заданные
      в УП, заменяются на подачу, установленную в системной переменной FVR,
      если UVR =0 -перемещения выполняются с рабочими подачами заданными
      в УП кодом F;
 URL- управление коррекцией подачи устанавливаемой селектором S2 в режиме
      быстрого хода:
      если URL =1 -коррекция выполняется, S2 активен,
      если URL =0 -коррекция подачи быстрого хода блокирована;
 UCV- управление выводом на экран координат по рабочим осям:
      если UCV =0 -на экран выводится расчетная координата оси,
      если UCV =1 -координата оси с датчика преобразователя,
      если UCV =2 -на экран выводится разница между расчетной координатой
      оси и координатой оси с датчика преобразователя;
 UTS- управление исполнением технологических М-функций из программы:
      если UTS =1 -исполнение М-функций блокируется,
      если UTS =0 -М-функции исполняются в обычном порядке;
 USO- управление исполнением функции факультативного останова (М01) из
      программы:
      если USO =0- система выполнит программный останов цикла отработки
      и перейдет в режим фиксации цикла HOLD (см. 2.2.4),
      если USO =1- исполнение функции М01 во всей УП блокируется.
 UAO- номер текущей точки абсолютного начала координат
      (значения координат хранятся в таблице UAO,
      в ячейке с указанным номером).

Значения рассмотренных выше системных переменных и флагов управления
 задаются в функции "Установки" (см. Глава 2).

В следующих полях отображается информация о состоянии
 управляющей программы:

 Программа    -имя загруженной управляющей программы
               (если УП не загружена выводится аббревиатура "...");
 Подпрограмма -имя текущей исполняемой подпрограммы
               (если подпрограммы нет выводится аббревиатура "...");
 Цикл RPT     -значение счетчика и, через разделитель (.), уровень
               вложенности текущего цикла RPT;
Всего кадров  -номер последнего кадра управляющей программы;
Текущий кадр  -номер текущего кадра управляющей программы;

В поле D отображается значение коррекции на радиус инструмента (в мм),
 взятое из таблицы парной коррекции по номеру текущего установленного
 корректора. В поле L отображается значение коррекции на длину инструмента
 (в мм), взятое из таблицы парной коррекции по номеру текущего
 установленного корректора.

В поле G отображается состояние установочных G- функций (см. 8.7.2) по
 каждой действующей модальной группе (a..l).
В поле M отображается состояние станочной автоматики, задаваемое
 технологическими функциями М (см. 8.7.12):
 М03..М05- шпиндель включен/выключен, направление вращения;
 М40..М42- ступень, установленная в коробке передач шпинделя
 (М40- автоматический выбор передачи);
 М07..М09- охлаждение включено/выключено, жидкость/воздух.

@2.3.6  Текст управляющей программы (2)

В Экране 2 выводится страница текста управляющей программы. Текущий кадр
 располагается в середине страницы и подсвечивается красным фоном.
 Если управляющая программа не загружена в память системы -на правую панель
 экрана выводится сообщение "Программа не загружена".

@2.3.7  Сигналы автоматики станка (3)

В Экране 3, на правой панели отображается все входные и выходные сигналы
 станочной электроавтоматики. Сигналы платы разбиты на 3 группы по
 8 каналов. Каждая группа отображается своим цветом:
 ■ Зеленый -каналы 0..7;
 ■ Желтый  -каналы 8..15;
 ■ Красный -каналы 16..23;

Платы дискретных сигналов, устанавливаемые в систему, имеют аналогичную
 цветовую индикацию, выполненную на светодиодах, что облегчает поиск
 нужного сигнала.

@3.  УПРАВЛЕНИЕ СТАНКОМ

В данной главе рассмотрены основные команды с клавиатуры и пульта
 оператора, с помощью которых ведется управление станком в различных
 режимах.

@3.1  Структура системы

Управление в системе "АЛЬФА" осуществляется по технологии РС посредством
 системы разветвленных окон. Каждое окно предназначено для выполнения
 функционально законченного действия и характеризуется собственным перечнем
 исполняемых команд, а также видом информации, отображаемой на экране
 монитора.

Окно, которое становится активным сразу после включения системы называется
 "главное", из него ведется управления станком с пульта оператора, и
 вызываются все остальные окна системы.

Заставка окна "главное" на синем фоне соответствует состоянию "станок выкл",
на черном фоне -состоянию "станок вкл".
Ниже приведены команды, исполняемые в окне "главное" в режиме "станок вкл".

@3.2  Редактор строки

Редактор строки- процедура, предназначенная для ввода в систему текстовой
 и числовой информации, используется в режимах управления станком MDI, JOG,
 а также во многих вспомогательных окнах системы.

Команды редактора строки:
           -перемещение курсора на одну позицию влево;
           -перемещение курсора на одну позицию вправо;
 End        -перемещение курсора в конец строки;
 Home       -перемещение курсора в начало строки;
 Del        -удаление символа, на который указывает курсор;
 BackSpace  -удаление символа слева от курсора;
 Ins        -переключение режима редактирования вставка-замена,
             увеличенный курсор соответствует режиму вставка;
 Ctrl+Home  -сброс информации в строке.
 Enter      -выход из процедуры с вводом нового значения.
 Esc        -выход из процедуры;

@3.3  КОМАНДЫ, ПОДАВАЕМЫЕ С КЛАВИАТУРЫ

В данном разделе рассмотрены команды "главного" меню подаваемые с
 клавиатуры и клавиши, по которым они вызываются.

@3.3.1  Завершение работы системы

Клавиши Alt + Q
При поступлении команды, система:
 ■ выдает крупным шрифтом заставку о завершении работы (см. Рис 3.1),
 ■ делает копию файла BASE.INI под именем BASE.BAK,
 ■ сохраняет текущие параметры в файле BASE.INI,
 ■ завершает работу и передает управление DOS.

                               Рис 3.1
 ┌────────────────────────────────────┐
 │                                    │
 │      СИСТЕМА ЗАВЕРШИЛА РАБОТУ      │
 │                                    │
 └────────────────────────────────────┘

Внимание!
Выход из системы путем перезагрузки <Ctrl+Alt+Del>, <Reset> или
 выключением питания недопустим в штатной ситуации т.к. может привести
 к потере INI -файлов.
 Команда <Alt + Q> активна и в режиме "станок выкл"

@3.3.2  Переключение страниц "правой панели"

Клавиши  Ctrl + левый Shift
При поступлении команды  система последовательно переключает страницы
 "правой панели" (см. 2.3.5-2.3.7):
 1. Отображение переменных, флагов и параметров УП;
 2. Отображение фрагмента текста УП;
 3. Отображение дискретных сигналов станочной автоматики.
Переключение страниц может выполняться в режиме обработки.

@3.3.3  Окно "Помощь"

В окне "Помощь" предоставляется справочная информация
о работе системы по всем разделам (см. Глава 4).

Клавиша F1
При поступлении команды, система:
 ■ активизирует окно "Помощь" в режиме "каталог".

Клавиши  Alt + F1
При поступлении команды, система:
 ■ активизирует окно "Помощь", повторяя вывод страницы, которая была
   активна при последнем обращении к окну.

@3.3.4  Окно "Установки"

Окно "Установки" предназначено для задания ряда параметров, необходимых
оператору в процессе управления станком.

Клавиша F2
При поступлении команды, система:
 ■ активизирует окно "Установки" (см. Глава 5).

@3.3.5  Окно "Наладка"

Окно "Наладка" предназначено для установки основных параметров системы
 и станка, тестирования и настройки аппаратуры.

Клавиша F3
При поступлении команды, система:
 ■ активизирует окно "Наладка" (см. Глава 6).

@3.3.6  Окно "Редактор"

В окне "Редактор" реализованы функции (чтение с дискеты и жесткого диска,
 редактирование, визуальный контроль, компиляция, сохранение), с помощью
 которых производится подготовка к отработке управляющих программ.

Клавиша F4
При поступлении команды, система:
 ■ активизирует окно "Редактор" (см. Глава 7).

@3.3.7  Установка значения переменной JOG

Клавиша F5
Команда активна только когда селектор выбора режима S1 установлен в
 положение JOG. При поступлении команды, в рабочей строке экрана
 высвечивается текущее значение переменной  JOG.
 Пользуясь командами редактора строки (см. 3.2) введите новое значение
 переменной. Контролируйте новое значение JOG на Экране 1, в окне
 переменных и флагов управления.

@3.3.8  Журнал работы станка

Система автоматически ведет запись на жесткий диск ряда параметров в момент
прохождения следующих команд:
 ■ включение станка;
 ■ выключение станка;
 ■ пуск цикла в режимах отработки УП (AUTO, STEP);
 ■ стоп цикла в режимах отработки УП (AUTO, STEP);
 ■ аварийный стоп цикла -останов цикла выполняемый системой при
   возникновении ошибки (в этом случае запись ведется во всех режимах).

Параметры записи :
 Дата          -день-месяц-год;
 Время         -часы-минуты-секунды;
 Команда       -одна из команд по которой была выполнена запись:
                ПУСК СТАНКА, СТОП СТАНКА, ПУСК ЦИКЛА, СТОП ЦИКЛА;
 Режим         -установленный на момент записи режим работы станка (3.4);
 Ошибка опроса -строка ошибки постоянного опроса состояния станка,
                если ошибки нет выводится символ прочерк;
 Ошибка цикла  -строка ошибки исполнения цикловой автоматики станка,
                если ошибки нет выводится символ прочерк;
 Программа     -строка с именем управляющей программы,
  		если УП не загружена - выводится символ прочерк;
 Кадр          -номер кадра управляющей программы;
 Подача        -значение рабочей подачи в мм/мин с учетом корректора;
 Шпиндель      -частота вращения шпинделя в об/мин с учетом корректора;
 Инструмент    -номер инструмента с присоединенным номером парной коррекции;
 Коррекция     -значения парной коррекции на радиус и длину инструмента;
 Начало (UAO)  -значения текущей точки привязки по осям станка.

Записи ведутся в файл NOTE.INF последовательно, в специальном, недоступном
 для корректировки формате.
 Максимальное число записей -5000. Если число записей превысит максимальное
 значение, система копирует файл NOTE.INF под именем STORY.INF и обнуляет
 файл NOTE.INF. Работа с файлом STORY.INF ведется в окне
 "Архив работы станка" (3.3.9).

Опции "Журнал работы станка", "Архив работы станка" позволят контролировать
 техническое состояние станка и его технологическую эксплуатацию за период
 около 1 года.

Клавиша F6
При поступлении команды, на экране появляется окно "Журнал".

В верхнем левом углу отображается номер текущей записи, в правом  углу-
 общее количество записей в журнале (файл NOTE.INF), далее следуют поля
 записи со своими значениями, в нижней части окна расположена строка
 сообщений.

Исполняемые команды:
        -выдать следующую по списку запись;
        -выдать предыдущую запись;
 PgDn    -пролистать список на 10 записей вперед;
 PgUp    -пролистать список на 10 записей назад;
 End     -выдать последнюю запись списка;
 Home    -выдать первую запись списка;
 F1      -вызов каталога справочной службы системы (4.1).
 Alt +F1 -вызов страницы, последнего обращения к справочной службе;
 F2      -преобразование файла NOTE.INF в текстовый файл NOTE.ТХТ,
          с последующей записью на жесткий диск или дискету для просмотра
          и распечатки. В конце файла NOTE.ТХТ указывается общее время
          работы станка и время, которое станок был занят для отработки УП,
          за период от первой до последней записи. Система запрашивает тип
          устройства, на которое будет произведена запись файла NOTE.ТХТ,
          отвечая на запрос нажмите одну из следующих клавиш:
            клавиша "А" -запись на дискету;
            клавиша "С" -запись на жесткий диск, в директорию пакета;
            клавиша "Esc"-отказ от выполнения команды.
          Если запись прошла успешно -в нижней строке будет выдано
          сообщение "Файл сохранен", в противном случае высвечивается
          соответствующая ошибка;
 F3      -функция "Поиск" позволяет осуществить быстрый подвод к
          необходимой записи. Укажите номер записи, пользуясь командами
          "Редактора строки" (3.2);
 Esc     -выход из окна "Журнал".

@3.3.9  Архив работы станка

Клавиша F7
При поступлении команды, на экране появляется окно "Архив", входящие
 в него записи являются более ранними по времени записями
 "Журнала работы станка (3.3.8).

В верхнем левом углу отображается номер текущей записи, в правом углу-
 общее количество записей в архиве (файл STORY.INF), далее следуют поля
 записи со своими значениями, в нижней части окна расположена строка
 сообщений.

Исполняемые команды:
        -выдать следующую по списку запись;
        -выдать предыдущую запись;
 PgDn    -пролистать список на 10 записей вперед;
 PgUp    -пролистать список на 10 записей назад;
 End     -выдать последнюю запись списка;
 Home    -выдать первую запись списка;
 F1      -вызов каталога справочной службы системы (4.1).
 Alt +F1 -вызов страницы, последнего обращения к справочной службе;
 F2      -преобразование файла STORY.INF в текстовый файл STORY.ТХТ,
          с последующей записью на жесткий диск или дискету для просмотра
          и распечатки. В конце файла STORY.ТХТ указывается общее время
          работы станка и время, которое станок был занят для отработки УП,
          за период от первой до последней записи. Система запрашивает тип
          устройства, на которое будет произведена запись файла STORY.ТХТ,
          отвечая на запрос нажмите одну из следующих клавиш:
            клавиша "А" -запись на дискету;
            клавиша "С" -запись на жесткий диск, в директорию пакета;
            клавиша "Esc"-отказ от выполнения команды.
          Если запись прошла успешно -в нижней строке будет выдано
          сообщение "Файл сохранен", в противном случае высвечивается
          соответствующая ошибка;
 F3      -функция "Поиск" позволяет осуществить быстрый подвод к
          необходимой записи. Укажите номер записи, пользуясь командами
          "Редактора строки" (3.2);
 Esc     -выход из окна "Архив".

@3.3.10  Индикация времени работы управляющей программы

Клавиша F8
При поступлении команды, система:
 ■ включает/выключает индикацию времени работы УП.

Если управляющая программа не загружена -индикация не ведется,
 команда F8 игнорируется.

Время работы управляющей программы отображается в первой строке базовой
 заставки рядом с системным временем.
Индикация выполняется красным цветом в формате (часы : минуты : секунды).
Максимальное значение -255:59:59.

Сброс счетчика времени в значение 0:0:0 выполняется по команде Alt+F8
 (см. 3.3.15), а также автоматически при загрузке новой УП.

При выключении системы последняя настройка сохраняется в файле конфигурации
BASE.INI (см. Приложение А, таб. 5.2).
Команда F8 активна и в режиме "станок выкл".

@3.3.11  Сброс ошибок состояния станка

Клавиша F9
При поступлении команды, система:
 ■ сбрасывает ошибки по группам 1,2;

Выдаваемые системой ошибки состояния станка делятся на две группы:
 1. ошибки, генерируемые при постоянном опросе сигналов с частотой
    системного такта;
 2. ошибки, генерируемые при исполнении алгоритмов автоматики.

Ошибки отображаюся на экране в окне ошибок и сообщений (см. 2.3.2),
 в первой строке окна - ошибки группы 1, во второй - группы 2.
При одновременном возникновении нескольких ошибок данной группы, на экран
 будет выдана ошибка, имеющая меньший порядковый номер в файле ERRORS.INI
 (см. Приложение А).
Команда F9 активна и в режиме "станок выкл".

@3.3.12  Сброс сообщений

Клавиша F10
При поступлении команды, система:
 ■ сбрасывает сообщения по группам 1,2;

Сообщения делятся на две группы:
 1. сообщения, выдаваемые системой в процессе работы;
 2. сообщения, задаваемые технологом с помощью команды DIS.

Наряду с данной командой в системе организован автоматический сброс
 системных сообщений по времени с момента выдачи.
Продолжительность высвечивания сообщения задается переменной (ТWM),
 устанавливаемой в меню "Наладка" или в файле конфигурации BASE.INI
 (см. Приложение А, таблица 5.3).

Ряд системных сообщений, такие как "КОНЕЦ ПРОГРАММЫ", "ПРЕРЫВАНИЕ ПОДАЧИ",
"ПРОГРАММНЫЙ ОСТАНОВ" не сбрасываются автоматически и могут быть сброшены
только данной командой либо накрыты другим сообщением.

Сообщения, выданные командой DIS, отображаются в отдельной строке зеленым
 цветом и автоматически сбрасываются в следующих случаях:
 ■ начало программы;
 ■ конец программы;
 ■ новый оператор DIS.

@3.3.13  Ввод текущих значений координат в таблицу UAO

Команда Alt + F6 с клавиатуры.

При поступлении команды, система автоматически заносит текущее значение
 координаты оси выбранной селектором S4 в таблицу UAO с текущим номером.
Значение берется:
 ■ в системе координат станка;
 ■ в единицах измерения -мм.

Если текущий номер UAO равен 0 -система блокирует исполнение команды и
 выдает сообщение "ЗАПРЕЩЕННАЯ КОМАНДА (UAO =0)"

@3.3.14  Восстановление координат после "рассогласования"

Команда Alt + F7 с клавиатуры.

Если по какой-либо координате произошло рассогласование - система выполняет
 аварийный останов цикла и выключение соответствующего привода.
При поступлении команды, система:
 ■ устанавливает по аварийной оси расчетное значение координаты равным
   значению, считанному с  датчика -преобразователя;
 ■ включает привод аварийной оси.

Если рассогласование было вызвано технологическими факторами и операция
 восстановления прошла успешно -можно выходить в программную точку
 (см. 3.4.7) и продолжать исполнение УП, инициализация нуля аварийной оси
 в данной ситуации необязательна.

@3.3.15  Сброс счетчика времени УП

Команда Alt + F8 с клавиатуры.

При поступлении команды, система:
 ■ устанавливает счетчик времени работы управляющей программы
   в состояние 0:0:0;
 ■ выдает сообщение "СБРОС СЧЕТЧИКА ВРЕМЕНИ УП".
Команда активна и в режиме "станок выкл".

@3.3.16  Параметры в исходное состояние

Команда Alt + F9 с клавиатуры.

При поступлении команды, система устанавливает ряд программных параметров
 в начальное состояние (как на момент включения станка):
 ■ абсолютное начало координат устанавливается (UAO, 0);
 ■ значение номера корректора устанавливается равным 0;
 ■ функции G принимают значения, заданные в файле BASE.INI;
 ■ производится обнуление Е-параметров с 0 по 99;
 ■ обнуляются трехбуквенные управляющие флаги USB,UVR,UTS.

@3.3.17  Сброс управляющей программы

Команда Alt + F10 с клавиатуры.

При поступлении команды, система:
 ■ выгружает УП из оперативной памяти;
 ■ сбрасывает режим фиксации программы "HOLD", если он был установлен;
 ■ выдает сообщение "СБРОС УП".

@3.4  УПРАВЛЕНИЕ С ПУЛЬТА ОПЕРАТОРА

Система поддерживает 8 стандартных режимов управления станком:

  MDI    -ручное управление с командной строки в коде ISO;
  AUTO   -автоматическая отработка УП;
  STEP   -покадровая отработка управляющей программы (УП);
  MANU   -ручное непрерывное перемещение по осям;
  JOG    -ручное дискретное перемещение по осям;
  PROF   -возврат в точку прерванной УП по осям;
  HOME   -инициализация начальной точки координат по осям;
  ESC    -сброс комплекса параметров в начальное состояние;

Выбор режима осуществляется с помощью селектора S1 "Режим" (2.2.7)
расположенного на пульте оператора.
Ниже приведены команды и порядок работы в каждом из указанных режимов.

@3.4.1  Управление станком в режиме MDI

Режим MDI предназначен для ручного управления станком и изменения
 параметров системы посредством ввода информации в виде одного
 программного блока. Командная строка для набора данных автоматически
 появляется в верхней части экрана при включении режима.
 Набор выполняется с помощью команд редактора строки (3.2).
 Максимальная длина командной строки -79 знаков.
 Программирование идентично тому, которое используется при составлении
 УП (см. Главу 8).
 Отличия состоят в следующем:
 ■ программирование слова с адресом N (номер кадра) в начале блока
   необязательно;
 ■ функции G41, G42 в режиме MDI не поддерживаются;
 ■ функции G81...G89 в режиме MDI не поддерживаются;

 Команды исполняются относительно текущего состояния функций GSFTMH и
 трехбуквенных кодов, отображаемых на экране.

В данном режиме оператор может внести значение в таблицы UAO и DL
 воспользовавшись расширенными Е-параметрами (8.8).

Формат ввода для работы с таблицей DL:
Е[буквенный адрес D или L][номер ячейки таблицы D ,L]= <выражение>
например:

ЕD34 = 20.321   -в ячейку 34 таблицы DL, вносится значение коррекции
                 на радиус инструмента, равное 20.321 мм.
ЕL 99 = 100.759 -в ячейку 99 таблицы DL, вносится значение коррекции
                 на длину инструмента, равное 100.759 мм.
ED2 = ED-20.80  -в ячейку 2 таблицы DL, вносится значение коррекции
                 на радиус инструмента, равное текущему значению,
                 уменьшенному на 20.80 мм.
ЕL10 = ЕL1      -в ячейку 10 таблицы DL, вносится значение коррекции
                 на длину инструмента, взятое из ячейки 1 таблицы DL.

Формат ввода для работы с таблицей UAO следующий:
Е[буквенный адрес оси][номер ячейки таблицы UAO]= <выражение>
например:

ЕХ34 = -128.321    -в ячейку 34 таблицы UAO, в поле оси Х вносится
                    значение -128.321 мм.
EZ2   =  EZ-20.80  -в ячейку 2 таблицы UAO, в поле оси Z вносится текущее
                    значение координаты Z, опущенное на 20.80 мм.
ЕY10 = ЕY1         -в ячейку 10 таблицы UAO, в поле оси Y заносится
                    значение, взятое из ячейки 1, поля оси Y.

Для исполнения программного блока нажмите кнопку  "ПУСК ЦИКЛА" (P3)
 на пульте оператора (см. Глава 2).
Для выхода из цикла нажмите кнопку "СТОП ЦИКЛА" P4.

@3.4.2  Использование стека-накопителя в режиме MDI

В режиме MDI предусмотрена возможность сохранения информации командной
 строки в специальном кольцевом стеке, откуда она может быть легко
 извлечена. Объем стека -16 строк по 79 символов в каждой строке.
 Для сохранения командной строки нажмите клавишу "Enter" на клавиатуре,
 при этом данная строка будет помещена на вершину стека, а последняя
 строка в стеке вытеснена. Система подтвердит исполнение команды
 сообщением "СТРОКА СОХРАНЕНА".

Для вызова строки стека нажмите клавишу  на клавиатуре, на экране
 появится окно "Буфер строк" с находящимися в нем предварительно
 сохраненными строками текста. Выбирите клавишами перемещения  нужную
 строку и нажмите клавишу "Enter", при этом выполнится загрузка строки
 стека в командную строку и выход из окна "Буфер строк".
 Для выхода из окна "Буфер строк" без загрузки командной строки нажмите
 клавишу "Esc" на клавиатуре.

@3.4.3  Управление станком в режиме MANU

Режим MANU предназначен для быстрого непрерывного перемещения по указанной
 оси в заданном направлении;

Перемещение выполняется:
 ■ по оси, выбранной селектором S4 <Оси> (2.2.8);
 ■ в направлении, заданном переключателем B2 <+-> (2.2.9);
 ■ с величиной подачи быстрого хода (FQC).

Перемещение начинается с нажатием кнопки P3 и продолжается непрерывно
 пока кнопка P3 удерживается в нажатом положении.
Перемещение прекращается при отжатии кнопки P3, либо при достижении
 координаты границы рабочей зоны перемещений, в последнем случае система
 выдает соответствующее сообщение.
Подача корректируется селектором S2 если флаг URL =1.

@3.4.4  Управление станком в режиме JOG

Режим JOG предназначен для дискретного перемещения по выбранной оси на
 заранее установленную величину -инкремент JOG;

Перемещение выполняется:
 ■ по оси, выбранной селектором S4 (2.2.8);
 ■ в направлении, заданном переключателем B2 (2.2.9);
 ■ с величиной подачи рабочего хода (FWC).

Пуск и останов перемещения выполняется кнопками P3,P4 на панеле управления,
 кнопки работают в толчковом режиме. Подача корректируется селектором S2.

Величина JOG отображается на дисплее в поле переменных (2.3.5) и
устанавливается (в мм) по клавише F5 клавиатуры (3.3.7).

@3.4.5  Управление станком в режиме STEP

STEP -режим полуавтоматической отработки управляющей программы,
 в основном используется для проверки правильности написания
 программы, а также для прохождения наиболее ответственных участков УП.

Выполняет отработку одного очередного программного блока после каждого
 нажатия кнопки P3 "ПУСК ЦИКЛА" на пульте оператора.
 Для выхода из цикла нажмите кнопку Р4 "СТОП ЦИКЛА".

Текущий программный блок отображается в верхней части экрана. В остальном
 управление станком в режиме STEP идентично работе в режиме AUTO.
 Переход из режима AUTO в режим STEP и наоборот может производится
 селектором "Режим" (S1) без предварительного останова цикла.

@3.4.6  Управление станком в режиме AUTO

AUTO -режим автоматической отработки управляющей программы.

Управляющая программа должна быть предварительно загружена в
оперативную память при помощи опции "Компиляция" окна "Редактор" (см. 7.6).
Пуск и останов УП выполняется кнопками P3, P4 на пульте оператора (2.2.4).

Система блокирует отработку УП и выдает соответствующее сообщение в случае:
 ■ отсутствия УП в оперативной памяти ЭВМ;
 ■ отсутствия инициализации хотя бы по одной из осей;
 ■ нахождения механизмов станка в нештатном или аварийном состоянии;
 ■ наличия хотя бы одной ошибки в окне ошибок;
 ■ несовпадения текущей точки координат с программной точкой на момент
   остановки УП.

@3.4.7 Управление станком в режиме PROF

Режим PROF предназначен для возвращения осей в точку, в которой они
 находились в момент временного останова программы.

Перемещение выполняется:
 ■ по оси, выбранной селектором S4 (2.2.8);
 ■ с величиной подачи быстрого хода (FQC), корректируемой селектором S2
   если URL =1.

По оси, совпадающей с осью главного движения (Z) последние 10 мм
 перемещения выполняются с подачей рабочего хода FWC, корректируемой
 селектором S2 (2.2.4) при любом значении переменной URL.
 Пуск и останов перемещения выполняется кнопками P3,P4 на панеле управления,
 кнопки работают в толчковом режиме.
 При выходе каждой из осей в точку фиксации, система выдает сообщение
 "ОСЬ НА ПРОФИЛЕ". Если точка по всем осям совпадает с точкой фиксации,
 перемещения прекращаются, и выдается сообщение "ТОЧКА НА ПРОФИЛЕ".

@3.4.8 Управление станком в режиме HOME

Режим HOME предназначен для инициализации точки абсолютного машинного
 нуля по координатным осям.
Один из конечных переключателей оси используется для того, чтобы
 автоматическим образом выставлять опорную нулевую точку.
 Для каждой оси задается перемещение до положения ее конечного
 переключателя, ближайшее деление шага преобразователя <ноль метка>
 принимается в качестве абсолютного машинного нуля.
 Выбор оси осуществляется селектором S4 (2.2.8), величины подач задаются
 в файле BASE.INI специально для этого режима.
 Коррекция подачи выполняется селектором S2 (2.2.4).
 Пуск и останов перемещения выполняется кнопками P3,P4 на панели
 управления, кнопки работают в толчковом режиме.

Если ноль найден, система выдает сообщение "ИСХОДНАЯ ПОЗИЦИЯ ОСИ",
 в противном случае, после прохождения полного оборота винта -сообщение
 "НОЛЬ НЕ НАЙДЕН"

@3.4.9 Управление станком в режиме ESC

Режим ESC предназначен для сброса следующих программных и управляющих
 параметров в исходное состояние:
 ■ абсолютное начало координат устанавливается (UAO, 0);
 ■ значение номера корректора устанавливается равным 0;
 ■ функции G принимают значения, заданные в файле BASE.INI;
 ■ производится обнуление Е-параметров с 0 по 99;
 ■ обнуляются трехбуквенные управляющие флаги USB,UVR,UTS;
 ■ обнуляется поток ошибок;
 ■ сбрасывается режим <HOLD>, если он был установлен.

Для выполнения команды нажмите кнопку P3 на панеле управления.
Повторная инициализация осей после команды ESC необязательна.
@4.  ПОМОЩЬ

Функциональный режим <Помощь> предоставляет справочную информацию о всех
 командах управления системой и порядке их использования.

Информация разбита на главы, каждая глава представляет собой функционально
 законченное описание состоящее из разделов и подразделов. Заголовки всех
 глав, разделов, подразделов пронумерованы и сведены в "каталог".
 По заголовку в каталоге организован быстрый поиск нужной "страницы"
 руководства. "Страница" -текстовая информация объемом 16 экранных строк
 по 75 символов в каждой. По командам  выполняется переход из режима
 "каталог" в режим "страница" и наоборот. При выходе из функции система
 запоминает последнее состояние раздельно в режимах "каталог" и "страница"
 и отбражает его при следующем вызове.

@4.1  Окно "Помощь" в режиме "каталог"

Команда F1 с клавиатуры.

При поступлении команды, система выдает на экран "каталог" справочной
 информации и устанавливает селектор (подсвеченную зеленым фоном строку)
 на заголовок который высвечивался во время последнего обращения к функции
 "каталог". При первом обращении к функции, селектор устанавливается в
 начало списка. Для просмотра информации подведите селектор к нужному
 заголовку и нажмите клавишу .

С клавиатуры принимаются следующие команды управления:
          -переместить селектор на 1 позицию вверх по каталогу;
          -переместить селектор на 1 позицию вниз по каталогу;
 PageUp    -переместить селектор на 10 позиций вверх по каталогу;
 PageDown  -переместить селектор на 10 позиций вниз по каталогу;
 Home      -переместить селектор в начало каталога;
 End       -переместить селектор в конец каталога;
          -перейти в режим "страница";
 Esc       -выйти из окна "Помощь".

@4.2  Окно "Помощь" в режиме "страница"

Команда Alt + F1 с клавиатуры.

При поступлении команды, система выдает на экран "страницу", которая была
 активна во время предыдущего вызова функции  "страница". При первом
 обращении отображается первая страница руководства. Для перехода в режим
 "каталог" нажмите клавишу .
											Рис 4.2
С клавиатуры принимаются следующие команды управления:
           - пролистать 1 страницу назад;
           - пролистать 1 страницу вперед;
 PageUp     - пролистать 10 страниц назад;
 PageDown   - пролистать 10 страниц вперед;
 Home       - выдать первую страницу документа;
 End        - выдать последнюю страницу документа;
           - перейти в режим "каталог";
 Esc        - выйти из окна "Помощь".

@5.  УСТАНОВКИ ОПЕРАТОРА

Окно "Установки" предназначено для задания ряда параметров, необходимых
 оператору в процессе управления станком. Параметры разбиты на 4 группы,
 каждая группа отображается на отдельном листе, номер текущего листа
 выводится в правом верхнем углу окна.

Список параметров, задаваемых в окне "Установки":

 1 лист  -точки абсолютных начал координат по осям (таблица UAO);
 2 лист  -параметры коррекции на длину и диаметр инструмента (LD);
 3 лист  -Е-параметры для параметрического программирования (8.8).
 4 лист  -трехбуквенные системные переменные  (FQC, FWC, FVR, TMR)
               и флаги управления (USB, UVR, URL, UCV, UTS, USO);

В окне "Установки" исполняются следующие команды с клавиатуры:

           -переместить селектор на 1 позицию вверх по списку;
           -переместить селектор на 1 позицию вниз   по списку;
 PageUp     -переместить селектор на 10 позиций вверх по списку;
 PageDown   -переместить селектор на 10 позиций вниз по списку;
 Home       -переместить селектор в начало списка;
 End        -переместить селектор в конец списка;
 Tab        -отобразить следующий по номеру лист, если текущий лист имеет
             номер 4 -отобразить лист под номером 1;
 Shift+Tab  -отобразить предыдущий по номеру лист, если текущий лист имеет
             номер 1 -отобразить лист под номером 4;
 F1         -вызвать режим "Помощь" для получения справки;
 Alt +F1    -вызов страницы, последнего обращения к справочной службе;
 F4         -редактировать указанный селектором параметр, используя команды
             редактора строки (3.2);
 Esc        -завершить работу в окне "Установки".

Система игнорирует команду "Enter" в редакторе строки, если параметр
 введен некорректно или его значение находится за пределами
 установленного диапазона.

@5.1  Таблица точек привязки UAO

В таблицу заносятся точки абсолютных начал координат, которые
 активизируются из управляющей программы или с командной строки (MDI)
 заданием блока с трехбуквенным кодом (UAO,n) или (UOT,n,....),
 где n -номер точки в таблице 0..99 (см. 8.9.1).

Присвоение и отображение координат ведется относительно одной из точек UAO,
 установленных в данной таблице.

Текущая активная точка UAO отображается на светлом фоне в нижней строке
 окна. Чтобы установить новые начала координат из данного режима,
 подведите селектор к выбранной точке и нажмите клавишу "Ins" клавиатуры.
 Номер установленной активной точки отображается в окне переменных и
 флагов в поле UAO.

Точка абсолютного начала координат задается для каждой оси:
 ■ в единицах измерения -"мм";
 ■ в диапазоне значений ё 9999.999.

Точка с порядковым номером 0 вносится в конфигурации и не редактируется
 в окне <Установки>, тем самым при задании кода (UAO,0) гарантируется
 работа в системе координат станка.

Номер абсолютных начал координат (UAO ) автоматически устанавливается в 0:
 ■ при включении станка;
 ■ в начале каждой управляющей программы;
 ■ при выполнении операций сброса "Параметры в исходное" и ESC.

Внимание!
Координаты всех начальных точек, задействованных в управляющей программе
 должны быть введены в таблицу UAO до выполнения компиляции УП(см. 7.6).

При выключении станка параметры, внесенные в таблицу UAO сохраняются в
 файле конфигурации BASE.INI.

При работе с таблицей абсолютных начал координат UAO, наряду с указанными
 выше (см. 5.) предусмотрены следующие дополнительные команды управления:

Alt + A  -занести текущие станочные координаты по всем осям
          в указанную селектором позицию таблицы UAO;
Alt + S  -обнулить все координаты в указанной селектором позиции.
Ins      -сделать точку, помеченную селектором -текущей активной.

Внести значение в таблицу UAO можно также с командной строки (MDI),
 воспользовавшись расширенными Е-параметрами (8.8).

Формат ввода следующий:
Е[буквенный адрес оси][номер ячейки таблицы UAO]= <выражение>
например:

ЕХ34 = -128.321    -в ячейку 34 таблицы UAO, в поле оси Х заносится
                    значение -128.321 мм.
EZ2   =  EZ-20.80  -в ячейку 2 таблицы UAO, в поле оси Z заносится
                    текущее значение координаты Z, опущенное на 20.80 мм.
ЕY10 = ЕX1         -в ячейку 10 таблицы UAO, в поле оси Y заносится
                    значение, взятое из ячейки 1, поля оси X.

@5.2  Таблица коррекций на D, L инструмента

В таблицу заносятся значения коррекций на диаметр D и длину L инструмента.

Система извлекает значения L,D из данной таблицы в соответствии с номером
 активного корректора, который задается из УП или режима MDI следующими
 кодами ISO (см. 8.7):

  D "n"
  T ""."n" M06,   где  n -номер корректора в таблице (0..99).

Система корректирует значения по оси, совпадающей с осью шпинделя на
 величину L без каких либо дополнительных команд, управление коррекцией
 на величину D осуществляется с помощью кодов G40..G46 (см. 8.7.2.5).

Чтобы установить новый корректор из данного режима, подведите селектор
 к выбранной строке и нажмите клавишу <Ins>, текущий активный корректор
 со значениями D ,L отображается на светлом фоне в нижней строке меню.
 Значения D ,L задаются в диапазоне  ё 9999.999 мм.

Точка с порядковым номером 0 вносится в конфигурации и не редактируется
 в окне <Установки>, тем самым при задании активным корректора с номером
 0 гарантируется работа без коррекции.

Номер установленной активной точки отображается в окне "технологических
 параметров" (2.3.4), значения D ,L отображаются в окне состояния
 параметров УП (2.3.5).

Номер активного корректора автоматически устанавливается в 0:
 ■ при включении станка;
 ■ в начале каждой управляющей программы;
 ■ при выполнении операций сброса "Параметры в исходное" и ESC.
Внимание!
Значения D ,L всех корректоров, задействованных в управляющей программе
 должны быть введены в таблицу DL до выполнения компиляции УП (см. 7.6).

При выключении станка параметры, внесенные в таблицу корректоров D ,L
 сохраняются в файле конфигурации BASE.INI.

Внести значение в таблицу D,L можно также с командной строки (MDI),
 воспользовавшись расширенными Е-параметрами (8.8)

Формат ввода следующий:
Е[буквенный адрес D или L][номер ячейки таблицы D,L]= <выражение>
например:

ЕD34 = 20.321    -в ячейку 34 таблицы D,L, вносится значение коррекции
                  на радиус инструмента, равное 20.321 мм.
ЕL 99 = 100.759  -в ячейку 99 таблицы D,L, вносится значение коррекции
                  на длину инструмента, равное 100.759 мм.
ED2 = ED-20.80   -в ячейку 2 таблицы D,L, вносится значение коррекции
                  на радиус инструмента, равное текущему значению,
                  уменьшенному на 20.80 мм.
ЕL10 = ЕL1       -в ячейку 10 таблицы D,L, вносится значение коррекции
                  на длину инструмента, взятое из ячейки 1 таблицы D,L.

@5.3  Таблица Е-параметров системы

В таблице устанавливаются и контролируются системные переменные,
называемые Е-параметры.

Указанные переменные используются при составлении УП в кадрах присваивания,
 в качестве формальных параметров подпрограмм, в счетчиках циклов,
 функции DIS и.т.д.  (см. Глава 8).

Е-параметры организованны как индексированный массив. Первые десять
 индексов (E0..E9) занимают переменные целого типа с диапазоном допустимых
 значений -2147483647..+2147483647.
 Остальные параметры (E10..E199) определены как действительные 64 разрядные
 числа (15 значащих цифр) с диапазоном значений -2e308..+2e308.

Переменные с индексами Е0..Е99 автоматически обнуляются:
 ■ при включении системы;
 ■ в начале каждой УП при компиляции и отработке.
 ■ в операциях сброса "Параметры в исходное" и ESC.

Переменные с индексами Е100..Е199 сохраняют свои значения, пока не будет
 выполнено новое присвоение, при выключении системы значения указанных
 переменных сохраняются в файле конфигурации BASE.INI.

Внимание!
Значения сохраняемых Е -параметров (Е100..Е199), задействованных в
 управляющей программе должны быть введены в таблицу до выполнения
 компиляции УП (см. 7.6).

Командами Ctrl+   и  Ctrl+  можно изменять формат представления
 действительных переменных (Е10..Е199), увеличивая или уменьшая
 соответственно число знаков после запятой.
 Если число знаков превышает 8-система выводит переменные в полном формате,
 например: 1.21323712213761270E+0008. При включении системы автоматически
 устанавливается формат -4 знака после запятой.

Команда Ctrl +PgUp устанавливает селектор на первый вещественный
 Е-параметр (Е10).
Команда Ctrl +PgDn устанавливает селектор на первый необнуляемый
 Е-параметр (Е100).
@5.4  Трехбуквенные системные  переменные и флаги

На листе 4 устанавливаются следующие трехбуквенные системные переменные и
 флаги управления.

Переменные:

Подача на быстрый ход (FQC)  -подача, с которой выполняются перемещения
 подвода (по коду G0) в УП, а также в режимах MDI,MANU,PROF.
 ■ единицы измерения - мм/мин,
 ■ диапазон значений составляют минимальное и максимальное значения подачи
   по каждой оси, установленное для данного станка в файле конфигурации,
 ■ подача корректируется селектором S2 если флаг URL =1.

Подача на рабочий ход (FWC) -подача рабочего хода, с которой выполняются
 перемещения по осям в режиме JOG.
 ■ единицы измерения - мм/мин,
 ■ диапазон значений составляют минимальное и максимальное значения подачи
   по каждой оси, установленное для данного станка в файле конфигурации,
 ■ подача корректируется селектором S2.

Подача на пробный ход (FVR) -подача, на которую будут заменены все рабочие
 подачи (по коду G01,G02,G03) при исполнении управляющей программы, если
 системный флаг UVR =1.
 ■ единицы измерения - мм/мин,
 ■ диапазон значений составляют минимальное и максимальное значения подачи
   по каждой оси, установленное для данного станка в файле конфигурации,
 ■ подача корректируется селектором S2.

TMR  -продолжительность паузы в конце кадра, заданная в УП или в режиме
 MDI кодом G04, диапазон значений 0..255 сек.

Флаги:

USB  -управляет исполнением блоков УП снабженных знаком "/",
        если USB =1 блоки с "/" исполняются как обычные блоки,
        если USB =0 исполнение блоков с "/" блокируется;

UVR  -управление рабочей подачей УП,
      если UVR =1 все рабочие подачи, заданные в УП кодом F, заменяются
      на подачу, установленную в системной  переменной FVR (5.4.1),
      если UVR =0 перемещения выполняются с рабочими подачами заданными
      в УП кодом F;

URL  -управление коррекцией подачи быстрого хода селектором S2,
        если URL =1  коррекция подачи быстрого хода выполняется,
        если URL =0  коррекция подачи быстрого хода блокирована;

UCV  -управляет выводом на экран координат,
        если UCV =0 на экран выводится расчетная координата оси,
        если UCV =1 координата оси с датчика преобразователя,
        если UCV =2 на экран выводится разница между расчетной
        координатой оси и координатой оси датчика преобразователя;

UTS  -управляет исполнением технологических М-функций программы,
        если UTS =1 исполнение М-функций блокируется,
        если UTS =0 М-функции исполняются в обычном порядке;

USO  -управляет исполнением функции факультативного останова УП,
        если в программе задана функция М01 и
        USO =0 система выполнит программный останов цикла отработки
        и перейдет в режим  фиксации цикла HOLD,
        если USO =1 исполнение функции М01 во всей УП блокируется.




@6.  НАЛАДКА

Опция "Наладка" предназначена для настройки аппаратуры системы и станка.
Структурно опция организована в виде "главного меню" из которого
 осуществляется вызов следующих функциональных окон:

"Помощь"    -справочная информация по всем разделам системы;
"Установки" -задание основных переменных и параметров системы;
"Порты"     -контроль и управление дискретными сигналами автоматики;
 "ЦАП"      -контроль и настройка плат управления приводами;
 "ДОС"      -контроль датчиков преобразователей;
 "Движение" -настройка приводов, определение коэффициентов движения
             для каждого конкретного привода.

Вход в режим защищен паролем -кодовое слово 0..16 любых символов.
Для запроса пароля на экране появляется заставка (см. Рис 6.1).

                                 Рис 6.1
 ┌─────────────── Пароль ───────────────┐
 │                                      │
 │                                      │
 │ _                                 │
 │──────────────────────────────────────│
 │                                      │
 │                  Esc                 │
 └──────────────────────────────────────┘

Ввведите пароль, пользуясь командами редактора строки (3.2), вводимые
 символы будут отображаться неявно в виде знаков "". Ели пароль введен
 верно, на экране появится заставка "главного меню" опции "Наладка"
 (см. Рис 6.2), в противном случае система блокирует вход в опцию.

                                                    Рис 6.2
 ┌──────────────────────────────────────────────────────────┐
 │                                                          │
 │      НАЛАДКА                                             │
 │     ________________________________________________     │
 │                                                          │
 │                                                          │
 │      ■    Установка основных параметров системы          │
 │      ■    Управление  электроавтоматикой станка          │
 │      ■    Контроль датчиков положения координат          │
 │      ■    Прямое управление напряжением на приводах      │
 │      ■    Диагностика и тестирование                     │
 │                                                          │
 │                                                          │
 └──────────────────────────────────────────────────────────┘

Команды управления "главного меню"

В режиме "главного меню" выполняются следующие команды с клавиатуры:
F1        -вызов меню "Помощь";
Alt +F1   -вызов страницы, последнего обращении к справочной службе;
F2        -вызов меню "Установки";
F3        -вызов меню "Порты";
F4        -вызов меню "ЦАП";
F5        -вызов меню "ДОС";
F6        -вызов меню "Движение" (активно при включенном станке);
F9        -сброс ошибки;
Alt+X     -выход из режима "Наладка".

Внимание!
В окне "Наладка" осуществляется блокировка движения от маховиков и
 задатчиков скорости, если указанные органы управления организованы
 на данном станке.

Функциональные окна меню "Наладка"

Каждое окно предназначено для выполнения некоторого законченного действия,
 тестирования и настройки определенного аппаратного блока.

@6.1  ОКНО "ПОМОЩЬ"

В окне "Помощь" предоставляется справочная информация
о работе системы по всем разделам (см. Глава 4).

Клавиша F1
При поступлении команды, система:
 ■ активизирует окно "Помощь" в режиме "каталог".

Клавиши  Alt + F1
При поступлении команды, система:
 ■ активизирует окно "Помощь", повторяя вывод страницы, которая была
   активна при последнем обращении к окну.

@6.2  ФУНКЦИЯ "УСТАНОВКИ"

Клавиша F2
При поступлении команды на экране появляется заставка меню "Установки".

Функция предназначена для ввода и корректировки основных параметров
 конфигурации системы. Параметры разбиты на 2 группы, каждая группа
 отображается на своем листе, номер текущего листа выводится в правом
 верхнем углу меню.

@6.2.1  Общие системные параметры

 На листе 1 устанавливаются параметры системы, не зависящие от конкретной
 оси Для установки параметров исполняются следующие команды с клавиатуры:

      -переместить селектор на 1 позицию вверх по списку;
      -переместить селектор на 1 позицию вниз  по списку;
 Home  -переместить селектор в начало списка;
 End   -переместить селектор в конец списка;
 Tab   -отобразить лист 2;
 F4    -редактировать указанный селектором параметр используя команды
        редактора строки (3.2);
 Esc   -завершить работу в меню "Установки".

Система игнорирует команду "Enter" в редакторе строки, если параметр
 введен некорректно или его значение находится за пределами
 установленного диапазона.

 ■ Ускорение на быстрых подачах -с данным ускорением система рассчитывает
   перемещение вектора на холостых ходах (по коду G0) во всех режимах
   управления станком, диапазон значений- 1..5000 мм/с2;

 ■ Ускорение на рабочих подачах -с данным ускорением система рассчитывает
   перемещение вектора на рабочих ходах (по коду G1.. G3) во всех режимах
   управления станком, диапазон значений- 1..5000 мм/с2

Внимание!
Значения ускорений должны устанавливатся с учетом реальной возможности их
 отработки системой привод-двигатель, в противном случае возможны удары,
 колебания, рассогласования при движении на старте-торможении.
Ускорение на быстрых подачах обычно выставляется максимальным, при котором
 реверс в широком диапазоне подач выполняется без удара.
Ввиду того, что рабочие подачи обычно значительно меньше подач подвода-
 отвода, для повышения точности прохождения участков разгона-торможения,
 рекомендуется задавать ускорение на рабочих подачах в 2..4 раза меньше
 ускорения на быстрых подачах.

 ■ Рассогласование до СТОП подачи -если разность между расчетным и
   датчиковым значениями координаты превысит указанную величину -система
   вырабатывает ошибку "Рассогласование по оси <имя оси>", останавливает
   цикл и отключается привод оси, по которой произошла ошибка,
   диапазон значений- 100..10000 мкм  (целое число);
   Восстановление оси после данной ошибки выполняйте как указано в 3.3.14.

 ■ Рассогласование до СТОП станка -если разность между расчетным и
   датчиковым значениями координаты превысит указанную величину -система
   вырабатывает ошибку "Предельное рассогласование по оси <имя оси>" и
   выключает станок, диапазон значений- 100..10000 мкм  (целое число);

 ■ Допустимое  R1 - R0 окружности -если разность между начальным и конечным
   радиусом запрограммированной дуги превысит указанное значение- система
   выдает ошибку компиляции  "Неконгруэнтный профиль", в противном случае
   выполняется отработка дуги, диапазон значений- 0.01..1 мм;

 ■ Допустимый перепад скоростей DV -переменная устанавливает значение
   максимального перепада скоростей <ступеньки> при отработке движения
   по коду G27. На изломах траекторий движения  возникают скачкообразные
   изменения составляющих скорости по осям (dV), которые привод не может
   отработать. Система снижает подачу на подходе к точкам излома с
   расчетом, чтобы dV не превышала величины заданной переменной,
   диапазон значений 0.01..5.0 мм/сек;

 ■ Время ожидания включения ССИ- время между двумя командами на включение
   насоса импульсной смазки, диапазон значений 0..100000 сек;

 ■ Время работы насосов ССИ- продолжительность работы насоса ССИ после
   включения, диапазон значений 0..100 сек;

 ■ Длительность циклов автоматики- в течении указанного времени ведется
   опрос дискретных сигналов в циклах электроавтоматики. Если ожидаемый
   сигнал получен- система немедленно приступает к выполнению следующего
   программного шага, если ожидаемого сигнала нет по истечении данного
   времени - система генерирует соответствующую ошибку,
   диапазон значений 0..100 сек;

 ■ Пауза в циклах автоматики- устанавливается длительность пауз,
   организованных программистом в циклах электроавтоматики,
   диапазон значений 0..10 сек;

 ■ Период обновления экрана- через заданный интервал времени система
   выполняет новую отрисовку параметров экрана в окнах "Главное" и
   "Наладка", диапазон значений 0..10 сек;

 ■ Обновление дискретных сигналов- через заданный интервал времени система
   выполняет новую отрисовку состояния сигналов станочной автоматики в
   Экране 3, правой панели (2.3.7), диапазон значений 0..10 сек;

 ■ Время индикации сообщения- система автоматически снимет с экрана
   выданное сообщение по истечении указанного времени,
   диапазон значений 0..100 сек;

@6.2.2  Параметры, характеризующие заданную ось

На листе 2 устанавливаются параметры системы, для каждой конкретной оси.

В левом верхнем углу отображается координатная ось, по которой ведутся
 установки. Параметры разбиты на 4 группы, каждая группа отображается в
 своем окне: 1- ЦАП, 2- ДОС, 3- Штурвалы, 4- Движение.

Для установки параметров исполняются следующие команды с клавиатуры:

     -переместить селектор на 1 позицию вверх по списку;
     -переместить селектор на 1 позицию вниз   по списку;
     -перемещение селектора на начало следующего окна,
     -перемещение селектора на начало предыдущего окна;
 Home -переместить селектор в начало окна ЦАП;
 End  -переместить селектор в конец окна Движение;
 Tab  -отобразить лист 1;
 F2   -выбор оси, по которой устанавливаются параметры.
 F4   -редактировать указанный селектором параметр используя команды
       редактора строки (3.2);
 Esc  -завершить работу в меню "Установки".

Система игнорирует команду "Enter" в редакторе строки, если параметр
 введен некорректно или его значение находится за пределами
 установленного диапазона.

Параметры окна ЦАП

В окне ЦАП по каждой оси устанавливаются параметры, связанные с работой
 платы преобразования цифрового сигнала в аналоговый, которым ведется
 управление приводами.

 ■ Фаза -знак управляющего напряжения на выходе ЦАП при подаче на вход
   положительной дискреты, используется при настройке, когда направление
   перемещения по оси противоположно заданному,
   диапазон значений -1..+1 (целые числа),
   значение 0 соответствует отключению управления;

 ■ Баланс -дискрета, соответствующая напряжению 0В на выходе ЦАП,
   определяется в функции "ЦАП" (6.4),
   диапазон значений 0..65534 (целые числа);

Параметры окна ДОС

В окне ДОС по каждой оси устанавливаются параметры, связанные с работой
 платы преобразования сигнала, поступающего с датчика обратной связи.

 ■ Слежение -добротность слежения за расчетной координатой параметр k1,
   настраивается в функции "Движение" (см. 6.6) отдельно по каждой оси,
   диапазон значений 0..255 (целые числа),
   если установлено значение 0, то слежение по данной оси отключено;

 ■ Масштаб -количество дискрет, считанных с выхода платы-преобразователя
   при прохождении исполнительным органом станка расстояния 1 мм,
   диапазон значений -50000..+50000 (целые числа),
   знак "-" реверсирует направление считывания датчика, ставится когда
   изменение расчетной координаты противоположно изменению координаты,
   считанной с датчика-преобразователя.

Параметры окна "Штурвалы"

В окне "Штурвалы" по каждой оси устанавливаются параметры, определяющие
 работу штурвалов и задатчиков скорости.

 ■ Масштаб -количество дискрет, считанных с выхода платы-преобразователя
   штурвала, соответствующее заданию перемещения исполнительного органа
   станка на 1 мм, (например, если за 1 оборот штурвала проходит 10000
   дискрет, а необходимо чтобы за 1 оборот станина переместилась на 2 мм,
   тогда в параметр "масштаб" надо задать 10000/2  =5000).
   диапазон значений -50000..+50000 (целые числа),
   знак "-" реверсирует направление считывания датчика, ставится когда
   изменение расчетной координаты противоположно изменению координаты,
   считанной с датчика-преобразователя.

 ■ Дискрета -значение дискреты ЦАП, определяющее максимальную скорость
   "задатчика", подбирается в соответствии с градацией "задатчика",
   диапазон значений 0..65534 (целые числа),

 ■ Ускорение -количество дискрет ЦАП приращиваемое системой за машинный
   такт (0.002с) в процессе набора значения "Дискрета", регулирует
   ускорение при работе от "задатчика".
   Диапазон значений 0..65534 (целые числа),

Параметры окна "Движение"

В окне "Движение" устанавливаются значения коэффициентов k2,  которые
 используются при формировании управляющей дискреты на выходе ЦАП для
 достижения оптимального движения при различных значениях подачи.

Фиксированные значения подач, функцией которых является коэффициент k2,
 задаются в файле конфигурации BASE.INI (см. Приложение А, Таблица 4.2).
 Параметры k2 =f(F) предварительно определяются в функции "Движение" (6.6).
 Диапазон значений 0..32767 (целые числа).

@6.3  ФУНКЦИЯ "ПОРТЫ"

Клавиша F3
При поступлении команды на экране появляется заставка меню "Порты"

С помощью данной функции выполняются следующие операции:
 ■ контроль сигналов "ввода-вывода" электроавтоматики станка;
 ■ управление каждым, отдельно взятым, сигналом "вывода";
 ■ имитация прохождения сигналов "ввода";
 ■ программирование сигналов "ввода-вывода" на работу по заданным платам
   и разрядам.

Указанные операции позволяют быстро и удобно проверить работоспособность
 органов управления на пульте оператора, правильность и надежность
 срабатывания станочных микропереключателей, нормальное функционирование
 золотников, клапанов и др. станочной автоматики.

@6.3.1  Экран меню "Порты"

На экране отображается таблица дискретных сигналов "ввода-вывода"
 таблица задается в файле конфигурации BASE.INI
 (см. Приложение А, Таблицы 2.1, 2.2), содержит следующие поля:

 ■ N -порядковый номер сигнала в таблице, обращение к дискретным
      сигналам внутри системы ведется по их порядковому номеру;
 ■ Плата -номер платы, на которую физически смонтирован данный сигнал,
   (все установленные в системе платы  имеют бирки с номерами, платы ввода
   и платы вывода нумеруются раздельно), диапазон значений 1...n, где
   n - число плат ввода или вывода соответственно, организованных
   в файле конфигурации системы BASE.INI (см. Приложение А, Таблица 1);
 ■ Канал -номер канала платы, на которую физически смонтирован данный
   сигнал, обычно используются 24-х канальные платы, номер канала
   маркирован на плате напротив каждой монтажной колодки.
   диапазон значений 0..23 (целые числа);
 ■ Маска -специальный параметр, позволяющий имитировать сигналы "ввода"
   и задавать различные сигналы "вывода", диапазон значений 0..2 (целые);
 ■ Факт -фактической значение сигнала, воспринимаемое системой;
 ■ Провод -маркировка провода данного сигнала, устанавливается в файле
   конфигурации системы BASE.INI, формат- 1..6 любых символов.

 ■ Операция -краткое название сигнала, устанавливается в файле
   конфигурации системы BASE.INI, формат- строка из 30 символов.

В левом верхнем углу выводится символ, указывающий тип выделенного
 селектором сигнала:  -сигнал ввода,  -сигнал вывода.

@6.3.2  Команды управления

В меню "Порты" исполняются следующие команды с клавиатуры:

          -переместить селектор на 1 позицию вверх по списку;
          -переместить селектор на 1 позицию вниз   по списку;
 PageUp    -переместить селектор на 10 позиций вверх по списку;
 PageDown  -переместить селектор на 10 позиций вниз по списку;
 Home      -переместить селектор в начало списка;
 End       -переместить селектор в конец списка;
 F1        -вызвать режим "Помощь" для получения справки;
 Alt +F1   -вызов страницы, последнего обращения к справочной службе;
 F4        -редактировать параметры сигнала, используя команды редактора
            строки (3.2), в строке помеченной селектором последовательно
            редактируются поля "плата", "канал", "маска";
 Esc       -завершить работу в меню "Порты".

Система игнорирует команду "Enter" в редакторе строки, если параметр
 введен некорректно или его значение находится за пределами
 установленного диапазона.

@6.3.3  Имитация сигналов "ввода"

С помощью поля "маска" (6.3.1) имеется возможность модифицировать входные
 сигналы, воспринимаемые системой:

 ■ если значение "маска" установлено 2    -текущий фактический сигнал
   принимает значение (0..1) в соответствии с состоянием того реального
   устройства, с которым он работает;
 ■ если значение "маска" установлено 0..1 -текущий фактический сигнал
   принимает значение "маска" независимо от состояния реального устройства.

Таким образом, можно блокировать ошибки, возникающие по каналам "ввода",
 а также искусственно иммитировать различные ситуации, изменяя состояния
 дискретных входных сигналов (например, при отладке алгоритмов станочной
 автоматики).

Внимание!
Будьте внимательны маскируя сигналы, связанные с защитными
 функциями станка.

В окне "Сигналы автоматики станка" (2.3.7) отражается реальное состояние
 станочных сигналов, без учета их маскирования.

@6.3.4  Управление сигналами "вывода"

С помощью поля "маска" (6.3.1) возможно управление отдельно взятыми
 сигналами "вывода":

 ■ задание значение "маска" равным 0..1 эквивалентно подаче
   соответствующей команды на исполнительный механизм, с которым работает
   данный сигнал "вывода";
 ■ задание значение "маска" равным 2- снимает влияние параметра "маска"
   на состояние фактического управляющего сигнала вывода".

Внимание!
Управление сигналами "вывода" при помощи параметра "маска" осуществляется
 напрямую, минуя алгоритмические защиты и ограничения. Будьте внимательны
 при работе в данном режиме.

@6.3.5  Привязка дискретных сигналов

Каждый сигнал из таблицы сигналов "ввода-вывода" может быть легко
 перенастроен на работу с любой соответствующей платой (INP,OUT) и каналом
 без перепрограммирования станочной автоматики. Для этого достаточно
 перемонтировать сигнальный провод на другое место и установить значения
 полей "плата", "канал" по данному сигналу в соответствии с новым монтажом.
 Платы "ввода" и "вывода" маркируются и нумеруются раздельно, это
 необходимо учитывать при задании поля "плата". Следите, чтобы
 установленные значения не повторялись в других сигналах данного типа.

 Возможен контроль сигналов по загоранию светодиодов, установленных на
 платах INP, OUT. Свечение диода соответствует состоянию сигнала
 равным 1, погасание -0, и не зависит от параметра "маска".

@6.4  ФУНКЦИЯ "ЦАП"

Клавиша F4
При поступлении команды на экране появляется заставка меню "ЦАП"
 С помощью данной функции выполняются следующие операции:

 ■ проверка работоспособности платы ЦАП (цифроаналоговое преобразование
   сигнала) по каждому из каналов путем подачи на вход любого цифрового
   управляющего сигнала с последующим контролем выходного сигнала-
   напряжения (10V в режиме "станок выключен";
 ■ определение дискреты "баланс", которой соответствует напряжение 0V на
   выходе канала ЦАПа;
 ■ контроль движения по заданной оси с управлением от системной платы ЦАП
   в режиме "станок включен".

На время работы функции, слежение по всем осям блокируется.
 При завершении работы функции "ЦАП" слежение по осям восстанавливается
 с прежними значениями.

@6.4.1  Экран меню ЦАП

На экране появляется меню "ЦАП" содержащее три информационных
 окна "Установки", "Управление", "Контроль".

В окне "Установки" отображаются:
 ■ название оси, по которой производятся проверки;
 ■ "инкремент" -переменная, на которую будет изменяться
   (в плюс или минус) цифровая управляющая дискрета.

В окне "Управление" отображаются:
 ■ дискрета "баланс", значению которой должно соответствовать
   напряжение 0V на выходе ЦАПа;
 ■ "рабочая дискрета", задающая цифровой управляющий сигнал.

В окне "Контроль" отображаются:
 ■ номер платы ЦАП, с которой работает данная ось;
 ■ номер канала ЦАП по установленной оси;
 ■ полная дискрета на входе в ЦАП, представляющая собой сумму дискрет
   "баланс" и "рабочая дискрета";
 ■ теоретическое напряжение на выходе в вольтах, рассчитанное
   по формуле "напряжение" = "рабочая дискрета" *  Ku,
   где Ku = 10V /  32767 дискрет (для 16-ти разрядного ЦАПа);
 ■ значение координаты текущей оси, по датчику (мм).

@6.4.2  Команды управления

В меню "ЦАП" исполняются следующие команды с клавиатуры:

        -уменьшить дискрету  "баланс" на величину "инкремента";
        -увеличить дискрету  "баланс" на величину "инкремента";
        -уменьшить "рабочую дискрету" на величину "инкремента";
        -увеличить "рабочую дискрету" на величину "инкремента";
 Del     -сбросить в 0 значение "рабочей дискреты";
 Ins     -изменить знак "рабочей дискреты" на противоположный;
 Home    -установить исходное значение дискреты "баланс",
          исходным считается значение 32767;
 F1      -окно "Помощь", выдача справки по всем разделам системы;
 Alt +F1 -вызов страницы, последнего обращения к справочной службе;
 F2      -выбор оси, по которой будет производиться настройка;
 F3      -выбор "инкремента" (6.4.1) из ряда 1,10,100,1000;
 Esc     -выход в "главное меню" окна "Наладка".

@6.4.3  Методика проверки платы ЦАП

Выполняйте проверки в следующем порядке:

 ■ выключите станок;
 ■ войдите в данное меню;
 ■ подсоедините вольтметр к выходу одного из каналов платы ЦАП;
 ■ клавишей F2 установите ось, с которой работает данный канал;
 ■ клавишей F3 установите "инкремент" равным 1000;
 ■ изменяя клавишами  значение "рабочей дискреты", контролируйте
   по вольтметру выходное напряжение, оно должно изменяться в диапазоне
   не уже ё8.5V, иначе канал считается не рабочим;
 ■ клавишей Del сбросьте значение "рабочей дискреты";
 ■ клавишей F3 выберите удобный "инкремент", изменяя клавишами 
   значение дискреты "баланс" установите на выходе ЦАП напряжение 0В;
 ■ изменяйте "рабочую дискрету" при разных значениях "инкремента",
   при этом напряжение на вольтметре не должно отличаться от
   теоретического (в окне "Контроль") более чем на 5% в диапазоне ё8.5V.

@6.4.4 Контроль управления движением

Если все проверки по пункту 6.4.3 успешно завершены, контролируйте
 движение от задания с ЦАПа, выполнив следующие пункты:

 ■ включите станок;
 ■ по возможности установите оси вдали от конечных выключателей;
 ■ войдите в данное меню;
 ■ клавишей F2 установите ось, с которой работает данный канал;
 ■ если координата по датчику быстро изменяет свое значение (бежит)
   при значении "рабочей дискреты" равной 0 -  выполните необходимую
   подстройку на плате приводов, либо компенсируйте указанный перекос,
   подобрав клавишами  значение дискреты "баланс", при котором
   координата по датчику практически не меняет своего значения (стоит).
 ■ клавишей F3 установите "инкремент" равным 100;
 ■ изменяя клавишами  значение "рабочей дискреты", контролируйте
   движение исполнительного механизма. Скорость движения должна плавно
   возрастать с возрастанием значения "рабочей дискреты" и падать,
   при приближении данного значения к нулю, движение должно быть ровное,
   без стуков и колебаний, смена знака "рабочей дискреты" должна приводить
   к смене направления движения. Работая в данном режиме, наладчик сам
   должен контролировать положение исполнительного механизма и не
   допускать его выхода за область допустимых перемещений.
   Клавиша Del сбрасывает значение "рабочей дискреты" в 0, приводя к
   мгновенному останову. Клавиша Ins реверсирует направление движения;
 ■ подобным образом проверьте движение по всем осям.

@6.5  ФУНКЦИЯ "ДОС"

Клавиша F5
При поступлении команды на экране появляется заставка меню "ДОС"

С помощью данной функции осуществляется контроль:
 ■ работоспособности цепи датчик -плата преобразования сигнала датчика
   для определенных в файле BASE.INI (см. Приложение А) координатных осей
   и штурвалов;
 ■ точного положения "ноль метки" датчиков.

Задается физическое перемещение исполнительного органа датчика,
 одновременно контролируется цифровой сигнал, поступающий с выхода
 платы-преобразователя.

@6.5.1  Экран меню "ДОС"

На экране появляется меню "ДОС" содержащее три информационных
 окна "Установки", "Связь", "Контроль".

В окне "Установки" отображаются:
 ■ название оси или номер штурвала, по которым производятся проверки;
 ■ "инкремент" -переменная, на которую будут выполняться дискретные
   перемещения исполнительного органа датчика.

В окне "Связь" отображаются:
 ■ номер платы, по которой работает указанная ось или штурвал;
 ■ номер канала, по которому работает указанная ось или штурвал.

В окне "Контроль" отображаются:
 ■ значение цифрового сигнала, поступающее с выхода платы-преобразователя,
  представленное в двоичном (линейка 24 бита) и десятичном кодах;
 ■ значение координаты с датчика-преобразователя, если контролируется
   координатная ось или задаваемая штурвалом подача (мм/мин), если
   контролируется штурвал.
 ■ сигнал прохождения "ноль метки".

@6.5.2  Команды управления

В меню "ДОС" исполняются следующие команды с клавиатуры:

 F1      -окно "Помощь", выдача справки по всем разделам системы;
 Alt +F1 -вызов страницы, последнего обращения к справочной службе;
 F2      -выбор оси или штурвала, по которым будет производится настройка;
 F3      -выбор "инкремента" (6.5.1) из ряда 1,8,16,32,64,128;
 F10     -сброс индикации прохождения  "ноль метки";
        -задание перемещения в "-" на величину "инкремента";
        -задание перемещения в "+" на величину "инкремента";
 Esc     -выход в "главное меню" окна "Наладка".

@6.5.3  Порядок работы

Выполняйте проверки в следующем порядке:

 ■ клавишей F2 установите текущую ось или штурвал, система выполняет
   последовательный перебор сначала координатных осей, а затем
   штурвалов в том порядке, в котором они организованы в файле
   конфигурации BASE.INI.
 ■ клавишей F3 установите необходимое значение "инкремента";
 ■ задайте перемещение исполнительного органа датчика, Если станок
   включен, перемещение по координатным осям задается клавишами 
   (6.5.2) на величину "инкремента", но может осуществляться и вручную,
   если это физически возможно. Выходной сигнал должен изменяться
   адекватно перемещениям исполнительного органа датчика.

 На Рис 6.3 приведена зависимость изменяемого разряда цифрового сигнала на
  выходе от значения установленного "инкремента", при задании перемещений
  от станка:
                                                            Рис 6.3
 ┌──────────────────────────────────────────────────────────────────┐
 │  "инкремент"        │      1     8    16    32    64    128      │
 │──────────────────────────────────────────────────────────────────│
 │  изменяемый разряд  │      0     3     4     5     6      7      │
 └──────────────────────────────────────────────────────────────────┘

@6.6  ФУНКЦИЯ "ДВИЖЕНИЕ"

Клавиша F6
При поступлении команды на экране появляется заставка меню "Движение".

Функция позволяет определить коэффициенты k1,k2, система использует их как
 параметры управления приводом при выполнении перемещений по осям станка.
 Для определения коэффициентов задается циклическое движение по выбранной
 оси, на указанном участке ходового винта, с заданной подачей, в этом
 режиме осуществляется подбор параметров k1, k2 по критерию "наименьшего
 рассогласования". Полученные коэффициенты вводятся в систему.
 Определение и ввод в систему параметров k1, k2 выполняется на этапе
 привязки системы к станку, а также после ремонтных работ, связанных с
 приводами, двигателями, механикой ходовой части станка.
 Функция "Движение" активна только в состоянии "станок включен".

@6.6.1  Коэффициенты k1, k2

 k1 -коэффициент жесткости слежения:
      -регулирует мощность процесса, посредством которого система
       компенсирует возникающие погрешности;
      -диапазон значений 0..20 (целые числа);
      -значение k1 = 0 соответствует работе без слежения.

 k2 -коэффициент скорости:
      -связывает управляющий сигнал и реальную скорость
       перемещения по оси в режиме V =const;
      -является функцией текущей подачи k2 =f(F);
      -диапазон значений 0..32767 (целые числа);
      -определяется для каждой оси при фиксированных значениях
       подачи, которые задаются в файле конфигурации BASE.INI.

@6.6.2  Экран  меню "Движение"

На экране появляется меню "Движение" содержащее три
 информационных окна "Установки", "Управление", "Контроль".

В окне "Установки" отображаются:
 ■ название оси, по которой производятся проверки;
 ■ участок координатной оси, в котором будут выполняться перемещения,
   задается значениями краев min, max  исходя из условий:
     -минимальный диапазон max-min должен быть не менее 20 мм;
     -значения min, max задаются из диапазона рабочей зоны перемещений
      станка по данной оси, не ближе 10 мм от его краев. В начале работы
      система автоматически устанавливает параметр max -10 мм от
      максимального значения, установленного для данной оси
      (см. файл BASE.INI, Таблица 4.1, в Приложении А), параметр min-
      в среднее значение данной оси.
 ■ текущее значение подачи (мм/мин).

В окне "Управление" отображаются:
 ■ состояние цикла (ПУСК/СТОП);
 ■ текущее значение коэффициента k2;
 ■ текущее значение коэффициента k1;

В окне "Контроль" отображаются:
 ■ расчетное текущее значение координаты;
 ■ текущее значение координаты по датчику;
 ■ разница между показаниями расчета и датчика (рассогласование).

@6.6.3  Команды управления в режиме "СТОП" цикла

Исполняются следующие команды с клавиатуры:

 F1      -окно "Помощь", выдача справки по всем разделам системы;
 Alt +F1 -вызов страницы, последнего обращения к справочной службе;
 F2      -выбор оси, по которой будет производится настройка;
 F3      -установить минимальное значение диапазона (min);
 F4      -установить максимальное значение диапазона (max);
 F5      -установить текущее значение подачи;
 Alt+1   -записать текущий коэффициент k1 в "Установки" системы
          (параметр "Слежение", 6.3.6) для данной оси.
 Alt+2   -записать текущий коэффициент k2 в "Установки" системы
          (параметр "Дискрета" в окне "Движение" 6.3.7) по оси.
          Система сохранит коэффициент k2 только в том случае,
          если заданная подача находится в ряду фиксированных
          значений подач установленных в файле конфигурации
          BASE.INI (см. Приложение А, Таблица 4.2),
          в противном случае система выдает сообщение
          "ЗНАЧЕНИЕ ПОДАЧИ -НЕ УЗЛОВАЯ ТОЧКА".
 Esc     -выход в "главное меню" окна "Наладка".

Установка значений по клавишам F3..F5 выполняется с помощью команд
 редактора строки (3.2). Система подтверждает исполнение команд
 Alt+1, Alt+2 выдачей сообщения "КОЭФФИЦИЕНТ СОХРАНЕН"
Команда ПУСК цикла задается кнопкой P3 с пульта оператора (см. Глава 2).

@6.6.4  Команды управления в режиме "ПУСК" цикла

Исполняются следующие команды с клавиатуры:
           -уменьшить значение k1 на 1;
           -увеличить значение k1 на 1;
 Ctrl +    -уменьшить значение k2 на 1;
 Ctrl +    -увеличить значение k2 на 1;
           -уменьшить значение k2 на 10;
           -увеличить значение k2 на 10;

Исходными значениями k1 и k2, являются значения заданные в меню
 "Установки" функции "Наладка" (6.2); Начальное движение всегда
 выполняется в сторону станочного нуля (точку с координатой "max").
 Команда СТОП цикла задается кнопкой P4 с пульта оператора (см. Глава 2).

@6.6.5  Порядок определения коэффициента k2 =f(F)

Для снятия характеристики k2 =f(F) выполните следующие действия:
 ■ клавишей F2 установите текущую ось;
 ■ выберите участок ходового винта, установив параметры min,max;
 ■ задайте величину подачи из ряда фиксированных значений, определенных
   в файле конфигурации BASE.INI;
 ■ запустите цикл, нажав кнопку P3 на пульте оператора;
 ■ установите клавишей  значение k1 =1;
 ■ изменяя k2 командами ,Ctrl+,Ctrl+ добейтесь минимальных и
   устойчивых значений параметра "рассогласование" (6.7.2),
   контролируемого на участке постоянной скорости V =const;
 ■ остановите цикл, нажав кнопку P4 на пульте оператора;
 ■ командой Alt+2 сохраните коэффициент k2 в системе.

Определите, таким образом, k2 =f(F) для всех F, по всем осям.

@6.6.6  Порядок определения коэффициента k1

Определение предельного значения коэффициента k1 выполняйте после того
 как значения k2 =f(F) введены в систему, в следующем порядке:

 ■ задайте величину подачи равной 2..4 м/мин;
 ■ запустите цикл, нажав кнопку P3 на пульте оператора;
 ■ установите клавишей  значение k1 =1;
 ■ увеличивайте клавишей  значение k1 до появления характерных признаков
   перерегулирования (вибрация, тряска), особенно заметных на участках
   разгона-торможения, ближайшее меньшее значение k1 является его
   предельным значением -k1 пред;
 ■ остановите цикл, нажав кнопку P4 на пульте оператора;

Допускается ввод в систему любого значения k1 из диапазона 1..k1пред
 (большим k1 соответствует повышенная "точность", меньшим k1-
 улучшение параметра "шероховатость").
@7.  РЕДАКТОР

Окно "Редактор" предназначено для подготовки к исполнению управляющих
 программ (УП).
Основные операции, выполняемые в "Редакторе":

 ■ загрузка УП из архива на жестком диске, или с дискеты;
 ■ редактирование, используя технологию РС;
 ■ графическая иммитация отработки;
 ■ сохранение УП в архиве или на дискете;
 ■ компилирование и загрузка УП в оперативную память.

Сразу после вызова окна "Редактор", появляется заставка на синем фоне,
 далее именуемая "главное меню".

В первой строке главного меню отображается "имя файла" текущей УП,
 знак "-" голубого цвета перед именем программы сигнализирует, о том,
 что в УП были проведены изменения с момента последнего сохранения.

В левой части второй строки выводятся сообщения системы, в правой ее
 части -два числа, образующие координаты курсора:
 1. позиция символа в строке;
 2. номер текущей строки.

Между двумя разделительными линиями отображается текст УП.
При входе в "Редактор" система автоматически загружает файл, который
 был загружен во время последней работы в "Редакторе"

Наиболее важные команды "Редактора" и клавиши их исполнения т.н.
 "горячие ключи" отображены в нижней строке главного меню.

Внимание!
Существуют два режима работы "Редактора":
 ■ если управляющая программа не загружена для исполнения в оперативную
   память-работа ведется в режиме редактирования, т.е. открыты все опции
   загрузки и корректировки файлов управляющей программы;
 ■ если управляющая программа загружена для исполнения в оперативную
   память-работа ведется в режиме просмотра, т.е. блокируются все функции,
   которые могли бы привести к изменению кода загруженной УП.

В нижней строке-подсказке заблокированные коды обозначаются пустым
 прямоугольником. Для возвращения "Редактора" в штатный режим работы
 необходимо снять УП с исполнения командой Alt + F10.

@7.1  КОМАНДЫ "ГЛАВНОГО МЕНЮ"
Ниже приведены команды "Редактора", исполняемые из "главного меню".

@7.1.1  Команды перемещения курсора

Следующие команды с клавиатуры управляют перемещением курсора в окне
 "главного меню":

               -курсор на одну позицию влево;
               -курсор на одну позицию вправо;
 Tab            -курсор на 6 позиций вправо;
               -курсор на одну строку вверх;
               -курсор на одну строку вниз;
 Home  	        -курсор в начало текущей строки;
 End            -курсор в конец текущей строки;
 PgDn           -прокрутка на 20 строк (1 страницу) вниз по файлу;
 PgUp           -прокрутка на 20 строк (1 страницу) вверх по файлу;
 Ctrl + PgDn    -прокрутка на 200 строк (10 страниц) вниз;
 Ctrl + PgUp    -прокрутка на 200 строк (10 страниц) вверх;
 Ctrl + Home    -курсор в начало файла;
 Ctrl + End     -курсор в конец файла;

@7.1.2  Режимы редактирования вставка/замена

Команда  Ins  с клавиатуры устанавливает режим редактирования текста.

Режиму "замена" соответствует увеличенный курсор,
 режиму "вставка" -обычный, при входе в "Редактор" система автоматически
 устанавливает режим "вставка".

В режиме "замена" символ ASCII, введенный с клавиатуры, помещается в
 текущую позицию курсора, заменяя предыдущий символ, после чего курсор
 сдвигается на одну позицию вправо.
В режиме "вставка" -строка раздвигается на 1 позицию, введенный символ
 помещается перед символом, на который указывает курсор. Если длина
 строки достигает максимальной величины (79 символов), система блокирует
 дальнейший ввод символов в данной строке.

@7.1.3  Работа клавиши "ввод" в главном меню

Команда Enter с клавиатуры вызывает следующие действия:

В режиме редактирования (7.1.2) "замена" курсор помещается на первый
 непустой символ следующей строки, если строка является последней в
 файле, тогда ниже строки, помеченной курсором, вставляется новая пустая
 строка, курсор помещается на первую позицию новой строки.

В режиме редактирования "вставка" ниже строки помеченной курсором,
 вставляется новая пустая строка, ряд символов от позиции курсора до
 конца текущей строки переносится на вновь образованную строку, курсор
 помещается на первую непустую позицию новой строки.

Если для образования новой строки не хватает оперативной памяти,
 система не выполняет данное действие и выдает сообщение
 "Недостаточно памяти".

@7.1.4  Удаление символов слева от курсора

Команда BackSpase с клавиатуры:

 ■ удаляет из строки символ, расположенный слева от курсора;
 ■ если курсор находится в первой позиции строки команда BackSpase
   игнорируется.

@7.1.5  Удаление символов справа от курсора

Команда Del с клавиатуры:

 ■ удаляет символ, на который указывает курсор;
 ■ если справа от курсора нет непустых символов, команда Del переносит
   строку, следующую за текущей, в конец текущей строки, если длина,
   полученной таким образом строки превысит максимальную (79 символов)-
   операция Del игнорируется, на экран выдается сообщение "Длинная строка".

@7.1.6  Вызов основных функций

Список основных функций "главного меню" и команды их вызова:

 F1          -вызвать режим "Помощь" для получения справки;
 F2          -сохранить файл в архиве или на дискете;
 F3*         -выбор и загрузка файла УП в "Редактор";
 F4          -графический режим;
 F5*         -компиляция и загрузка управляющей программы;
 F6          -поиск контекста;
 F7          -разметка строчного блока;
 F8*         -вставка строки;
 F9*         -копирование строчного блока;
 F10*        -перенос строчного блока;
 Alt +F1     -вызов страницы, последнего обращения к справочной службе;
 Alt +F2     -копия файла;
 Alt +F3*    -новый файл;
 Alt +F4     -вход в графический режим для отрисовки выделенного блока;
 Alt +F5     -начало программы с произвольной точки;
 Alt +F6*    -замена контекста;
 Alt +F7     -снятие разметки строчного блока;
 Alt +F8*    -удаление строки;
 Alt +F9*    -удаление выделенного строчного блока;
 Alt +F10*   -нумерация кадров УП по всему файлу;
 Alt +F10**  -выгрузка УП из оперативной памяти;
 Ctrl+F1     -вызов таблицы точек привязки (UAO);
 Ctrl+F2     -вызов таблицы корректоров (DL);
 Ctrl+F3     -вызов таблицы основных Е -параметров;
 Ctrl+F4     -вызов буфера сохраняемых Е -параметров;
 Ctrl+F5*    -сборка в файле внешних подключаемых подпрограмм;
 Ctrl+F6     -вызов "Журнала" хронологии работы станка;
 Ctrl+F7     -вызов "Архива" хронологии работы станка;
 Ctrl+F8     -копирование выделенного блока в "текстовый буфер" на диск;
 Ctrl+F9*    -вставка строк из "текстового буфера" в текущий файл;
 Ctrl+F10    -нумерация кадров УП основной программы.

Символом "*" помечены функции, недоступные в режиме просмотр
 (при загруженной УП). В режиме редактирование исполняются все функции
 кроме помеченной символом "**".

Активные в текущий момент основные функции высвечиваются в нижней
 строке-подсказке. Для просмотра функций, исполняемых совместно с
 управляющей клавишей Alt или Ctrl -нажмите и удерживайте соответствующую
 управляющую клавишу.

@7.2  Окно "Помощь"

В окне "Помощь" предоставляется справочная информация о работе системы
 по всем разделам (см. Глава 4).

Команда F1 с клавиатуры.
При поступлении команды, система активизирует окно "Помощь"
 в режиме "каталог".

Команда Alt + F1 с клавиатуры.
При поступлении команды, система активизирует окно "Помощь", повторяя
 вывод страницы, которая была активна при последнем обращении к окну.

@7.3  Сохранение текущего файла

Команда F2 с клавиатуры

По данной команде производится перезапись текущего файла на то устройство
 с которого он был считан. Если в начале имени файла присутствуют
 символы А: -запись ведется на дискету, в противном случае файл
 сохраняется в архивном каталоге (ISO), расположенном внутри базового
 каталога пакета "АЛЬФА". Файл сохраняется без дополнительных запросов
 с именем и аттрибутами предшествующей версии, которая, таким образом,
 безвозвратно теряется.

Система не ведет сохранение строк, расположенных от начала файла до
 первого оператора подключения внешних подпрограмм (8.6), заданного
 инструкцией  #  <имя файла> , <имя подпрограммы> ... <имя подпрограммы>
 если указанный оператор обнаружен в тексте УП.

Если на диске не хватает места для размещения новой версии файла,
 система выдает сообщение "Нет места на диске". Если при записи файла
 возникает ошибка, система выдает сообщение "Ошибка записи файла",
 в этом случае рекомендуется запустить программу восстановления жесткого
 диска NDD /COMPLETE C:  из каталога NU системы DOS.
При успешном выполнении команды система выдает сообщение "Файл сохранен".

@7.4  Работа с каталогом файлов архива или дискеты

Команда F3 с клавиатуры

По данной команде на экране появляется меню "Чтение файла" (Рис 7.1).

                                  Рис 7.1
 ┌──────────── Чтение файла ─────────────┐
 │                                       │
 │  Маска *.ISO_                         │
 │                                       │
 │- Файлы -------------------------------│
 │                                       │
 │                                       │
 │                                       │
 │                                       │
 │                                       │
 │                                       │
 │                                       │
 │                                       │
 │                                       │
 │                                       │
 └───────────────────────────────────────┘

Меню содержит командную строку с именем "Маска" и окно "Файлы".
В командной строке задается параметр, в котором указывается общий признак
 в именах файлов, по которому они будут выбираться из каталога.

Примеры чтения каталога архива:
A*.*     -выбрать из каталога все файлы, начинающиеся с буквы A;
*.ISO   -все файлы с расширением ISO;
PRES*.UP -все файлы, начинающиеся с PRES, с расширением UP;
*.*        -все файлы каталога.

Для чтения с дискеты поставьте контекст "A:" перед параметром "Маска",
 примеры чтения каталога дискеты:
A:A*.*
A:*.ISO
A:PRES*.UP
A:*.*

Пользуясь командами редактора строки (3.2) введите параметр "Маска"
 и нажмите одну из следующих клавиш:

 Enter, , Alt + Ф  -переход в окно "Файлы";
 Esc                -выход из меню "Чтение файла" в "главное меню".

Если выбран переход в окно "Файлы" -на экране отобразится список
 файлов (см. Рис.7.2), считанный из архива или с дискеты, в
 соответствии с параметром "Маска".

                                  Рис 7.2
 ┌──────────── Чтение файла ─────────────┐
 │                                       │
 │  Маска *.ISO                          │
 │                                       │
 │- Файлы ───────────────────────────────│
 │                                       │
 │    000710.ISO      1396    10-Mar- 1  │
 │    000716.ISO      4738     2-Apr- 1  │
 │    000726.ISO      2307    13-Apr- 1  │
 │    000755.ISO      4588    29-Mar- 1  │
 │    000777.ISO       515     3-May- 1  │
 │    000835.ISO      2228    29-Mar- 1  │
 │       022.ISO    101560    29-Mar- 1  │
 │       023.ISO     97951    29-Mar- 1  │
 │                                       │
 └───────────────────────────────────────┘

В первой колонке выводится "имя файла", во второй -объем
 (общее количество символов в файле), в третьей -дата образования файла.

Для загрузки файла УП в "Редактор" подведите селектор (выделенную
 зеленым фоном область экрана) к нужному файлу и нажмите клавишу Enter.

Если в выгружаемом файле были произведены несохраненные изменения,
 система выдаст меню -запрос на дальнейшие действия (7.32).

Если в файле УП запрограммированы операторы подключения внешних
 подпрограмм  (8.6.3) -система автоматически вставляет текст указанных
 подпрограмм в начало файла или выдает соответствующую ошибку, если
 операция по каким-либо причина не может быть выполнена.

Команды исполняемые в окне "Файлы":

 Esc        -выход из меню "Чтение файла" в главное меню;
 , Alt+М   -переход в строку "Маска";
           -перемещение селектора на 1 позицию вверх каталога;
           -перемещение селектора на 1 позицию вниз;
 PgUp       -перемещение селектора на 7 позиций вверх каталога;
 PgDn       -перемещение селектора на 7 позиций вниз;
 Home       -перемещение селектора в начало каталога;
 End        -перемещение селектора в конец каталога;
 Enter      -загрузка в редактор, выделенного селектором файла
             и выход в главное меню;
 Del        -удаление файла, помеченного селектором;
 Alt+Q      -удаление всей группы файлов, показанных в окне.

При поступлении команды удаления (Del, Alt+Q), система запрашивает
 подтверждение на их выполнение.
Для подтверждения выполнения команды нажмите клавишу "Y" клавиатуры,
 в случае отказа от выполнения данной команды нажмите клавишу "N".

@7.5  ГРАФИЧЕСКАЯ ИММИТАЦИЯ ОТРАБОТКИ УП

Команда F4 с клавиатуры

Графический режим предназначен для визуального контроля траекторий
 движения инструмента, задаваемых в блоках текущей управляющей программы.

Возможности и свойства графического режима:
 ■ рабочей плоскостью может являться любая пара активных осей;
 ■ функция "окно" обеспечивает многократное увеличение участков
   изображения, с запоминанием последних 10 окон по каждой плоскости;
 ■ мгновенная отрисовка -позволяет сразу отобразить траектории всей
   управляющей программы;
 ■ пошаговый режим- покадровая отрисовка траекторий УП с одновременным
   контролем прохождения текущего кадра;
 ■ траектории отображаются относительно любой выбранной системы отсчета;
 ■ возможность контролировать геометрию элементов (снять координаты
   точки, произвести замеры расстояний и.т.д.).
 ■ оперативное управление цветовой палитрой;

Экран в графическом режиме

Система загружает графический экран VGA 640x480 точек, 16 цветов.
В верхней строке, справа показаны имена выбранных осей, составляющих
 плоскость отрисовки, с координатами центра курсора. Остальная часть
 экрана отведена под отрисовку траекторий УП. Первоначальная картинка
 "исходное окно" рисуется:
 ■ в плоскости образованной первой и второй осью, заданными в
   конфигурации (обычно XY);
 ■ в системе координат станка;
 ■ в области рабочих перемещений станка, установленных в файле
   конфигурации BASE.INI для выбранных осей.

Масштабная линейка по обоим осям формируется автоматически.
Соотношение масштабов всегда сохраняется 1:1, что обеспечивает вывод
 неискаженного изображения. В левом верхнем углу экрана отображаются
 адреса осей, образующих плоскость и номер текущего окна,
 "исходное окно" всегда имеет номер -0. В левом нижнем углу
 отображается текущая система отсчета, относительно которой ведется
 отрисовка, задается номером из таблицы UAO (5.1),"исходное окно"
 имеет номер UAO0, соответствующее отрисовке в системе координат станка.

Команды управления
В графическом режиме исполняются следующие команды с клавиатуры:

             -перемещение графического курсора влево на 10 пикселов;
             -перемещение графического курсора вправо на 10 пикселов;
             -перемещение графического курсора вверх на 10 пикселов;
             -перемещение графического курсора вниз на 10 пикселов;
 Shift +     -перемещение графического курсора влево на 1 пиксел;
 Shift +     -перемещение графического курсора вправо на 1 пиксел;
 Shift +     -перемещение графического курсора вверх на 1 пиксел;
 Shift +     -перемещение графического курсора вниз на 1 пиксел;
 Ins          -переключение размеров графического курсора;
 F1           -вызов справочного окна "Помощь";
 Alt +F1      -вызов страницы, последнего обращения к справочной службе;
 F2, Alt +F2  -выбор осей, формирующих рабочую плоскость;
 F3, Alt +F3  -переключение режимов отрисовки мгновенная/покадровая;
 F4, Alt +F4  -наложение/снятие координатной сетки;
 F5, Alt +F5  -включение/выключение коррекции на длину и радиус фрезы;
 F6, Alt +F2  -вкл/выкл полной отрисовки в режиме "фиксация цикла";
 F7, Alt +F7  -замер расстояния;
 F8, Alt +F8  -установка системы отсчета;
 F9, Alt +F9  -управление цветом;
 F10,Alt +F10 -управление отрисовкой кадров подвода/отвода;
 Select       -задание нового окна и перерисовка картинки в новом окне;
 Ctrl +      -перерисовка картинки в предыдущем окне;
 Ctrl +      -перерисовка картинки в последущем окне;
 Home         -перерисовка картинки в первом (исходном) окне;
 End          -перерисовка картинки в последнем окне;
 Enter        -перерисовка картинки в текущем окне;
 Esc          -выход из графического режима

Функции графического режима

Одна из основных функций графического режима, функция "Окно" обеспечивает
 многократное увеличение участков изображения, с запоминанием последних
 10 окон по каждой плоскости;

Если удерживать в нажатом положении клавишу Alt -в верхней строке
 высвечивается строка-подсказка в которой отражены функции графического
 режима, задающие режим отрисовки:

 F1Помощь F2Плоскость F3Шагами F4Сетка F5Фреза F6Полная F7Замер F8UAO
 F9Цвет F0G0

 Подсветка "горячих клавиш" сигнализирует об активности указанной функции.
 На момент загрузки нового файла (7.4) функции автоматически
  устанавливаются в следующее "исходное" состояние:

 F3   -режим "Шагами" выключен;
 F4   -режим "Сетка" включен;
 F5   -режим "Фреза" включен
 F6   -режим "Полная" выключен;
 F7   -режим "Замер" выключен;
 F8   -режим "UAO" выключен;
 F9   -режим "Цвет" включен;
 F10  -режим " G0" включен

Рассмотрим работу функций более подробно.

@7.5.1  Функция "окно"

Данная функция позволяет многократно увеличивать любой участок
 изображения, для этого:
 ■ установите курсор в один из углов выбранной области и нажмите
   клавишу Select";
 ■ переместите курсор в диагонально противоположный угол и повторно
   нажмите "Select".

В результате -указанная часть изображения будет отрисована во весь экран.
Данная операция может выполняться многократно, до тех пор пока цена
 деления одного пиксела экрана не станет меньше 0.1 мкм. Первоначальная
 картинка, "исходное" окно, рисуется в области рабочих перемещений станка.
Соотношение масштабов по установленным осям всегда сохраняется 1:1.

Система запоминает установки последних 10 окон в каждой плоскости.
Для перехода в предыдущее окно данной плоскости нажмите  -Ctrl+ .
Для перехода в последующее окно данной плоскости нажмите -Ctrl+ .
Для возврата в исходное окно нажмите клавишу -Home.
Для перехода в последнее выбранное окно данной плоскости нажмите -End.
Для перерисовки текущего окна нажмите клавишу -Enter.

Номер текущего окна отображается в верхнем левом углу экрана вместе
 с адресами осей, составляющих текущую плоскость.

@7.5.2  Функция "Помощь"

В окне "Помощь" предоставляется справочная информация
о работе системы по всем разделам (см. Глава 4).

Команда F1 с клавиатуры.
При поступлении команды, система активизирует окно "Помощь"
 в режиме "каталог".

Команда Alt + F1 с клавиатуры.
При поступлении команды, система активизирует окно "Помощь", повторяя
 вывод страницы, которая была активна при последнем обращении к окну.

Вывод информации функции "Помощь" осуществляется в текстовом режиме,
 по окончании работы функции, система восстанавливает текущую картинку
 графического режима.

@7.5.3  Функция "Плоскость"

Команда F2 или Alt + F2 с клавиатуры.

По данной команде система устанавливает новую плоскость отрисовки.
Выбор осей новой плоскости осуществляется путем последовательного
 перебора адресов станка, составляющих его координатные оси:

 XY ("исходная"), XZ,YZ  -для 3 осевого станка с адресами XYZ
 XY ("исходная"), XZ,XC,YZ,YC,ZC  -для 4 осевого станка с адресами XYZС
 XY ("исходная"), XZ,XA,XB,YZ,YA,YB,ZA,ZB,AB  -для 5 осевого станка
    с адресами XYZAB

Если текущая плоскость последняя в своем ряду -следующей будет выбрана
"исходная плоскость" и.т.д.

Отрисовка выполняется в последнем, ранее установленном масштабном окне
 выбранной плоскости, все атрибуты отрисовки (шаг, фреза, полная, цвет,
 UAO, G0) сохраняются. Если смена плоскости выполнена при активной опции
 "Замер" -данная опция автоматически выключается.

@7.5.4  Функция "Шагами"

Команда F3 или Alt + F3 с клавиатуры.

По данной команде система высвечивает в верхней строке текст исполняемого
 кадра и входит в "шаговый" режим отрисовки, в котором наряду с командами
 (7.5.2) исполняются  команды управления шагом:

 PgDn         -отрисовать следующий кадр;
 Shift + PgDn -отрисовать 20 последующих кадров;
 Ctrl + PgDn  -отрисовать 200 последующих кадров;
 PgUp         -отрисовать все кадры текущей подпрограммы.

Текущая точка отображается в режиме мигания.
По окончании отрисовки система автоматически выключает "шаговый" режим.
На любом шаге можно отключить "шаговый" режим, нажатием клавиши F3,
 в этом случае система выполнит "мгновенную" (со скоростью машинной
 обработки) дорисовку траекторий оставшихся кадров.

@7.5.5  Функция "Сетка"

Команда F4 или Alt + F4 с клавиатуры.

По данной команде система включает/выключает режим отображения
 координатной сетки с последующей перерисовкой в текущем окне.

@7.5.6  Функция "Фреза"

Команда F5 или Alt + F5 с клавиатуры.

По данной команде система включает/выключает режим
 "коррекция на инструмент" с последующей перерисовкой в текущем окне.

В режиме "включено" -система отображает траектории движения,
 с теми значениями коррекции, как они заданы в управляющей программе.
В режиме "выключено" -система отображает траектории движения, посчитанные
 с нулевыми значениями коррекции на радиус и длину инструмента,
 что позволяет оценить истинные контуры детали.

Если управляющая программа загружена в память-
 режим "выключено" блокируется.

@7.5.7  Функция "Полная"

Команда F6 или Alt + F6 с клавиатуры.

По данной команде система включает/выключает режим отображения ранее
 отработанных кадров программы, с последующей перерисовкой в текущем окне.
Команда активна, если управляющая программа загружена в память машины и
 находится в состоянии "фиксация цикла" (2.2.4), в этом случае:

 ■ если функция "включена" -выполняется отрисовка, начиная с первого
   кадра УП, причем все кадры расположенные выше кадра "фиксации"
   изображаются затененным серым цветом, независимо от состояния
   функции "Цвет", начиная с кадра "фиксации", отрисовка ведется в
   обычном режиме.
 ■ если функция "выключена" -отрисовка ведется в обычном режиме,
   начиная с кадра "фиксации".

@7.5.8  Функция "Замер"

Функция предназначена для замера расстояния между двумя точками в
 текущем окне. Порядок замера следующий:

 ■ установите курсор в первую "исходную" точку и нажмите клавишу
   F7 или Alt + F7, в верхней строке появится индикация
   "Длина отрезка-    0.000 мм";
 ■ перемещая курсор, котролируйте значение в верхней строке, оно равно
   длине отображаемого отрезка, (от "исходной" точки до точки
   перекрестия курсора) спроекцированного на текущую плоскость.
 ■ повторно нажмите клавишу F7 или Alt+ F7 для выхода из функции "замер".

Для точного позиционирования курсора пользуйтесь клавишами Shift + .
При смене окна происходит автоматический выход из функции "Замер".

@7.5.9  Функция "UAO"

Команда F8 или Alt + F8 с клавиатуры.

По данной команде в верхней строке экрана появится запрос -
 "Укажите номер UAO:  n", где  n -номер текущего UAO. Пользуясь командами
 редактора строки укажите номер точки из таблицы UAO (5.1), относительно
 которой в дальнейшем будут отображатся координаты и шкалы во всех
 плоскостях.

После ввода значения -запрос исчезает, система выполняет перерисовку
 в текущем окне. Установленное значение UAO отображается в левом нижнем
 углу экрана. В строке-подсказке функция UAO подсвечивается, если текущее
 значение UAO -не равно 0.

@7.5.10 Функция "Цвет"

Команда F9 или Alt + F9 с клавиатуры.

По данной команде система включает/выключает режим "цвет пользователя"
 с последующей перерисовкой в текущем окне.

 ■ если режим "включен" -изображение траекторий ведется цветом, заданным
   в УП программистом -технологом с помощью оператора COL (8.9.4).
 ■ если режим "выключен" -изображение траекторий ведется "системным"
   цветом и не зависит от установок оператора COL.
"Системный" цвет предусматривает выбор цвета отрисовки в соответсвии
 с типом перемещения:
     	зеленым -команды подвода-отвода, быстрый ход (G0);
  	желтым  -линейная интерполяция,  рабочий ход (G1);
	голубым -круговая интерполяция,  рабочий ход (G2,G3);

Система автоматически устанавливает цвет "системный" в начале каждой
 управляющей программы, поэтому если в УП не запрограммированы
 операторы COL -переключение состояния данного режима не приведет
 к изменению цветов отрисовки.

@7.5.11 Функция "G0"

Команда F10 или Alt + F10 с клавиатуры.

По данной команде система включает/выключает режим "холостой ход"
 с последующей перерисовкой в текущем окне.

 ■ если режим "включен" -траектории холостого хода, заданные кодом G0,
   отрисовываются в обычном порядке;
 ■ если режим "выключен" -траектории холостого хода не отрисовываются;

@7.6  Компиляция управляющей программы

Команда F5 с клавиатуры

По данной команде производится проверка УП на предмет правильности
 написания, соблюдения форматов кадров (Глава 8), контролируется условие,
 что значения координат, подач и др. параметров находятся в диапазонах,
 установленных в файле конфигурации BASE.INI (см. Приложение А).

Если в УП обнаружена ошибка:
 ■ система прерывает компиляцию;
 ■ указывает курсором местонахождение ошибки в файле;
 ■ выдает номер и текст ошибки.

Если все условия выполняются, система выдает заставку об успешной
 компиляции (см. Рис 7.3) и запрашивает подтверждение на постановку
 текущей УП к исполнению.

                                            Рис 7.3
 ┌─────────────────── Сообщение ────────────────────┐
 │                                                  │
 │  Успешная компиляция.                            │
 │  Создать управляющую программу 000716.ISO?       │
 │                                                  │
 │ ------------------------------------------------ │
 │                                                  │
 │               Yes               No               │
 │                                                  │
 └──────────────────────────────────────────────────┘

Если нажата клавиша N -система снимает заставку и возвращается в режим
 редактирования.
Если нажата клавиша Y  -управляющая программа с данным именем загружается
 в память машины и становится готовой к отработке.

Для формирования загрузочного модуля УП, система использует значения,
 установленные в таблицах UAO, DL и сохраняемых Е -параметрах на момент
 загрузки. Если какие-либо из указанных параметров необходимо изменить
 по ходу программы -после внесения новых значений выполните повторную
 компиляцию УП.

С момента постановки УП на исполнение "Редактор" начинает работать в
 режиме "просмотр",  в нем блокируются все функции, которые могут привести
 к изменению кода загруженной управляющей программы. В нижней строке
 подсказке заблокированные коды обозначаются пустым прямоугольником.
Для возвращения "Редактора" в штатный режим, необходимо снять УП с
 исполнения командой Alt + F10.

@7.7  Поиск контекста

Команда F6 с клавиатуры

На экране появляется меню "Поиск" (см. Рис 7.4), содержащее командную
 строку "Текст".
                                                    Рис 7.4
 ┌───────────────────────── Поиск ───────────────────────────┐
 │                                                           │
 │  Текст : E35_                                             │
 │                                                           │
 └───────────────────────────────────────────────────────────┘

Наберите в командной строке необходимый контекст, используя команды
 редактора строки (3.2) и нажмите клавишу "Enter", меню "Поиск" исчезнет,
 на экране отобразится файловая страница с выделенным искомым текстом.
Для продолжения поиска заданного контекста используйте команду "Alt+L"
 из главного меню. Для выхода из опции "Поиск" в главное меню нажмите
 клавишу "Esc".

Поиск ведется от строки, помеченной курсором, до конца файла.
Система выдает сообщение "Указанный текст не найден", если на указанном
 участке файла обнаружить заданный контекст не удалось.

Максимальная длина искомого текста -48 символов.
В строке могут быть заданы любые ASCII -символы в т.ч. пустые.

@7.8  Разметка блока редактирования

Команда F7 с клавиатуры

Данная команда позволяет выделить в файле УП группу строк, называемых
 блоком редактирования, с которым в дальнейшем могут выполняться операции
 копирования, переноса, удаления, отрисовки, копирования в буфер и.т.д.

Подведите курсор к нужной строке и укажите, командой F7 строку-
 начало блока, подобным образом укажите строку -конец блока,
 помеченные строки выделятся желтым текстом на красном фоне.

Разметку можно производить как сверху вниз так и снизу вверх.
Если блок уже помечен, нажатие клавиши F7 начинает новую разметку,
 предыдущая разметка при этом отменяется.
Полностью снять разметку можно командой Alt + F7.

Командами Shift+ , Shift+  можно корректировать уже обозначенную
 разметку, либо самостоятельно выполнить новую разметку.

Для корректировки верхней границы:
 ■ установите курсор на первую помеченную строку;
 ■ клавишами Shift+  переместите верхнюю границу разметки
   до нужной строки.

Для корректировки нижней границы:
 ■ установите курсор на строку, следующую за последней помеченной;
 ■ клавишами Shift+  переместите нижнюю границу разметки до
  нужной строки.

Если курсор не находится в указанных позициях, или разметка отсутствует-
 по командам Shift+ , Shift + система выполняет новую разметку, начиная
 с текущей строки.

@7.9  Вставка строки

Команда F8 с клавиатуры

По данной команде выполняется вставка пустой строки перед строкой,
 на которую указывает курсор. Если объем памяти недостаточен для
 размещения новой строки, система блокирует исполнение команды и выдает
 в рабочей строке сообщение "Недостаточно памяти".

@7.10 Копирование блока редактирования

Команда F9 с клавиатуры

По данной команде выполняется вставка группы строк помеченного блока
 редактирования (7.8) перед строкой, на которую указывает курсор,
 при этом предыдущая разметка блока редактирования снимается и
 переносится на вновь образованные строки. Копирование может выполняться
 в том числе и внутрь помеченного блока редактирования. Если объем памяти
 недостаточен для размещения новой группы строк, система блокирует
 исполнение команды и выдает в рабочей строке сообщение
 "Недостаточно памяти". При отсутствии разметки блока редактирования
 (7.8) система выдает сообщение "Блок не помечен".

@7.11 Перенос блока редактирования

Команда F10 с клавиатуры

По данной команде выполняется вставка группы строк помеченного блока
 редактирования перед строкой, на которую указывает курсор,
 с одновременным удалением исходных строк, при этом разметка блока
 редактирования переносится на вновь образованные строки. Перенос внутрь
 помеченного блока редактирования не приводит к изменениям в файле.

При отсутствии разметки блока редактирования (7.8) система выдает
 сообщение "Блок не помечен".

@7.12 Копия файла

Команда Alt + F2 с клавиатуры

По данной команде производится запись текущего файла в архивный каталог
 или на дискету с указанием нового имени файла.

На экране появляется меню "Копия файла" (см. Рис 7.5), содержащее рабочую
 строку "Новое имя".
                                                    Рис 7.5
 ┌────────────────────── Копия файла ────────────────────────┐
 │                                                           │
 │  Новое имя : 000716.ISO_                                  │
 │                                                           │
 └───────────────────────────────────────────────────────────┘

Задайте в рабочей строке, используя команды редактора строки (3.2),
 новое имя файла в соответствии с принятым форматом (см. ниже) и нажмите
 клавишу "Enter". В результате, в архив или на дискету будет записан
 текущий файл с указанным новым именем, это-же имя будет присвоено и
 самому текущему файлу в редакторе.

Система запрашивает подтверждение на выполнение копии, если файл с
 указанным именем уже существует в архиве или на дискете.
Для выхода из меню "Копия файла" в главное меню нажмите клавишу "Esc".

Формат структуры "имя файла"
Имя файла -структура, состоящая из двух частей, собственно имени и
 расширения имени, разделенных друг от друга символом ".".

Имя -алфавитно-цифровой код, являющийся обязательной составляющей
 "имени файла", содержит 1..8 символов.
Расширение -алфавитно-цифровой код, содержащий 1..3 символов, служит
 для организации групп файлов, связанных общими признаками для облегчения
 их поиска в каталоге. Не является обязательной составляющей имени файла.
Для записи файла на дискету укажите перед именем файла контекст "A:",
 иначе запись будет производится в архивный каталог.

Примеры правильного задания имени файла:

 L0000000, NONAME, _FREZ1, 000675, A:B, A:PROGRAM5      -без расширения;
 L0000000.UP, _FREZ1.046, 000675.BAK, NONAME.0, A:B.ISO -с расширением;

@7.13 Организация нового файла в редакторе

Команда Alt + F3 с клавиатуры

По данной команде текущий файл выгружается (7.32), после чего в редактор
 устанавливается пустой файл со стандартным именем NONAME без расширения
 (7.12).

Рекомендуется не сохранять файлы УП с именем NONAME, а присваивать файлам
 оригинальные имена, используя опцию "Копия файла" (7.12).

@7.14 Графика траекторий блока редактирования

Команда Alt + F4 с клавиатуры

Система активизирует графический режим и работает аналогично (7.5),
 с той разницей, что во всех режимах отрисовываются только траектории
 кадров, выделенные как блок редактирования (7.8).

При отсутствии разметки блока редактирования система выдает
 сообщение "Блок не помечен".

@7.15 Начало программы с произвольного кадра

Команда Alt + F5 с клавиатуры

По данной команде система загружает текущую УП в оперативную память
 машины и устанавливает режим "фиксация цикла" в кадре на который
 указывает курсор. Если указанный курсором кадр по ходу программы
 выполняется один раз -система выдает запрос на подтверждение команды
 (см. Рис. 7.6).
                                            Рис 7.6
 ┌──────────────────── Точка ───────────────────────┐
 │                                                  │
 │  Фиксировать с указанного кадра                  │
 │  управляющую программу 000716.ISO?               │
 │                                                  │
 │ ──────────────────────────────────────────────── │
 │                                                  │
 │               Yes               No               │
 │                                                  │
 └──────────────────────────────────────────────────┘

нажмите:
 ■ клавишу Y для "фиксации цикла" и выхода в "главное меню" редактора;
 ■ клавишу N для выхода в "главное меню".

Перед запуском отработки программы установите координаты станка в точку
 "фиксации", c помощью режима PROF (3.4.7).

Если указанный курсором кадр выполняется многократно
 (кадр подпрограммы, охваченный циклами или операторами перехода)
 система выдает заставку (см. Рис 7.7) и предлагает в графическом
 режиме указать, в каком месте исполнения данного кадра надо
 произвести "фиксацию цикла".
                                             Рис 7.7
 ┌──────────────────── Точка ───────────────────────┐
 │                                                  │
 │  Кадр отрабатывается многократно.                │
 │  Продолжить поиск в графическом режиме?          │
 │                                                  │
 │ ──────────────────────────────────────────────── │
 │                                                  │
 │               Yes               No               │
 │                                                  │
 └──────────────────────────────────────────────────┘

нажмите:
 ■ клавишу Y для входа в графический режим,
 ■ клавишу N для выхода в "главное меню"

В графическом режиме для поиска нужной точки используется функция "Шагами".
В верхней строке высвечивается кадр, в котором нужно произвести
 "фиксацию цикла". При нажатии клавиши PgDn система отображает часть
 программы от начала файла до первой точки исполнения указанного кадра,
 при следующем нажатии PgDn -до второй точки и.т.д  до конца файла.
 Текущая точка отображается в режиме мигания. В меню-подсказке,
 не используемая в данном режиме функция "Фреза" заменена функцией "Точка".

Для "фиксации цикла" выбирите нужную точку исполнения заданного кадра
 и нажмите клавишу F5 или Alt+ F5 клавиатуры.
В верхней строке появится запрос на подтверждение команды-
 "Фиксировать УП с указанной точки?  <Y>-Да,  <N>-Нет", нажмите:

 ■ клавишу Y для "фиксации цикла" и выхода в "главное меню" редактора;
 ■ клавишу N для продолжения работы в графическом режиме.

За исключением указанных выше изменений команд PgDn и F5 (Alt+ F5)
 работа "графики" в режиме поиска точки не отличается от работы в
 режиме просмотра траекторий (7.5, 7.14). Чтобы визуально различить
 эти два режима -подсветка координат задающих плоскость, и функций
 в строке-подсказке в режиме поиска точки выполняется красным цветом,
 в режиме просмотра траекторий -зеленым.

Перед запуском отработки программы установите координаты станка в точку
 "фиксации",c помощью режима PROF (3.4.7).

@7.16 Замена контекста

Команда Alt + F6 с клавиатуры

На экране появляется меню "Замена" (см. Рис 7.8), содержащее две
 командные строки с именами "Текст" и "Новый".
                                                    Рис 7.8
 ┌──────────────────────── Замена ───────────────────────────┐
 │                                                           │
 │  Текст : 100.234_                                         │
 │ ───────────────────────────────────────────────────────── │
 │  Новый : 101.062                                          │
 │                                                           │
 └───────────────────────────────────────────────────────────┘

Наберите, используя команды редактора строки (3.2), в первой строке текст
 подлежащий замене, а во второй строке текст, на который будет заменен
 существующий. В командных строках могут быть заданы любые ASCII -символы
 в т.ч. пустые, количество символов в строке "Текст" может не совпадать
 с количество символов в строке "Новый".

В строке "Текст", кроме команд редактора строки (3.2) выполняются
 следующие команды :
 клавиши  , Alt + Н, Enter -переход в строку "Новый";
 клавиша  Esc               -выход из меню "Замена".

В строке "Новый", кроме команд редактора строки (3.2) выполняются
 следующие команды :
 клавиши , Alt+Т    -переход из строки "Новый" в строку "Текст";
 клавиша Enter       -запуск режима пошагового поиска и замены;
 клавиша Esc         -выход из меню "Замена".

После нажатия клавиши "Enter" в строке "Новый", меню "Замена" исчезает,
 система выполняет поиск заданного текста начиная со строки, помеченной
 курсором до конца файла. Если поиск завершился успешно, система
 отображает страницу с выделенным контекстом и в строке сообщений выдает
 запрос на дальнейшие действия, выполните одну из следующих команд:

 Y    -заменить найденный текст на новый и продолжить поиск;
 N    -не заменять найденный текст и продолжить поиск;
 Esc  -выйти из режима пошагового поиска и замены.

Процесс автоматически прекращается, если строка поиска не может быть
 обнаружена, в этом случае система выдает сообщение
 "Указанный текст не найден".

@7.17 Снятие разметки блока редактирования

Команда Alt + F7 с клавиатуры

Данная команда снимает разметку блока редактирования (7.8),
если она была ранее выполнена.

@7.18 Удаление строки

Команда Alt + F8 с клавиатуры

По данной команде выполняется удаление строки, на которую указывает курсор.
Если текущая строка является последней строкой файла, система выполняет
 очистку данной строки.

@7.19 Удаление блока редактирования

Команда Alt + F9 с клавиатуры

По данной команде выполняется удаление группы строк, помеченных как
 блок редактирования (7.8).

При отсутствии разметки блока редактирования система выдает сообщение
 "Блок не помечен", при нормальном завершении команды выдается
 сообщение "Блок удален".

@7.20 Нумерация кадров файла

Команда Alt + F10 с клавиатуры

Данная опция позволяет пронумеровать кадры по всему файлу управляющей
 программы, кадры подпрограмм и основной программы нумеруются в общем
 порядке. Для нумерации только кадров основной программы пользуйтесь
 командой Ctrl+F10 (7.31).

Первому сверху кадру присваивается номер 1, далее кадры нумеруются
 сверху вниз по файлу с шагом 1, паралельно с нумерацией выполняется
 автоматическое выравнивание текста программы по левому краю. Кадры
 комментарии и пустые строки не нумеруются. Для выполнения нумерации
 наличие в кадрах адреса N необязательно.

При нормальном завершении команды система выдает сообщение
 "Выполнена нумерация кадров".
Команда активна только в режиме "редактирование".

@7.21 Снятие УП с исполнения

Команда Alt + F10 с клавиатуры

По данной команде система выдает заставку (см. Рис 7.9) и запрашивает
 подтверждение на снятие с исполнения УП.

                                           Рис 7.9
 ┌─────────────────── Внимание ─────────────────────┐
 │                                                  │
 │  Загружена управляющая программа 000716.ISO      │
 │  Удалить?                                        │
 │                                                  │
 │ ──────────────────────────────────────────────── │
 │                                                  │
 │               Yes               No               │
 │                                                  │
 └──────────────────────────────────────────────────┘

Нажмите:
 ■ клавишу Y для снятия УП с исполнения, и возвращения в "главное меню",
   с этого момента "Редактор" переходит из режима "просмотр" в режим
   "редактирование", текущая управляющая программа остается загруженной
   в "Редакторе".
 ■ клавишу N для возвращения в "главное меню".

Заставка  (Рис 7.9) в обоих случаях снимается.

@7.22 Вызов таблицы UAO

Команда Ctrl + F1 с клавиатуры

По данной команде система выдает таблицу UAO, позволяющую контролировать
 параметры точек привязки, либо установить новые значения.
Заставка и все команды вызываемого меню аналогичны (5.1).

@7.23 Вызов таблицы DL

Команда Ctrl + F2 с клавиатуры

По данной команде система выдает таблицу DL, позволяющую контролировать
 параметры коррекции на радиус и длину инструмента, либо установить
 новые значения.
Заставка и все команды вызываемого меню аналогичны (5.2).

@7.24 Вызов таблицы Е -параметров

Команда Ctrl + F3 с клавиатуры

По данной команде система выдает таблицу основных Е -параметров (8.8),
 позволяющую контролировать обнуляемые (Е0..Е99) и необнуляемые
 (Е100..Е199) системные переменные, либо установить новые значения.
Заставка и все команды вызываемого меню аналогичны (5.3).

@7.25 Вызов буфера необнуляемых Е -параметров

Команда Ctrl + F4 с клавиатуры

Часто, особенно во время отладки программы с использованием
 параметрического программирования (8.8), возникает необходимость
 контролировать состояние Е-параметров на момент возникновения ошибки
 компиляции и др. случаях. Контроль обнуляемых переменных (Е0..Е99)
 ведется из таблицы Е -параметров (7.24). Значения необнуляемых
 параметров (Е100..Е199) в процессе компиляции не меняются, они
 будут занесены в данную таблицу по ходу отработки программы. Для
 контроля необнуляемых переменных в процессе компиляции создан
 "буфер" необнуляемых Е -параметров (индексированный массив 100..199).
 В начале компиляции программы в "буфер" копируются значения необнуляемых
 переменных, по ходу компиляции эти значения изменяются так как
 запрограммировано в УП, прервав компиляцию в любой точке инструкцией
 (HLT) или по ошибке можно контролировать правильность присвоения
 указанных параметров.

По данной команде система выдает меню "Е -буфер" (см. Рис 7.10),
 в котором отражены значения "буфера" необнуляемых параметров на
 текущий момент компиляции.

                   Рис 7.10
 ┌────── E -буфер ─────────┐
 │                         │
 │  100             0.0000 │
 │  101             0.0000 │
 │  102             0.0000 │
 │  103             0.0000 │
 │  104             0.0000 │
 │  105             0.0000 │
 │  106             0.0000 │
 │  107             0.0000 │
 │  108             0.0000 │
 │  109             0.0000 │
 │                         │
 └─────────────────────────┘

Команды, исполняемые в меню "Е-буфер":
 PgDn   -следующая страница;
 PgUp   -предыдущая страница;
 Home   -первая страница;
 End    -последняя страница;
 Esc    -выход в главное меню.

При загрузке каждой новой программы -"буфер" обнуляется.

@7.26 Сборка внешних подпрограмм

Команда Ctrl + F5 с клавиатуры

По данной команде система обновляет тексты внешних подпрограмм,
 подключаемых инструкцией # (8.6).

Выполняется удаление "старого" текста внешних подпрограмм, от начала
 файла до первого оператора подключения (#). Согласно программированным
 операторам подключения заново формируются тексты внешних подпрограмм,
 взятые из файлов -источников и помещаются в начало текущего файла.
 Если при выполнении "сборки" возникла ошибка -она высвечивается в строке
 сообщений, курсор указывает оператор в котором произошла ошибка.
 Если операция выполнена успешно -система выдает сообщение
 "Выполнена сборка внешних подпрограмм" и позиционирует курсор в
 начало файла.

@7.27 "Журнал" работы станка

Команда Ctrl + F6 с клавиатуры

По данной команде система вызывает меню "Журнал" в котором отражена
 хронология работы станка за последний период (примерно 4..6 месяцев).
 Меню и выполняемые в нем команды аналогичны п.3.3.8.

@7.28 "Архив" работы станка

Команда Ctrl + F7 с клавиатуры

По данной команде система вызывает меню "Архив" в котором отражена
 хронология работы станка за период, предшествующий записям в "Журнал"
 работы станка.
 Меню и выполняемые в нем команды аналогичны п.3.3.9.

@7.29 Копирование в текстовый буфер

Команда Ctrl + F8 с клавиатуры

По данной команде система выполняет копирование группы строк, выделенных
 как блок редактирования (7.8) в специальный текстовый файл Cache.tmp,
 расположенный  на жестком диске.

Объем копируемого блока не ограничивается.
 При успешном сохранении выдается сообщение "Буфер сохранен", в противном
 случае в окне сообщений высвечивается соответствующая ошибка.
 При отсутствии разметки блока редактирования система выдает сообщение
 "Блок не помечен". Копированный в текстовый буфер фрагмент хранится в
  нем, пока не будет перезаписан следующей командой Ctrl + F8.
 При включении системы текстовый буфер очищается.

Операция выполняется совместно с командой "Вставка из текстового буфера"
 и позволяет переносить фрагменты текста из одного файла- в другой, а
 также выполнять копирование, наряду с командой F9 (7.10).

@7.30 Вставка из текстового буфера

Команда Ctrl + F9 с клавиатуры

По данной команде система выполняет вставку группы строк ренее
 копированных в текстовый файл Cache.tmp (7.29), перед строкой,
 помеченной курсором. При успешном выполнении система выдает сообщение
 "Буфер копирован", в противном случае высвечивается соответствующая
 ошибка. При отсутствии данных в текстовом буфере выдается сообщение
 "Буфер пуст". Вставленный блок автоматически размечается как блок
 редактирования.

Операция выполняется совместно с командой "Копирование в текстовый буфер"
 и позволяет переносить фрагменты текста из одного файла- в другой,
 а также выполнять копирование, наряду с командой F9 (7.10).

@7.31 Нумерация кадров основной программы

Команда Ctrl + F10 с клавиатуры

Данная опция позволяет пронумеровать только кадры основной программы,
кадры внешних и внутренних подпрограмм не нумеруются.
Для нумерации всех кадров файла пользуйтесь командой Alt+F10 (7.20).

Первому кадру, следующему за символом % присваивается номер 1, далее
 кадры нумеруются сверху вниз по файлу с шагом 1, паралельно с
 нумерацией выполняется автоматическое выравнивание текста программы
 по левому краю. Кадры комментарии и пустые строки не нумеруются.
 Для выполнения нумерации наличие в кадрах адреса N необязательно.

При нормальном завершении команды система выдает сообщение
"Выполнена нумерация кадров".
Команда активна только в режиме "редактирование".

@7.32 Выход из функционального режима "Редактор"

Команда Alt + X с клавиатуры

По данной команде система завершает работу в окне "Редактор"
и возвращается в окно "главное" системы.

Если в текущем файле имеется несохраненная информация, система отображает
 на экране окно "Сообщение" (см. Рис 7.11).

                                        Рис 7.11
 ┌───────────────── Сообщение ───────────────────┐
 │                                               │
 │  Файл 000716.ISO был изменен. Сохранить?      │
 │                                               │
 │ ───────────────────────────────────────────── │
 │                                               │
 │          Yes         No         Esc           │
 │                                               │
 └───────────────────────────────────────────────┘

В окне выдается предупреждение о наличии в выгружаемом файле
 несохраненной информации и предлагается выполнить одну
 из следующих команд:

 Y    -сохранить информацию в текущем файле и выйти из "Редактора";
 N    -выйти из "Редактора" без сохранения информации;
 Esc  -отказаться от выхода, продолжить работу в "Редакторе".

Указанное окно появляется при любой попытке выгрузить файл, в котором
были сделаны не сохраненные изменения (7.4, 7.13).
@8.  ПРОГРАММИРОВАНИЕ

В данной главе дано описание языка программирования на котором в
 системе "АЛЬФА" ведется подготовка управляющих программ.

@8.1  ДВИЖЕНИЕ ОСЕЙ

Направление движения осей станка предусмотрено Стандартом EIA RS 267
Это направление определяется движением инструмента относительно детали,
независимо от того, кто из них будет двигаться.

@8.2  ИЗЛОЖЕНИЕ ПРОГРАММЫ

Изложение программы, т.е. всей необходимой геометрической и технологической
информации для осуществления предусмотренного цикла обработки, требует от
программиста проведения подготовительной работы, которая состоит из
следующих операций:

а) Определить на чертеже начальную точку осей (ноль детали) относительно
    которой будут соотнесены все перемещения при обработке детали.
    Координаты начальной точки  должны  устанавливаться в соответствии с
    фактическим масштабом детали.
б) Определить на чертеже точки отсчета и точки зажима самой детали.
в) Убедиться, что все операции, которые необходимо выполнить находятся в
    рабочей зоне станка, на котором будет производиться обработка.
г) Составить список требуемых инструментов в строгой последовательности,
    необходимой для программы.
д) Определить технологические условия резки (скорость вращения шпинделя
    и скорость подачи) для каждого инструмента.
    Указанные данные заносятся программистом в карточку инструмента.
е) Для станков, реализующих перемещения в угловых координатных осях,
    необходимо произвести замеры реальных расстояний от торца шпинделя
    до оси подвеса каждой из координатных осей, также надо определить
    длину инструмента в оправе, для каждого инструмента, участвующего
    в процессе обработки детали.

Указанные параметры будут необходимы программисту при составлении
управляющей программы (УП).

@8.3  ВВОД ПРОГРАММЫ В СИСТЕМУ

Управляющая программа составляется программистом вручную или с помощью
 автоматизированных систем подготовки.
Тип и уровень сложности указанных систем не регламентируется, выдаваемый
 ими конечный файл, должен быть составлен в соответствии с кодировками и
 форматами, принятыми в системе "АЛЬФА", которые изложены в данной главе.

Составленная программа обработки детали (УП) должна быть перенесена на
 жесткий диск стойки управления посредством копирования с дискеты 3.5
 дюйма или передачей по сети, если таковая установлена.

Файлы УП хранятся на диске  C:  в папке \ISO, которая находится в
 базовой папке \ALPHA.
Максимальное количество файлов, одновременно находящихся в папке \ISO
 составляет -1024 файла.

Копирование может выполнятся как с помощью стандартных РС- средств
 (Norton Commander, DOS, Windows) так и с помощью функций системы
  "АЛЬФА", описанных в главе 7.

@8.4  ФОРМАТ ИНФОРМАЦИИ

Для последующего изложения порядка программирования необходимо ввести
 следующие термины:

Символ -цифра, буква или знак, используемые для выражения информации.
 Пример:   I, G, %, X, 7, ) ...

Используемые при составлении УП символы приведены в таблице 8.4.1.
Исключение составляют символы, стоящие в комментирующих кадрах за
 знаком ; , а также передаваемые функцией DIS в качестве сообщений.
В указанных случаях никаких ограничений на используемые характеры
 не налагается.
Символ  "_" считается алфавитным.


                                       Таблица 8.4.1
 ┌──────────────────────────────────────────────────┐
 │  ТИП  СИМВОЛА   │           СИМВОЛЫ              │
 ├──────────────────────────────────────────────────┤
 │    Алфавитные   │   ABCDEFGHIJKLMNOPQRSTUVWXYZ_  │
 │      Цифровые   │   0123456789                   │
 │         Знаки   │   +-*/=.,'"()%;                │
 │        Пробел   │   Пустой символ                │
 └──────────────────────────────────────────────────┘

Адрес  -буква, которая определяет тип инструкции.
Пример:    N, G, X, Y, Z, A, B, F, M ...

Слово  -выражение, состоящее из адреса и следующего за ним цифрового
 значения, между адресом и цифровым значением использование одного
 или нескольких пустых символов (пробелов) недопустимо.
Цифровые значения могут быть выражены в своих единицах измерения безо
 всякого специального формата.
Если цифровые значения имеют десятичную часть, она должна быть записана
 после десятичной точки. Примеры правильного программирования слов:

N00002,  N2,  X283.293847,  X+283.29,  Y-26354, Y-2937.
Z-.782  Z0.782  G01  G1  M14  T26.99  F6000  S800

Кадр  -строка, содержащая набор слов, определяющих операции, которые
 необходимо выполнить в процессе обработки детали.
Управляющая программа состоит из последовательности кадров, которые
 позволяют описать цикл обработки.
Максимальная длина кадра -79 характеров.
Никаких специальных знаков в конце кадра ставить не надо.
Слова в кадре могут идти подряд (без пробелов), а могут быть разделены
 произвольным количеством пустых характеров, например:

N001G90X-100.0Y200                 (слова не разделены пробелами)
N001    G90  X-100.0     Y200      (слова разделены пробелами)

Структурно кадр состоит из следующих полей:
 а)  поле коментария;
 б)  поле номера кадра
 в)  поле метки кадра
 г)  рабочее поле кадра

Поля могут присутствовать в кадре поодиночке или одновременно или
 отсутствовать вообще, но в случае их присутствия обязательно следовать
 в указанном выше порядке.
При задании инструкций в режиме ручного ввода кадра (MDI) программирование
 полей а), б), в)  необязательно.

@8.4.1  Поле комментария

Через указанное поле осуществляется оперативное управление активностью
 данного кадра УП.
Если это поле пустое, текущий кадр обрабатывается и исполняется системой.
Если в поле стоит характер  ;   - весь кадр воспринимается системой как
 комментирующий и не подлежит исполнению.
Если в поле стоит характер / -интерпретация кадра зависит от состояния
 системной переменной  USB (5.4.2):
  -если USB= 1  - текущий кадр обрабатывается и исполняется системой.
  -если USB= 0  - кадр воспринимается системой  как комментирующий и
                  не подлежит исполнению.

@8.4.2  Поле номера кадра

Служит для нумерации кадров программы.
Формат устанавливается адресом  N, за  которым следует числовой параметр,
 который задается как целое число из диапазона значений  0..999999.
Поле обязательно программируется во всех кадрах УП, которые не
 обрабатываются, как комментирующие и подлежат исполнению.

Система не накладывает каких-либо ограничений на порядок нумерации кадров,
 однако, для удобства работы оператора, кадры УП рекомендуется нумеровать
 сверху вниз по файлу с постоянным шагом.
Для этих целей в "Редакторе" системы (глава 7) организованы специальные
 опции Nфайл и Nпрогр, выполняющие автоматическую нумерацию кадров УП
 всего файла или основной программы соответственно.

@8.4.3  Поле метки кадра

Позволяет дать символическое имя кадру, которому оно принадлежит.
Имя служит для возможности вызова кадра из различных точек программы с
 помощью инструкций перехода.
В файле нельзя определить белее одной метки с одинаковым именем.

Формат - 1..8 алфавитно-цифровых символа, заключенных в знаки " "
 (двойные кавычки).
В общем случае (если нет инструкций перехода на данный кадр),
 программирование поля необязательно.
Максимальное количество меток в файле -255.

@8.4.4  Рабочее поле кадра

В рабочем поле программируются инструкции:
 ■ кадров ISO;
 ■ кадров присвоения;
 ■ кадров с трехбуквенными кодами;
(см. пункт  8.5  настоящего руководства).
Программирование поля необязательно.

Примеры правильного программирования кадров УП:

;  ЭТО  ПРИМЕР
/  этот кадр пройдет как  кадр-комментарий если  флаг USB= 0
/  однако такие кадры программировать
/  нецелесообразно
;  лучше это  делать, используя знак ;
/ N837  G00  D2   X100  Y100  Z100    F800
  N0283
/                N0283                              X100F200
N999984  "LABEL0"  E84= 293.55594
                                /           N556"N556"
/   N11103    "M01"    (UAO, 10)
N77238 "L1"  S1200 M03 M08
N273       "A73"
N0000001    G2  I-100    J-100  F500
N1    F500
N938  (RPT,E0)
; N1032   X-200 A-2.192
          ;  N24   E45 =  ABS(E22*E8-10.723)+SQR(E14/2.8)
N24   E45 =ABS(   E22  *E8    -10.723)   +      SQR(E14  /   2.8)
N390 "__STOP"    (ESUB)
N990990   "_0000000"   (DIS)
N0  "SUB" (SUB,SUB)
N224  E76=34.521, E150=(E76+E77)/2, E76=E150, E199=ABS(SQR(3.1415*E99))
N1000  E10=0, E11=0, E12=0, E100=0

@8.5  ТИПЫ КАДРОВ

По своему функциональному назначению и по форматам программирования
 кадры можно разделить на следующие типы:

 а) комментирующие кадры
 б) кадры ISO
 в) кадры присвоения
 г) кадры с трехбуквенными кодами


@8.5.1  Комментирующие кадры

Позволяют программисту вводить в УП необходимые фразы, пояснения,
 комментарии, что делает текст программы более читабельным и понятным.
Комментирующие кадры пропускаются во время выполнения программы и не
 выдают посылки оператору.
Формат состоит из последовательности любых характеров, генерируемых
 клавиатурой, причем первым непустым характером в кадре в обязательном
 порядке должен быть знак ;.

Примеры правильного программирования комментирующих кадров:
;  Используем  ЛЮБЫЕ  буквы  ФАП ЕKQ dcaca  вгцй
;  Цифры      3273656    78401234   567890
;  Знаки     " " ! , ! " № ; % : ? * ( ) _ + - / \ < >
      ;  но первый знак  ;  (пробелы не в cчет)

@8.5.2  Кадры ISO

Кадры, инструкции которых предусмотрены Стандартом ISO.
Примеры правильного программирования кадров ISO.

N01 Z-100G90 X-100.000 Y-100. G00 F600
N02 F200 X-300 I-200 J-100 S1000 G2 M3

@8.5.3  Кадры присвоения

Позволяют непосредственно из программы присвоить значения т.н.
 Е- параметрам (8.8), представляющие собой массивы переменных
 необходимые для организации параметрического программирования
 например:

N0  E56= 283.9123
N1  E89 = SQR(E20/7.981)+COS(E34*3.14/180)
N2  E76=34.521, E150=(E76+E77)/2, E76=E150, E199=ABS(SQR(3.1415*E99))
N3  E10=0,E11=0,E12=0,E100=0

@8.5.4  Кадры с трехбуквенными кодами

Это кадры, в которых тип операции, выполнение которой предусмотрено,
 задан трехбуквенной командой (кодом), согласованной со Стандартом
 EIA 1177 B, например:

N0 (RPT,20)
N1 (ERP)
N2 (TMR, 100)
N4 (SUB, L0000)
N5 (BNC, LABEL)
N6 (COL, 5)

@8.6  СТРУКТУРА УПРАВЛЯЮЩЕЙ ПРОГРАММЫ

Файл управляющей программы (УП) обычно состоит из множества кадров.
Система ведет отработку кадров УП в следующем порядке:

@8.6.1  Основная программа

Основная программа начинается за кадром, содержащим единственный знак-
 % и отрабатывается  последовательно кадр за кадром до конца файла.
Никаких специальных знаков в конце файла ставить не надо.

@8.6.2  Внутренние подпрограммы

Выше знака % располагаются подпрограммы данного файла, (если таковые
 организованы), которые начинаются инструкцией (SUB, <имя подпрограммы>)
 и обязательно должны заканчиваться инструкцией (ESUB).

@8.6.3  Внешние подпрограммы

Перед областью внутренних подпрограмм, (если необходимо)
 программируются инструкции подключения внешних подпрограмм
 в следующем формате:

#  <имя файла>  ,  <имя подпрограммы> , ... ... ... <имя подпрограммы>

По данной инструкции система последовательно находит в файле
 <имя файла> перечисленные подпрограммы с именем <имя подпрограммы>
 и вставляет их текст, от строки  (SUB, < имя подпрограммы > ) до
 строки (ЕSUB), в текущий файл выше первой инструкции подключения (#).
Если ни одно <имя подпрограммы> не указано -система вставляет в
 текущий файл все подпрограммы, найденные в файле <имя файла>.
Операция вставки текста подпрограмм в исходный файл выполняется
 автоматически при загрузке файла или по команде "Сборка" (см. Глава 7).
Вставленный текст является временным и не сохраняется при выполнении
 операций записи файла, однако сохраняются инструкции подключения
 внешних подпрограмм.
Порядок работы с текстом внешних подпрограмм такой-же как и с
 внутренними, их можно корректировать, вызывать, компилировать.
Номер кадра с инструкцией  #  не программируется.

Максимальное количество подпрограмм -128 (внешних и внутренних).
Подпрограммы вызываются произвольное количество раз как из основной
 программы, так и из любой другой подпрограммы данного файла с
 помощью инструкции (CLS, < имя подпрограммы >), далее, последовательно
 отрабатываются кадры вызванной подпрограммы до принятия кода ESUB,
 после чего управление возвращается на кадр, следующий за кадром вызова
 подпрограммы.
Подпрограммы в файле не могут иметь одинаковые имена.
Максимальный уровень вложений подпрограмм -5.

Условные и безусловные переходы из одной подпрограммы в другую, а также
 из программы в подпрограмму не допускаются.
Циклы действуют только в теле своей структурной единицы, т.е. каждый
 цикл, открытый в подпрограмме кодом RPT должен быть закрыт в теле
 данной подпрограммы (до кода ESUB).

По окончании отработки файла УП система выдает на дисплей сообщение
 <КОНЕЦ ПРОГРАММЫ> и автоматически переводит внутренний указатель
  отработки на начало файла.
Использование специальных команд (M02,M30) в конце программы необязательно.

Примеры правильной организации файла УП:

; ------------------ Подпрограмма FRAME    Вставленный текст
N010  (SUB,FRAME)                          внешних
....                                       подпрограмм
N040   (ESUB)
; ------------------ Подпрограмма DRILL
N010  (SUB,DRILL)
....
N040   (ESUB)

#  A:\LIB001.LIB, FRAMЕ                    Инструкции подключения
#  LIB002, DRILL                           внешних подпрограмм

N001  (SUB,L00001)   начало L00001         Внутренние подпрограммы
...
N088  (CLS, L00002)  вызов L00002
...
N123  (ESUB)         конец  L00001

N124  (SUB,L00002)   начало L00001
 ...
 ...
 N280  (ESUB)        конец  L00002

%                                          Начало основной программы
...
...                                        Тело основной программы
N200 (CLS,L00001)    вызов L00001
...
N200 (CLS,L00002)    вызов L00002
...
N300 G0X0Y0Z0        последний кадр        Конец основной программы

@8.7  КАДРЫ ISO

Система поддерживает формат программирования:

N G D XYZABCUWV PRIJK F S T MH
 где каждая буква является адресом, задающим операции:

   N            -номер кадра;
   G            -подготовительные функции;
   D            -установка коррекции на R,L инструмента;
   XYZABCUWV    -буквенные обозначения осей;
   PRIJK        -вспомогательные функции;
   F            -подача;
   S            -обороты шпинделя;
   T            -инструмент;
   MH           -технологические функции;

Кадр ISO состоит из последовательности слов с адресами и может содержать:

 ■ 0..4 слов с адресом G ,при условии, что операции взаимно совместимы.
 ■ 0..3 слов с адресами М.
 ■ Все остальные адреса могут быть использованы в одном кадре не более
  одного раза.

Адрес N программируется только с явным числовым параметром, остальные
 адреса могут программироваться либо с числовым параметром, либо с
 использованием основных переменных E -параметров (8.8.1).
С адресами GDTMH используются только целочисленные Е-параметры (Е0..Е9).
Программирование каких либо символов между адресом и символом Е недопустимо.
Первым программируется слово с адресом N и далее адреса
 в произвольном порядке.
Функции М отрабатываются согласно приоритету (8.7.12), если приоритет
 равный, то в порядке следования.

Примеры правильного программирования кадров ISO:

N0  G0  X100 YE45 ZE10
N1 Y255.239 IE55 G2 XE99 JE18 F1000
N2 S1000 GЕ9 G1 A10.000 BE61 FE88 ТЕ7.Е1
N3 G82 XE10 YE20 Z-100 G90 PE25 RE50 FE11
N4  G79 G00 X0 Y0 Z0 A0 B0 C0 U0 W0 V0 M05 M9 M02
N5  G04 G01 G90 G71  XE60  S1000 T4.4 M03 M06

@8.7.1  Номер кадра

Слово с адресом N обязано присутствовать в каждом кадре УП,
содержит числовой параметр целого типа,
диапазон допустимых значений  параметра 0..999999.

Слово с адресом N необязательно программировать при
задании кадра с командной строки в режиме MDI.

@8.7.2  G- операции

Слово с адресом G задает подготовительные операции, устанавливающие
 соответствующие режимы отработки.

Содержит числовой параметр целого типа, или переменную целого типа
 (Е0..Е9), диапазон допустимых значений  параметра 0..99.
В одном кадре допустимо использовать 0..4 слова с адресом G, при условии,
 что эти операции взаимно совместимы.

Коды классифицированы по функциональным признакам на четырнадцать
 модальных групп (см. Таблицу  8.7.1), операции, входящие в одну
 модальную группу являются несовместимыми в одном кадре.

Функции делятся на те, действия которых распространяется на все следующие
 вниз по файлу кадры УП, до тех пор пока не будет запрограммирован
 G- код из той- же модальной группы, и те, действие которых
 распространяется только на тот кадр, в котором они запрограммированы.

В настоящее время в системе "АЛЬФА" поддерживаются коды
 показанные в Таблице 8.7.2.

Совместимость G- функций в кадре отражена в Таблице 8.7.3,
 здесь цифрой 1 обозначены взаимно совместимые операции.
Таблица 8.7.3 вводится в систему через файл GTABLE.INI, записанный
 в специальном битовом формате (см. Приложение А).

 Таблица 8.7.1
 Классификация G- функций по модальным группам

 ┌───────────────────────────────────────────────────────────────────────┐
 │ Группа │ G-операции │ Описание                                        │
 ├───────────────────────────────────────────────────────────────────────┤
 │   a    │ G0..G3     │ Определение движения                            │
 │   b    │ G17..G19   │ Определение плоскости интерполяции              │
 │   c    │ G27..G29   │ Определение динамического режима                │
 │   d    │ G38..G39   │ Порядок построения эквидистантного контура      │
 │   e    │ G40..G46   │ Разрешение и блокировка сдвига резца по радиусу │
 │   f    │ G70..G71   │ Программирование единицах измерения мм/мкм      │
 │   g    │ G80..G89   │ Cтандартные фиксированные циклы                 │
 │   h    │ G90..G91   │ Инкрементное и абсолютное программирование      │
 │   i    │ G79        │ Программирование с привязкой к нулю станка      │
 │   j    │ G04 G09    │ Атрибуты динамического режима                   │
 │   k    │ ...        │ Не используется                                 │
 │   l    │ G94        │ Кодирование скорости подачи                     │
 │   m    │ G97        │ Кодирование скорости шпинделя                   │
 │   n    │ G98.. G99  │ Управление отводом в циклах G81..G89            │
 └───────────────────────────────────────────────────────────────────────┘

 Таблица 8.7.2
 G- операции, поддерживаемые системой "АЛЬФА"

 ┌───────────────────────────────────────────────────────────────────────┐
 │ Код │ ВКЛ │ Активность │ Описание                                     │
 ├───────────────────────────────────────────────────────────────────────┤
 │ G00 │  +  │ По файлу   │ Быстрая установка осей                       │
 │ G01 │  -  │ По файлу   │ Линейная интерполяция                        │
 │ G02 │  -  │ По файлу   │ Круговая интерполяция по часовой стрелке     │
 │ G03 │  -  │ По файлу   │ Круговая интерполяция против часовой стрелки │
 │ G17 │  +  │ По файлу   │ Круговая интерполяция и компенсация          │
 │     │     │            │  в плоскости XY                              │
 │ G18 │  -  │ По файлу   │ Круговая интерполяция и компенсация          │
 │     │     │            │  в плоскости XZ                              │
 │ G19 │  -  │ По файлу   │ Круговая интерполяция и компенсация          │
 │     │     │            │  в плоскости YZ                              │
 │ G27 │  +  │ По файлу   │ Режим непрерывного контура с автоматическим  │
 │     │     │            │  замедлением на углах (мягкий режим)         │
 │ G28 │  -  │ По файлу   │ Режим непрерывного контура с автоматическим  │
 │     │     │            │  замедлением на углах (жесткий режим)        │
 │ G29 │  -  │ По файлу   │ Торможение до 0 в каждой точке               │
 │ G38 │  +  │ По файлу   │ При обходе углов >180°-сопряжение выполнять  │
 │     │     │            │  вставленной дугой окружности                │
 │ G39 │  -  │ По файлу   │ При обходе углов >180°-сопряжение выполнять  │
 │     │     │            │  пересечением элементов                      │
 │ G40 │  +  │ По файлу   │ Отмена компенсации радиуса инструмента       │
 │ G41 │  -  │ По файлу   │ Компенсация радиуса инструмента              │
 │     │     │            │  (резец слева от детали)                     │
 │ G42 │  -  │ По файлу   │ Компенсация радиуса инструмента              │
 │     │     │            │  (резец справа от детали)                    │
 │ G43 │  -  │ В кадре    │ Удлиннить вектор перемещений на              │
 │     │     │            │  величину радиуса инструмента                │
 │ G44 │  -  │ В кадре    │ Укоротить вектор перемещений на              │
 │     │     │            │  величину радиуса инструмента                │
 │ G45 │  -  │ В кадре    │ Удлиннить вектор перемещений на              │
 │     │     │            │  величину диаметра инструмента               │
 │ G46 │  -  │ В кадре    │ Укоротить вектор перемещений на              │
 │     │     │            │  величину диаметра инструмента               │
 │ G70 │  -  │ По файлу   │ Режим программирования в мкм                 │
 │ G71 │  +  │ По файлу   │ Режим программирования в мм                  │
 │ G80 │  +  │ По файлу   │ Стирание фиксированных циклов                │
 │ G81 │  -  │ По файлу   │ Фиксированный цикл сверления                 │
 │ G82 │  -  │ По файлу   │ Фиксированный цикл сверления с перерывом     │
 │ G83 │  -  │ По файлу   │ Цикл сверления глубокого отверстия           │
 │ G84 │  -  │ По файлу   │ Фиксированный цикл нарезания                 │
 │     │     │            │  резьбы метчиком (правая резьба)             │
 │ G85 │  -  │ По файлу   │ Фиксированный цикл расточки                  │
 │ G86 │  -  │ По файлу   │ Фиксированный цикл расточки с перерывом      │
 │ G87 │  -  │ По файлу   │ Фиксированный цикл расточки с остановом      │
 │ G88 │  -  │ По файлу   │ Фиксированный цикл нарезания                 │
 │     │     │            │  резьбы метчиком (левая резьба)              │
 │ G89 │  -  │ По файлу   │ Фиксированный цикл расточки с перерывом      │
 │     │     │            │  и возвращением на рабочей подаче            │
 │ G90 │  +  │ По файлу   │ Абсолютное программирование                  │
 │ G91 │  -  │ По файлу   │ Инкрементное программирование                │
 │ G79 │  -  │ В кадре    │ Программирование с привязкой к нулю станка   │
 │ G04 │  -  │ В кадре    │ Перерыв в конце кадра                        │
 │ G09 │  -  │ В кадре    │ Замедление в конце кадра                     │
 │ G94 │  +  │ По файлу   │ Скорость подачи в мм/мин                     │
 │ G97 │  +  │ По файлу   │ Скорость вращения шпинделя в об/мин          │
 │ G98 │  +  │ По файлу   │ Отвод инструмента на уровень Z- начальное    │
 │     │     │            │  в циклах G81..G89                           │
 │ G99 │  -  │ По файлу   │ Отвод инструмента на уровень R               │
 │     │     │            │  в циклах G81..G89                           │
 └───────────────────────────────────────────────────────────────────────┘

В графе ВКЛ знаком + обозначены исходные G- коды, которые система
 автоматически устанавливает:
 ■ при включении;
 ■ в начале управляющей программы;
 ■ при выполнении команд сброса параметры в исходное и ЕSC (Глава 3);
Исходные G- коды устанавливаются в файле конфигурации системы
 BASE.INI (Таблица 5.3).

В графе "Активность" показана область действия данного G- кода:
 ■ По файлу -действие кода начинается с кадра, в котором он задан и
   распространяется на все последующие кадры УП.
   Стирается заданием G- кода из той-же модальной группы.
 ■ В кадре -действие кода распространяется только на кадр,
   в котором он задан.

 Таблица 8.7.3
 Совместимость G- операций, в одном кадре



 ┌───────────────────────────────────────────────────────────────────────┐
 │    G          2       17 27    38    41 43 70       81 90       98    │
 │     G   0  1  3  4  9 19 28 29 39 40 42 46 71 79 80 89 91 94 97 99    │
 ├───────────────────────────────────────────────────────────────────────┤
 │    00   0  0  0  1  1  0  1  1  1  1  1  1  1  1  0  1  1  1  1  1    │
 │    01   0  0  0  1  1  0  1  1  1  1  1  1  1  1  0  1  1  1  1  1    │
 │    02   0  0  0  1  1  0  1  1  1  1  1  1  1  1  0  0  1  1  1  1    │
 │    03   0  0  0  1  1  0  1  1  1  1  1  1  1  1  0  0  1  1  1  1    │
 │    04   1  1  1  0  0  0  0  1  1  1  1  1  1  1  1  0  1  1  1  1    │
 │    09   1  1  1  0  0  0  0  1  1  1  1  1  1  1  1  0  1  1  1  1    │
 │    17   0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0    │
 │    18   0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0    │
 │    19   0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0    │
 │    27   1  1  1  0  1  0  0  0  1  1  1  1  1  1  1  0  1  1  1  1    │
 │    28   1  1  1  0  1  0  0  0  1  1  1  1  1  1  1  0  1  1  1  1    │
 │    29   1  1  1  1  1  0  0  0  1  1  1  1  1  1  1  0  1  1  1  1    │
 │    38   1  1  1  1  1  0  1  1  0  1  1  1  1  1  1  1  1  1  1  1    │
 │    39   1  1  1  1  1  0  1  1  0  1  1  1  1  1  1  1  1  1  1  1    │
 │    40   1  1  1  1  1  0  1  1  1  0  0  0  1  0  0  0  1  1  1  1    │
 │    41   1  1  1  1  1  0  1  1  1  0  0  0  1  0  0  0  1  1  1  1    │
 │    42   1  1  1  1  1  0  1  1  1  0  0  0  1  0  0  0  1  1  1  1    │
 │    43   1  1  1  1  1  0  1  1  1  0  0  0  1  0  0  0  1  1  1  1    │
 │    44   1  1  1  1  1  0  1  1  1  0  0  0  1  0  0  0  1  1  1  1    │
 │    45   1  1  1  1  1  0  1  1  1  0  0  0  1  0  0  0  1  1  1  1    │
 │    46   1  1  1  1  1  0  1  1  1  0  0  0  1  0  0  0  1  1  1  1    │
 │    70   1  1  1  1  1  0  1  1  1  1  1  1  0  1  1  1  1  1  1  1    │
 │    71   1  1  1  1  1  0  1  1  1  1  1  1  0  1  1  1  1  1  1  1    │
 │    79   1  1  1  1  1  0  1  1  1  0  0  0  1  0  0  0  0  1  1  1    │
 │    80   0  0  0  1  1  0  1  1  1  0  0  0  1  0  0  0  1  1  1  1    │
 │    81   1  1  0  1  1  0  0  0  1  0  0  0  1  0  0  0  1  1  1  1    │
 │    82   1  1  0  1  1  0  0  0  1  0  0  0  1  0  0  0  1  1  1  1    │
 │    83   1  1  0  1  1  0  0  0  1  0  0  0  1  0  0  0  1  1  1  1    │
 │    84   1  1  0  1  1  0  0  0  1  0  0  0  1  0  0  0  1  1  1  1    │
 │    85   1  1  0  1  1  0  0  0  1  0  0  0  1  0  0  0  1  1  1  1    │
 │    86   1  1  0  1  1  0  0  0  1  0  0  0  1  0  0  0  1  1  1  1    │
 │    87   1  1  0  1  1  0  0  0  1  0  0  0  1  0  0  0  1  1  1  1    │
 │    88   1  1  0  1  1  0  0  0  1  0  0  0  1  0  0  0  1  1  1  1    │
 │    89   1  1  0  1  1  0  0  0  1  0  0  0  1  0  0  0  1  1  1  1    │
 │    90   1  1  1  1  1  0  1  1  1  1  1  1  1  0  1  1  0  1  1  1    │
 │    91   1  1  1  1  1  0  1  1  1  1  1  1  1  0  1  1  0  1  1  1    │
 │    94   1  1  1  1  1  0  1  1  1  1  1  1  1  1  1  1  1  1  1  1    │
 │    97   1  1  1  1  1  0  1  1  1  1  1  1  1  1  1  1  1  1  1  1    │
 │    98   1  1  1  1  1  0  1  1  1  1  1  1  1  1  1  1  1  1  1  0    │
 │    99   1  1  1  1  1  0  1  1  1  1  1  1  1  1  1  1  1  1  1  0    │
 └───────────────────────────────────────────────────────────────────────┘

@8.7.2.1  Модальная группа А
G- коды, определяющие тип движения

Группа состоит из следующих функций: G00, G01, G02, G03.
Исходной (устанавливаемой при включении и сбросе) является функция G00.

G00- быстрое линейное перемещение по осям

Запрограммированные оси перемещаются одновременно и прямолинейно
 из начальной точки в конечную,подача по вектору равна значению,
 заданному в системной переменной FQC (мм/мин).
Запрограммированное слово G00 остается активным, пока оно не будет
 перезаписано кодами  G01, G02, G03.
Потенциометр подачи корректирует значение FQC
 если системный флаг  URL =1 (см. Глава 5).

Пример:
N0001   X20  Y15
N0002  G0  X70  Y40

G01- линейное перемещение по осям

Запрограммированные оси перемещаются одновременно и прямолинейно
 из начальной точки в конечную,подача по вектору равна значению,
 заданному последней инструкцией F (мм/мин).
Запрограммированное слово F остается активным, пока не будет перезаписано.
Потенциометр подачи корректирует значение F на всей заданной траектории.
Запрограммированное слово G01 остается активным, пока оно не будет
 перезаписано кодами  G00, G02, G03.

Пример:
N0001  Y20  Z15
N0002  G1  Y70  Z40   F500

G02..G03- круговая интерполяция

Действует в выбранной плоскости, по относящимся к этой плоскости осям,
 поэтому прежде чем задать контур, надо задать плоскость интерполяции
 с помощью кодов G17..G19.
В кадрах с активными G02, G03  допустимо программирование только
 адресов осей, составляющих плоскость интерполяции.
Запрограммированные оси перемещаются вдоль контура окружности,
 из начальной точки в конечную,подача по вектору равна значению,
 заданному последней инструкцией  F (мм/мин).

Точка центра дуги задается словами I,J.
Адрес I программирует точку центра по первой оси,
 составляющей плоскость интерполяции.
Адрес J программирует точку центра по второй оси,
 составляющей плоскость интерполяции.
Программирование I,J в кадре перемещения -обязательно.

Максимально программируемая дуга равна 360 град.
Если разность координат начальной и конечной точек дуги меньше значения
 заданного в переменной DRC -система отрабатывает полную окружность, в
 противном случае отрабатывается дуга окружности.

Разность между радиусами, посчитанными из центра окружности относительно
 начальной и конечной точки по модулю не должна превышает значение
 системной переменной DRC, задаваемое в  файле конфигурации BASE.INI
 (Таблица 5.4).

Можно программировать круговую интерполяцию в приращениях (по G91),
 тогда координаты конечной точки окружности и координаты центра задаются
 относительно координат начальной точки окружности.

Однажды запрограммированное слово G02 или G03 остается активным, пока
 оно не будет перезаписано кодами G00, G01, G03 или G02.
Потенциометр подачи корректирует значение F на всей заданной траектории.
G02 задает круговую интерполяцию по часовой стрелке.
G03 задает круговую интерполяцию против часовой стрелки.
Направление кругового движения определяется так, что наблюдатель смотрит
 на плоскость интерполяции со стороны, перпендикулярной к ней
 положительной полуоси.

Пример программирования кадров ISO с круговой интерполяцией
 в абсолютных координатах:

N0123  G90  G17  X100  Y100
N0124  G2 X0 Y0 I0 J100 F200
N0125  G3 Y-100 J-50
N0126  J-75
N0127  G0 Z50 J0
N0128  G3
N0129  X100 Y0

Тот -же пример с программированием круговой интерполяции
 в относительных координатах:

N0123  G90  G17  X100  Y100
N0124  G02  G91  X-100 Y-100  I-100  J0 F200
N0125  G03 Y-100 J-50
N0126  J-25
N0127  G0 Z50 J100
N0128  G3
N0129  X100 Y100

@8.7.2.2  Модальная группа B:
G- коды, определяющие плоскость интерполяции

Плоскость интерполяции задается кодами G17, G18, G19
по следующей схеме:

 ■ G17 -плоскость образована 1,2 осями, заданными в конфигурации.
 ■ G18 -плоскость образована 1,3 осями, заданными в конфигурации.
 ■ G19 -плоскость образована 2,3 осями, заданными в конфигурации.

Допустим, что в конфигурационном файле первые три оси описаны
 как X, Y, Z , тогда
 ■ G17 -активна плоскость XY.
 ■ G18 -активна плоскость XZ.
 ■ G19 -активна плоскость YZ.

Функции модальной группы B несовместимы в кадре ни с одной функцией G.
Запрограммированное слово G17..G19 остается активным, пока оно
 не будет перезаписано другим кодом данной модальной группы.
Исходной (устанавливаемой при включении и сбросе) является функция G17.

@8.7.2.3  Модальная группа C:
G- коды, определяющие динамику движения

Динамический режим движения задается кодами G27, G28, G29.
G27, G28- программируют непрерывное перемещение с автоматическим
 замедлением на углах.

Система  "АЛЬФА" автоматически рассчитывает скорость по профилю
 в зависимости от:
 ■ запрограммированной подачи F;
 ■ совокупности длин векторов перемещений в окрестности текущего кадра;
 ■ величины заданного рабочего ускорения А;
 ■ значения допустимого перепада скорости DV на изломах профиля.

Система автоматически корректирует запрограммированную величину подачи F,
 чтобы при прохождении изломов траектории мгновенное изменение скорости ни
 по одной оси, составляющей вектор, не превысила бы заданную величину DV.

В файле конфигурации BASE.INI (Таблица 5.4) отведены две переменные
 DV27, DV28, определяющие параметр DV для функций G27, G28 соответственно,
 изменить параметр DV для функции G27 можно и из системы (6.2.1).
 диапазон допустимых значений - 0.01..10 мм/сек.

Переменные DV27, DV28 настраивают на различные уровни допустимого перепада
 скорости (обычно 0.01<DV27<2, 2<DV28<10), что позволяет мобильно, путем
 задания инструкций G27 G28, переходить с одной динамики на другую.

Инструкции G27 G28 управляют динамикой движения по приведенной схеме
 только в том случае, если перемещения по профилю запрограммированы
 функциями G01, G02, G03.

Если тип движения задан инструкцией G00, перемещения всегда
 отрабатываются от точки к точке с торможением до 0, независимо от того,
 какая инструкция модальной группы C активна.

G29 - программирует перемещение точки к точке с торможением до 0 в конце
 каждого кадра, независимо от заданного типа перемещения (G00..G03).

Запрограммированное слово G27..G29 остается активным, пока оно
 не будет перезаписано другим кодом данной модальной группы.
Исходной (устанавливаемой при включении и сбросе) является функция G27.

@8.7.2.4  Модальная группа D:
G-коды, определяющие порядок обхода углов >180° эквидистантного контура,
 заданного функциями G41, G42.

Группу образуют следующие функции:
 ■ G38 -сопряжение элементов контура выполняется с помощью вставленной
        дуги окружности;
 ■ G39 -сопряжение выполняется путем пересечения элементов контура.

Запрограммированное слово G38..G39 остается активным, пока оно
 не будет перезаписано другим кодом данной модальной группы.
Исходной (устанавливаемой при включении и сбросе) является функция G38.

Переключение функций G38..G39 может выполняться при включенных G41..G42
 на любом участке эквидистантного контура.
Действие установленной функции начинается с первой после включения
 узловой точки.

Построение эквидистантного контура по коду G39 удобно использовать,
 если исходный программный контур расчитан с учетом радиуса инструмента,
 задавая в таблицу DL отклонения реального радиуса фрезы от расчетного
 (со знаком плюс или минус) можно выполнять обработку без корректировки УП.

@8.7.2.5  Модальная группа Е:
G-коды, определяющие корректировку пути фрезы в зависимости
  от радиуса инструмента

Функциями, которые управляют корректировкой пути фрезы по радиусу
 инструмента являются:

 ■ G41 -вызов коррекции пути слева от детали по направлению
        обработки в выбранной плоскости;
 ■ G42 -вызов коррекции пути справа от детали по направлению
        обработки в выбранной плоскости;
 ■ G40 -отмена коррекции пути, установленной функциями G41,G42.

 ■ G43 -увеличение длины вектора перемещения или радиуса дуги окружности
        на величину радиуса инструмента, заданную в текущем корректоре.
 ■ G44 -уменьшение длины вектора перемещения или радиуса дуги окружности
        на величину радиуса инструмента, заданную в текущем корректоре.
 ■ G45 -увеличение длины вектора перемещения или радиуса дуги окружности
        на удвоенную величину радиуса инструмента, заданную
        в текущем корректоре.
 ■ G46 -уменьшение длины вектора перемещения или радиуса дуги окружности
        на удвоенную величину радиуса инструмента, заданную
       в текущем корректоре.

Запрограммированное слово G40..G42 остается активным, пока оно
 не будет перезаписано другим кодом данной модальной группы.
Функции G43..G46 программируются только при активной G40,
 их действие распространяется на кадр, в котором они запрограммированы.
Исходной (устанавливаемой при включении и сбросе) является функция G40.

Определение плоскости интерполяции

Прежде чем вызвать коррекцию пути функциями G41,G42,
необходимо предварительно (функциями G17..G19) заказать плоскость,
 в которой будет производится корректировка.
В начале программы система автоматически устанавливает активной G17.

Построение эквидистантного контура

Заданный программистом исходный контур состоит из совокупности прямых
 и дуг окружности (примитивов).
При построении нового контура, эквидистантного заданному, система
 выполняет следующие действия:

 ■ к исходным точкам каждого примитива строятся нормали, по которым
   влево (G41) или вправо (G42) откладывается расстояние смещения R;
 ■ через полученные точки строятся новые примитивы;
 ■ производится расчет сопряжения новых примитивов
   (точка пересечения или встроенная часть окружности)

Расстояние смещения между контурами R заносится оператором в таблицу
 коррекции на инструмент (см. Глава 5).
Допустимый диапазон значений  -500.000..+500.000 мм.

Текущее активное значение R устанавливается путем программирования
 слова с адресом D, следующий за адресом числовой параметр указывает
 на номер ячейки в таблице парной коррекции на инструмент, в которой
 хранится значение смещения.

Примеры:
N1500  G42  D17  X-100 Y-200  F400
N1423  D0

Значение R из таблицы коррекции может быть также активизировано
 программированием следующей комбинации слов:

 T1.17 M06,

 где числовой параметр, стоящий при адресе Т за знаком "." (в данном
 примере 17) указывает на номер ячейки в таблице коррекции на инструмент,
 однако R примет значение смещения из таблицы только после ближайшей
 последующей команды смены инструмента М06.
 Таким образом для установки смещения следующие две формы
 программирования полностью идентичны:

 N4567  D2
 N4567  T1.2  M6

Количество ячеек, отведенное в таблице парной коррекции для хранения
 значений R находится в диапазоне 0..99.
В ячейке с индексом "0" хранится нулевое значение смещения, которое
 нельзя переустановить, тем самым, при программировании D0 или T1.0
 гарантируется установка текущего смещения R =0.

Вход в контур

Функции G41, G42 включают механизм построения эквидистантного контура.
Вход в контур произойдет в первом кадре (после G41, G42) в котором будет
 запрограммировано ненулевое перемещение по осям, составляющим плоскость
 интерполяции.
Перемещение выполняется по прямой линии из предыдущей точки в новую
 заданную точку,пересчитанную с учетом коррекции на радиус инструмента.
На момент входа в эквидистантный контур должны быть активны функции,
 устанавливающие линейное перемещение G0 или G1.

Вибирайте сторону и исходную точку так, чтобы прямая входа
 не пересекала траектории контура.

Следующие примеры иллюстрируют вход в контур с использованием
 различных примитивов:

Первый прямолинейный элемент.

N0100  G1 X10 Y10
N0101  G41  D1  X30  Y15
N0102  X45  Y35
N0103  X70

Первый круговой элемент.

N0100  G90 G0 F500
N0101  X100 Y60 Z-50
N0102  G41  D4
N0103  X50  Y60
N0104  G3   X100  Y10  I100  J60
N0105  X120 Y12.745    I100  J80

N0100  X30  Y10
N0101  G01 G42 D4 X30 Y55
N0102  G02 X70  Y40  I50  J40

Выход из контура

Функция G40 выключает механизм построения эквидистантного контура.
Выход из контура произойдет в первом кадре (после G40), в котором будет
 запрограммировано перемещение осей, составляющих плоскость интерполяции.
Перемещение выполняется по прямой линии из последней точки
 эквидистантного контура в заданную точку.
На момент выхода из эквидистантного контура должны быть активны функции,
 устанавливающие линейное перемещение G0 или G1.

Выбирайте точку выхода так, чтобы прямая не пересекала траектории контура.
Следующие примеры иллюстрируют выход из контура с использованием
 различных примитивов:

Последний прямолинейный элемент.

N0100  X70 Y35          активна G42
N0101  X45              с положительным значением R
N0102  X30  Y15         последний элемент контура
N0103  G40 X10 Y10      выход из контура

Последний круговой элемент.

N0101  X100  Y10 I100  J60      активна G42 с положительным значением R
N0102  X50  Y60  I100   J60     активна G02
N0103  G40                      выключение эквидистанты
N0104  G01  X100 Y60            кадр выхода

N0102  X70  Y40                 активна G41 с положительным значением R
N0101 G03 X30 Y55 I50  J40      последний кадр контура
N0100 G40 G1 X30 Y10            выключение эквидистанты и выход из контура

Замена коррекции

Замена коррекции осуществляется программированием адреса D при включенном
 механизме коррекции (активны функции G41 или G42).
Замена коррекции произойдет в первом кадре (после нового D) в котором
 будет запрограммировано ненулевое перемещение по осям, составляющим
 плоскость интерполяции.
Перемещение выполняется по прямой линии из последней точки контура с
 предыдущим смещением в точку контура с новым значением R, если знаки R
 не совпадают -замена коррекции приведет к смене стороны обхода контура.
В кадре замены коррекции должны быть активны функции, устанавливающие
 линейное перемещение G0 или G1.

Пример замены коррекции:

N020  D1                      активна коррекция G42 с положительным R1
N030  G1 X105 Y35  F500
N050  G3  X95  Y45  I95  J35
N060  G1  D2  X80             замена коррекции R2-положительное и R2 < R1
N070  G3  X70  Y35  I80 J35
N080  G1  X55
N090  Y60
N100  D3 X35                  замена коррекции R3-отрицательное и R3 < R2
N110  X20 Y35
N120  Y15

Смена стороны обхода G41-G42

Внутри одного контура обработки допустима смена стороны обхода,
 путем перезадания кода G41 на G42 и наоборот.
Смена стороны произойдет в первом кадре (после G41,G42) в котором будет
 запрограммировано ненулевое перемещение по осям, составляющим плоскость
 интерполяции.
Перемещение выполняется по прямой линии из последней точки текущего
 контура в точку контура с противоположной стороны от исходного,
 при этом значение смещения -R сохраняется прежним.
В кадре смены стороны обхода должны быть активны функции, устанавливающие
 линейное перемещение G0 или G1.

Пример смены стороны обхода контура:

N020  D1                      активна G42 с положительным значением R1
N030  G1 X105 Y35  F500
N050  G3  X95  Y45  I95  J35
N060  G1 G41 X80              смена стороны обхода контура G41
N070  G3  X70  Y35  I80 J35
N080  G1  X55
N090  Y60
N100  G42 X35                 смена стороны обхода контура G42
N110  X20 Y35
N120  Y15

Функции коррекции вектора перемещения в кадре

Функции G43..G45:
 ■ изменяют длину вектора перемещения, если задана линейная интерполяция,
   или радиус дуги окружности, если задана круговая интерполяция
   следующим образом:
         G43 -увеличивает на R;
         G44 -уменьшает на R;
         G45 -увеличивает на 2R;
         G46 -уменьшает на 2R;

 ■ действуют только в кадре, в котором они запрограммированы;
 ■ несовместимы с функциями G41..G42 и с функциями стандартных
   циклов G81..G89.

Если величина коррекции превышает длину вектора -направление
 вектора меняется на противоположное.

Пример программирования коррекции вектора перемещения в кадре:

N01  (UAO,1)
N02  X0 Y0 Z0
N04  G1 Z-10 F500
N05  G43 X50
N06  G43 G3  X0 Y-50 I0J0
N07  G1 Y-80

Ограничения при работе в режиме коррекции контура

В режиме включения коррекции контура (активны G41,G42)
недопустимо:

 ■ программировать функции смены плоскости интерполяции G17..G19;
 ■ программировать функцию G79;
 ■ программировать функции автоматических циклов G81..G89;
 ■ программировать функции коррекции вектора в кадре G81..G89;
 ■ программировать функцию смены инструмента М06, если в ее
   алгоритме предусмотрены перемещения осей;
 ■ программировать совместные перемещения по осям, составляющим плоскость
   интерполяции с любыми другими  осями,
   допускается (при активных G41,G42) программирование перемещений
   по любым осям, не охваченным коррекцией но не совместно с осями,
   по которым коррекция  выполняется, например:

     N210  G17
     N211  G1 G42  D1
     N212  X90  Y10                   здесь недопустимо
     N213  X80  Y40                   задавать оси  Z,A,B
     N215  Y60
     N214  Z50                        а здесь программировать
     N216  Z40  A10  B-10             оси X,Y (G17)
     N217  X60

 ■ программировать внутренний контур, в котором длина хотя бы одного
   смежного примитива типа "прямая" меньше величины смещения R;
 ■ программировать внутренний контур, в котором половина радиус хотя бы
   одного смежного примитива типа "окружность" меньше величины смещения R;
 ■ функции G43..G45 несовместимы с функциями G41..G42 и с функциями
   стандартных циклов G81..G89.

@8.7.2.6  Модальная группа F:
коды, определяющие систему измерения

Система измерения, в которой программируются адреса
X Y Z A B C U V W R I J K  определяется следующими кодами:

 ■ G70 - программирование в микрометрах (мкм);
 ■ G71 - программирование в миллиметрах (мм).

Запрограммированное слово G70..G71 остается активным,
 пока не будет перезаписано другим кодом данной модальной группы.
Исходной (устанавливаемой при включении и сбросе) является функция G71.

@8.7.2.7  Модальная группа G:
коды, определяющие стандартные фиксированные (автоматические) циклы

Автоматические циклы позволяют программировать одним кадром определенную
 последовательность перемещений и технологических действий, характерную
 для ряда операций обработки детали (сверление, расточка, нарезание резьбы
 метчиком).
Эта последовательность включаетв себя следующие шаги:

 1. перемещение на быстром ходу (по G00) в заданную точку;
 2. перемещение на быстром ходу, по оси совпадающей с осью инструмента,
    в координату "верхней плоскости", задаваемую адресом R;
 3. выполнение технологических функций;
 4. перемещение с рабочей подачей (установленной последней инструкцией F),
    по оси совпадающей с осью инструмента, в координату "нижней плоскости"
    задаваемую адресом Z;
 5. выполнение технологических функций;
 6. перемещение на быстром ходу или с рабочей подачей (установленной
    последней инструкцией F), по оси совпадающей с осью инструмента,
    в координату "исходной плоскости", если запрограммирована G98.
    в координату "верхней плоскости",  задаваемую адресом R,
    если запрограммирована G99.

Каждый автоматический цикл включается  соответствующей функцией G81..G89
(см. Таблицу 8.7.4) и выключается функцией G80.
Система фиксирует значение координаты Z на момент включения цикла
 независимо от активности кодов G98,G99 и считает его значением
 "исходной плоскости" на всем протяжении данного стандартного цикла.

В начале программы автоматически устанавливается активность G98.
Допускается программирование кодов G98,G99 по ходу стандартного цикла.

 Таблица 8.7.4
 Перечень операций автоматических циклов
 ┌─────────────────────────────────────────────────┐
 │  Код  │   Операция                              │
 ├─────────────────────────────────────────────────┤
 │  G80  │   Выключение автоматического цикла      │
 │  G81  │   Сверление                             │
 │  G82  │   Сверление с выдержкой времени         │
 │  G83  │   Сверление глубокого отверстия         │
 │  G84  │   Нарезание метчиком правой резьбы      │
 │  G85  │   Расточка                              │
 │  G86  │   Расточка с выключением шпинделя       │
 │  G87  │   Расточка с технологическим остановом  │
 │  G88  │   Нарезание метчиком левой резьбы       │
 │  G89  │   Расточка с выдержкой времени          │
 └─────────────────────────────────────────────────┘

Ограничения и замечания, касающиеся всех автоматических циклов

На момент программирования кода G81..G89 должны быть выполнены
 следующие условия:

Выключена коррекция на радиус инструмента (установлен код G40
 модальной группы E);

При включенном G81..G89 разрешается программировать
следующие G- коды:  G04,  G70..71, G80..G99.

При программировании в относительных величинах (по G91) значения,
 заданные кодом R берутся относительно текущего значения координаты Z.

Слово с адресом R программирует "верхнюю плоскость" обработки;
Слово с адресом Z программирует "нижнюю плоскость" обработки;
Значение "исходной плоскости" (назовем ее Z0) равно значению
 координаты Z при включении стандартного цикла;

Если на момент включения G81..G89 какой-либо из параметров R,Z
 не задан -ему присваивается текущее значение координаты Z.

Параметры R и Z могут свободно переустанавливаться (вместе или отдельно)
 в кадрах, охваченных текущим автоматическим циклом, формируя верхнюю
 и нижнюю плоскости обработки.
Запрограммированные значения R,Z остаются активным, пока не будут
 переустановлены.

При программировании автоматическим циклов необходимо выполнение условия
 Z0 >= R >= Z (Z0 больше или равно R, а R больше или равно Z).
Допустимо программирование R = Z, в этом случае шаги 3 и 5 не выполняются.

Если по ходу автоматического цикла при активности G99 программируется
 одиночный адрес R -система выходит на быстром ходу в новую точку
 "верхней плоскости" без отработки остальных шагов цикла.

Значения Z0, R, Z программируются с учетом текущей коррекции на длину
 инстумента (L), смена коррекции на длину инстумента по ходу
 автоматического цикла не допускается.

Выдержка времени в автоматических циклах G82, G89 программируется словом
 с адресом P, следующий за адресом числовой параметр устанавливает
 значение выдержки в диапазоне 0.01..99.99 сек.
Если на момент включения G82, G89 параметр P не задан -ему присваивается
 нулевое значение (P = 0) и выдержка времени не отрабатывается.
Запрограммированное значение P остается активным,
 пока не будет переустановлено.

Запрограммированное слово G80..G89 остается активным,
 пока не будет перезаписано другим кодом данной модальной группы.
Исходной (устанавливаемой при включении и сбросе) является функция G80.

G81  Сверление

Цикл включает в себя следующие операции:

 ■ перемещение в плоскости XY на быстром ходу (G00) в заданную точку;
 ■ перемещение на быстром ходу по оси Z  в координату "верхней плоскости",
   задаваемую адресом R;
 ■ перемещение с рабочей подачей (установленной последней инструкцией F),
   по оси Z в координату нижней плоскости, задаваемую адресом Z;
 ■ обратное перемещение на быстром ходу (G00),
   в координату "исходной плоскости", если активна функция G98 или
   в координату "верхней плоскости", задаваемую адресом R,
   если активна функция G99.

Пример программирования цикла G81.

N09  G98
N10  G90  S1000 M42  M3
N11  G81  X85  Y45  Z25  R55  F300
N12  G99  X45  Y30  Z15  R40
N13  X25
N14  G80 Z60
N15  G00 X150 Y0

G82  Сверление с выдержкой времени

Цикл включает в себя следующие операции:

 ■ перемещение в плоскости XY на быстром ходу (G00) в заданную точку;
 ■ перемещение на быстром ходу по оси Z в координату "верхней плоскости",
   задаваемую адресом R;
 ■ перемещение с рабочей подачей (установленной последней инструкцией F),
   по оси Z в координату нижней плоскости, задаваемую адресом Z;
 ■ выдержка времени свободного резания, задаваемое адресом P (сек);
 ■ обратное перемещение на быстром ходу (G00),
   в координату "исходной плоскости", если активна функция G98 или
   в координату "верхней плоскости", задаваемую адресом R,
   если активна функция G99.

Пример программирования цикла G82.

N09  G98
N10  G90  S1000 M42  M3
N11  G82  X85  Y45  Z25  R55  F300
N12  G99  X45  Y30  Z15  R40
N13  X25 Р5
N14  G80 Z60
N15  X150 Y0 М05

G83  Сверление глубокого отверстия

В программировании данного цикла кроме указанных выше адресов
 задействован вспомогательный адрес К.
Слово с адресом К задает шаг, на который будет последовательно
 уменьшаться значение R, пока текущая координата не достигнет координаты
 нижней плоскости (Z). Числовой параметр при адресе К должен принимать
 только положительные значения.
Если на момент включения G83 параметр K не задан -ему присваивается нуле-
 вое значение. Если К = 0, выполняется только пункт 1, указанного цикла.
Запрограммированное значение К остается активным,
 пока не будет переустановлено.
Если nK (n- число шагов) не кратен R-Z, тогда последнее перемещение
 выполняется на шаг R-nK-Z.

Цикл включает в себя следующие операции:
 ■ перемещение в плоскости XY на быстром ходу (G00) в заданную точку;
 ■ перемещение на быстром ходу по оси Z  в координату "верхней плоскости",
   задаваемую адресом R;
 ■ перемещение с рабочей подачей (установленной инструкцией F),
   по оси Z в координату R-K;
 ■ обратное перемещение на быстром ходу по оси Z в координату
   "верхней плоскости", задаваемую адресом R;
 ■ перемещение на быстром ходу (G00), по оси Z в координату R-K+1;
 ■ перемещение с рабочей подачей по оси Z в координату R-2K;
   и. т. д.  до достижения координаты нижней плоскости Z;
 ■ обратное перемещение на быстром ходу (G00),
   в координату "исходной плоскости", если активна функция G98 или
   в координату "верхней плоскости", задаваемую адресом R,
   если активна функция G99.

Пример цикла сверления глубокого отверстия

N10  G98
N11  G00  X150 Y0 Z110  S1000 M42  M3
N12  G83  X65  Y45  Z20  R95  K30  F300
N13  G80  X150 Y0 М05

G84  Нарезание метчиком правой резьбы

Цикл включает в себя следующие операции:
 ■ перемещение в плоскости XY на быстром ходу (G00) в заданную точку;
 ■ перемещение на быстром ходу по оси Z  в координату "верхней плоскости",
   задаваемую адресом R;
 ■ включение шпинделя в направлении вращения по часовой стрелке (М03),
   частота вращения должна быть предварительно задана кодом S;
 ■ перемещение с рабочей подачей (установленной последней инструкцией F),
   по оси Z в координату нижней плоскости, задаваемую адресом Z;
 ■ включение шпинделя в направлении вращения против часовой стрелки (М04);
 ■ обратное перемещение перемещение с рабочей подачей (установленной
   инструкцией F), по оси Z  в координату "верхней плоскости", задаваемую
   адресом R;
 ■ перемещение на быстром ходу (G00), в координату "исходной плоскости",
   если активна функция G98.
 ■ останов шпинделя (М05).

Программист задает частоту вращения шпинделя (кодом S) и рассчитывает
 значения рабочей подачи (F) по следующей формуле:
 F (мм/мин) = шаг резьбы (мм/об) *  S (об/мин)

Обратите внимание, команды управления шпинделем являются составной частью
 операций цикла G84 -программировать функции М03..М05 нет необходимости.
Пример цикла нарезания правой резьбы метчиком

N10  G99
N11  G00  X150 Y10  Z70  S100 M41
N12  G84  X105 Y45  Z35  R65  F100
N13  X65  Y30  Z30  R50
N14  R65
N15  G98 X30 Z35
N16  G80 G00 X150 Y0

G85  Расточка

Цикл включает в себя следующие операции:
 ■ перемещение в плоскости XY на быстром ходу (G00) в заданную точку;
 ■ перемещение на быстром ходу по оси Z  в координату "верхней плоскости",
   задаваемую адресом R;
 ■ перемещение с рабочей подачей (установленной последней инструкцией F),
   по оси Z в координату нижней плоскости, задаваемую адресом Z;
 ■ обратное перемещение с рабочей подачей (установленной инструкцией F),
   по оси Z  в координату "верхней плоскости", задаваемую адресом R;
 ■ перемещение на быстром ходу (G00), в координату "исходной плоскости",
   если активна функция G98.

Пример цикла расточки G85.

N10  G99 G1 X150 Y100 Z70
N11 S1000 M42 M3
N12  G85  X100  Z10  R55  F400
N13  R70
N14  X30  Y30  Z10  R55
N15  R70
N16  G80 X150 Y0 М05

G86  Расточка с выключением шпинделя

Цикл включает в себя следующие операции:
 ■ перемещение в плоскости XY на быстром ходу (G00) в заданную точку;
 ■ перемещение на быстром ходу по оси Z  в координату "верхней плоскости",
   задаваемую адресом R;
 ■ включение шпинделя в направлении вращения по часовой стрелке (М03),
   частота вращения должна быть предварительно задана кодом S;
 ■ перемещение с рабочей подачей (установленной последней инструкцией F),
   по оси Z в координату нижней плоскости, задаваемую адресом Z;
 ■ останов шпинделя (М05);
 ■ обратное перемещение с рабочей подачей (установленной инструкцией F),
   по оси Z в координату "верхней плоскости", задаваемую адресом R;
 ■ перемещение на быстром ходу (G00), в координату "исходной плоскости",
   если активна функция G98.

Пример цикла расточки G86.

N10  G98 G0 X150 Y100 Z70
N11 S1000 M41                          задавать М03 не надо
N12  G86  X100  Z10  R55  F400         шпиндель включается
N13  X30  Y30  Z10                     и выключается в цикле
N14  G80
N15  X150 Y0

G87  Расточка с технологическим остановом

Цикл включает в себя следующие операции:
 ■ перемещение в плоскости XY на быстром ходу (G00) в заданную точку;
 ■ перемещение на быстром ходу по оси Z  в координату "верхней плоскости",
   задаваемую адресом R;
 ■ включение шпинделя в направлении вращения по часовой стрелке (М03),
   частота вращения должна быть предварительно задана кодом S;
 ■ перемещение с рабочей подачей (установленной последней инструкцией F),
   по оси Z в координату нижней плоскости, задаваемую адресом Z;
 ■ технологический останов программы (М00);
 ■ обратное перемещение с рабочей подачей (установленной инструкцией F),
   по оси Z в координату "верхней плоскости", задаваемую адресом R;
 ■ перемещение на быстром ходу (G00), в координату "исходной плоскости",
   если активна функция G98.

Пример цикла расточки G87.

N10  G98 G0 X150 Y100 Z70
N11 S1000 M41                          задавать М03 не надо
N12  G87  X100  Z10  R55  F400         шпиндель включается в цикле,
N13  X30  Y30  Z10                     выключается по М00,
N14  G80                               включается автоматически
N15  X150 Y0                           с продолжением программы

G88  Нарезание метчиком левой резьбы

Цикл включает в себя следующие операции:
 ■ перемещение в плоскости XY на быстром ходу (G00) в заданную точку;
 ■ перемещение на быстром ходу по оси Z  в координату "верхней плоскости",
   задаваемую адресом R;
 ■ включение шпинделя в направлении вращения против часовой стрелке (М04),
   частота вращения должна быть предварительно задана кодом S;
 ■ перемещение с рабочей подачей (установленной последней инструкцией F),
   по оси Z в координату нижней плоскости, задаваемую адресом Z;
 ■ включение шпинделя в направлении вращения против часовой стрелки (М04);
 ■ обратное перемещение перемещение с рабочей подачей (установленной
   инструкцией F), по оси Z  в координату "верхней плоскости", задаваемую
   адресом R;
 ■ перемещение на быстром ходу (G00), в координату "исходной плоскости",
   если активна функция G98.
 ■ останов шпинделя (М05).

Программист задает частоту вращения шпинделя (кодом S) и рассчитывает
 значения рабочей подачи (F) по следующей формуле:
 F (мм/мин) = шаг резьбы (мм/об) *  S (об/мин)

Обратите внимание, команды управления шпинделем являются составной частью
 операций цикла G88 -программировать функции М03..М05 нет необходимости.
Пример цикла нарезания левой резьбы метчиком

N10  G99
N11  G00  X150 Y10  Z70  S100 M41
N12  G88  X105 Y45  Z35  R65  F100
N13  X65  Y30  Z30  R50
N14  R65
N15  G98 X30 Z35
N16  G80 G00 X150 Y0

G89  Расточка с выдержкой времени

Цикл включает в себя следующие операции:
 ■ перемещение в плоскости XY на быстром ходу (G00) в заданную точку;
 ■ перемещение на быстром ходу по оси Z  в координату "верхней плоскости",
   задаваемую адресом R;
 ■ перемещение с рабочей подачей (установленной последней инструкцией F),
   по оси Z в координату нижней плоскости, задаваемую адресом Z;
 ■ выдержка времени свободного резания,  задаваемое адресом P (сек);
 ■ обратное перемещение с рабочей подачей (установленной инструкцией F),
   по оси Z  в координату "верхней плоскости", задаваемую адресом R;
 ■ перемещение на быстром ходу (G00), в координату "исходной плоскости",
   если активна функция G98.

Пример цикла расточки G89.

N10  G98 G1 X150 Y100 Z70
N11 S1000 M42 M3
N12  G89  X100  Z10  R55  Р3.5  F400
N14  X30  Y30  Z10  R55
N16  G80 X150 Y0 М05

@8.7.2.8  Модальные группы H,I:

G- коды, определяющие тип перемещения:
 ■ абсолютное;
 ■ инкрементное;
 ■ с привязкой к нулю станка.

G- коды, определяющие тип перемещения устанавливают способ пересчета точек
 траектории, задаваемых адресами X Y Z A B C U V W I J R.

Модальная группа Н объединяет следующие функции:
G90 - программирование в абсолютной системе координат;
G91 - инкрементное программирование.

Запрограммированное слово G90..G91 остается активным,
 пока не будет перезаписано другим кодом данной модальной группы.
Исходной (устанавливаемой при включении и сбросе) функцией
 модальной группы H является функция G90.

Модальная группа I содержит единственную функцию G79, устанавливающую
 программирование в станочной системе координат.
Область действия функции G79 распространяется только на тот кадр,
в котором она задана. При включении и сбросе G79 не активна.

Если запрограммирована функция G91- каждая следующая точка рассчитывается
 относительно предыдущей, в данном случае безразлично, в какой системе
 координат ведется работа.
Если запрограммирована функция G90 - каждая точка рассчитывается
 относительно точки текущей системы координат.
Текущая система координат устанавливается инструкцией (UAO,n) (см. 8.9)
 или программированием функции G79.

Функция G79, модальной группы I позволяет в рамках одного кадра,
 в котором она задана временно заблокировать инструкцию (UAO,n) и
 установить систему координат совпадающую с системой координат станка.

Пример программирования G- кодов, определяющие тип перемещения

%
N0  X0  Y0              идем в ноль станка
N1  (UAO,1)             устанавливаем новую систему координат
N2  X0  Y0              идем в ноль новой системы UAO,1
N3  X20  Y50            перемещения в абсолютных координатах системы UAO,1
N4  G91
N5  X-80                перемещения в инкрементных
N6  Y-100               координатах
N7  G90 X60             снова в абсолютных координатах системы UAO,1
N8  G79  X0  Y-60       в системе станка
N9  X0  Y0              снова в абсолютных координатах системы UAO,1

@8.7.2.9  Модальная группа J:
коды, определяющие атрибуты динамического режима

Модальную группу J составляют следующие функции:

G09 - задает останов движения в конце кадра (значение вектора скорости
      в конце перемещения по данному кадру устанавливается равной 0).
G04 - задает останов движения в конце кадра с программируемой выдержкой
      времени останова.

По окончании выдержки времени выполнение программы будет продолжено без
 каких-либо специальных команд. Временем выдержки является текущее
 значение системной переменной TMR.
Значение TMR программируется инструкцией (TMR, n ), где n - время выдержки
 (см. 8.9), или задается из меню "Установки" (см. Глава 5).
Диапазон допустимых значений переменной TMR- 0..255 сек.

Программирование функций G09, G04 перебивает нулевым значением скорость
 в конце элемента текущего кадра, установленную блоком автоматического
 расчета скоростей при активных G27,G28 (см. 8.7.2, модальная группа С).

Программирование функции G09 при активных G00 или G29 не имеет смысла.
Область действия функций G04,G09 распространяется только на тот кадр,
 в котором они запрограммированы.
При включении и сбросе G04,G09 не активны.

@8.7.2.10 Модальная группа L:
G- коды, определяющие кодирование скорости подачи

В модальную группу L входит единственная функция:
G94- устанавливает кодирование подачи в единицах измерения- мм/мин.
Переключения функций G70,G71 (см. 8.7.2, модальная группа F)
на кодирование подачи не влияют.
G94 является исходной (устанавливаемой при включении и сбросе)
функцией модальной группы L.

@8.7.2.11 Модальная группа M:
G- коды, определяющие кодирование скорости шпинделя

В модальную группу M входит единственная функция:
G97- устанавливает кодирование скорости шпинделя в единицах
 измерения- об/мин.
Переключения функций G70,G71 (см. 8.7.2, модальная группа F)
на кодирование скорости шпинделя не влияют.
G97 является исходной (устанавливаемой при включении и сбросе)
функцией модальной группы М.

@8.7.2.12 Модальная группа N:
G- коды, управляющие отводом инструмента в циклах G81..G89.

В модальную группу входят следующие функции:
 ■ G98- устанавливает позицию отвода в стандартных циклах равной
   значению координаты Z на момент включения цикла.
 ■ G99 - устанавливает позицию отвода в стандартных циклах равной
   значению, запрограммированному адресом R.

Запрограммированное слово G98..G98 остается активным,
 пока не будет перезаписано другим кодом данной модальной группы.
G98 является исходной (устанавливаемой при включении и сбросе) функцией
 модальной группы N.

@8.7.3  Программирование адреса  D

Программированием слова с адресом D устанавливаются в активное состояние
 параметры R,L из таблицы парной коррекции на инструмент:
 ■ R- коррекция на радиус инструмента;
 ■ L- коррекция на длину инструмента.

Следующий за адресом числовой параметр указывает на номер ячейки в таблице
 парной коррекции, в которой хранятся значения R,L.
Диапазон значений числового параметра- 0..99.

Значения R,L заносятся в таблицу парной коррекции:
 ■ в меню "Установки" (см. Глава 5);
 ■ в файле конфигурации BASE.INI (см. Приложение А);
 ■ в режиме командной строки (MDI), с помощью расширенных Е-параметров.
Диапазон допустимых значений параметров R,L  - (9999.999 мм.

В ячейке с индексом "0" хранятся нулевые значения R,L которые нельзя
 переустановить из системы, тем самым, при программировании D0
 гарантируется работа с отключенной парной коррекцией.

Коррекция на длину инструмента L, будет отработана с момента активизации
 кодом D, без каких-либо дополнительных команд, во всех кадрах, задающих
 перемещение по оси совпадающей с осью шпинделя (Z,R).

Управление включением коррекции на радиус инструмента осуществляется
функциями G40..G46 (см. 8.7.2, модальная группа Е).
Коррекция на радиус инструмента заданная функциями:
 ■ G41..G42 выполняется только в плоскости интерполяции, установленной
   кодами G17..G19.
 ■ G43..G46 для линейных кадров может выполняется и в пространстве.

Система автоматически устанавливает значение D0, выключая тем самым
 парную коррекцию:
 ■ при включении;
 ■ на момент начала управляющей программы;
 ■ при выполнении операций сброса (см. Глава 3).

Пример использования коррекции на длину инструмента

%
N001  (UAO, 1)            выбор системы координат
N002  X0  Z0              идем в 0 в системе UAO,1
N003  X10  Z100           коррекция по L выключена, т.к.
N004  Z80                 на начало УП установлена D0
N005  D1                  активизируем коррекцию (L=+10)
N006  X20                 в этом кадре нет пути по Z
N007  X40  Z50            а здесь идем с коррекцией +10
N008  G91  D2  X10        смена коррекции (L= -10)
N009  Z0                  отработана новая коррекция -10
N010  G90  X60  Z100      идем с -10
N011  F400  S1000  M03
N012  G81  D3             смена коррекции (L=+20)
N013  X80  Z20  R50       цикл сверления с +20
N014  D0 X100 Z20 R50     и с выключенной коррекцией
N015  G80
N016  X125  M05

@8.7.4  Программирование адресов X,Y,Z,A,B,C,U,V,W

Слово с адресом  XYZABCUVW  задает перемещение по соответствующей
координатной оси.

Программирование числового параметра обязательно, каким бы не было его
 значение.Числовой параметр может программироваться как с десятичной
 точкой, так и без нее. Значения числового параметра могут быть указаны
 либо явно, либо с использованием основных E- параметров (см. 8.8.1).
Программирование характеров между адресом и символом Е недопустимо.
Диапазон значений числового параметра ограничен 15 значащими цифрами.

Перемещения могут быть заданы в  миллиметрах (G71) или в микрометрах (G70).
Последовательность программирования адресов в кадре -любая.

Примеры программирования перемещений по координатным осям

N004 A0B0C0X0Y0Z0U0V0W0            число обязано быть
N821  G71  X-100.0000  Y20.00      в мм с десятичной точкой
N821  G71  X-100  Y20              без нее
N100  G70  X-26.046 A253.0000      в мкм с десятичной точкой
N100  G70  X-25345  A253           без нее
N211  XE45  YE11  AE199            с основными Е- параметрами
N400  G71 X-.567  Z.800            можно и так
N400  G71 X-0.567 Z0.800           то- же самое
N320  G70 U2374.000 W-11.211       в мкм можно с точкой
N013  B-10 Y-50 X100               последовательность адресов произвольная

@8.7.5  Программирование адреса  P

Слово с адресом  P задает выдержку времени свободного резания в
 автоматических циклах G82, G89.

Следующий за адресом числовой параметр устанавливает
значение выдержки в диапазоне 0.01..99.99 сек.

Если на момент включения G82, G89 параметр P не задан -ему присваивается нулевое значение (P = 0) и выдержка времени не отрабатывается.
Может программироваться с числом или основным Е -параметром.
Запрограммированное значение P остается активным, пока не будет переустановлено.
Примеры (см. 8.7.2 модальная группа G).

@8.7.6  Программирование адреса  R

Слово с адресом R программирует плоскость отвода инструмента
 в автоматических циклах G81..G89.

Может программироваться с числом или основным Е -параметром (см. 8.8).
Диапазон значений числового параметра, при явном задании, ограничен
 пятнадцатью значащими цифрами.
Программируется в  миллиметрах или в микрометрах, в зависимости от
 активности кодов модальной группы F (G70..G71).
Примеры (см. 8.7.2 модальная группа G).

@8.7.7  Программирование адресов I,J

Слово с адресом I J программирует координаты центра дуги в круговой
 интерполяции (G02,G03).

Значения числового параметра могут задаются явно, либо с использованием
 основных E- параметров. Диапазон значений числового параметра, при явном
 задании, ограничен 15 значащими цифрами.

Программируется в миллиметрах или в микрометрах в зависимости
 от активности кодов модальной группы F (G70..G71).

Круговая интерполяция выполняется в плоскости, устанавливаемой кодами
 G17..G19 модальной группы В.

Адреса I,J программируют координаты центра дуги независимо от выбранной
 плоскости интерполяции. Адрес I программирует точку центра по первой оси,
 составляющей плоскость (абсцисса). Адрес J программирует точку центра по
 второй оси,  составляющей плоскость (ордината).
Программирование адресов I,J обязательно.
Пример (см. 8.7.2 модальная группа А).

@8.7.8  Программирование адреса  К

Слово с адресом К программирует шаг, с которым выполняются перемещения
 в автоматическом цикле сверления глубокого отверстия (G83).
Числовой параметр при адресе К принимает только положительные значения.

Может программироваться с числом или основным Е -параметром (см. 8.8).
Диапазон значений числового параметра, при явном задании,
 ограничен пятнадцатью значащими цифрами.

Программируется в миллиметрах или в микрометрах в зависимости от
 активности кодов модальной группы F (G70..G71).
Примеры (см. 8.7.2 модальная группа G).

@8.7.9  Программирование адреса  F

Слово с адресом F программирует скорость подачи с которой выполняются
 все линейные (G01) и круговые (G02, G03) перемещения.

При задании движения одновременно по нескольким осям подача выражает
 скорость перемещения по вектору. Значение F становиться активным,
 начиная с кадра где оно запрограммировано и до тех пор пока не будет
 перезаписано.
 Единицы измерения параметра F определяются установками кодов модальной
 группы L. В настоящий момент система поддерживает только программирование
 подачи в мм/мин  (по коду G94), независимо от активности кодов модальной
 группы F (G70..G71).

Диапазон допустимых значений подачи устанавливается для каждой оси в
 файле конфигурации системы BASE.INI (см. Приложение А).
При программировании движения по нескольким осям с разными допустимыми
 значениями подачи система автоматически устанавливает такую подачу по
 вектору, чтобы подача ни по одной оси не вышла бы за пределы
 установленного для нее диапазона.

Может программироваться с числом или основным Е -параметром.
Диапазон значений числового параметра, при явном задании,
 ограничен пятнадцатью значащими цифрами.

При включении и сбросе, а также на начало файла устанавливается
 значение F = 240 мм/мин.

Расположенный на пульте оператора потенциометр коррекции подачи
 (см. Глава 2) позволяет изменять значение  программируемое кодом F
 по всей траектории движения в диапазоне 10-110% от заданной величины.

@8.7.10 Программирование адреса  S

Слово с адресом S программирует скорость вращения шпинделя.

Заданное значение S действует, начиная с кадра, где оно запрограммировано,
 до тех пор, пока не будет перезаписано.

Программирование адреса S - не команда на включение шпинделя,
 а установочная операция в, результате которой в системную переменную
 S заносится значение скорости, с которой будет запущен шпиндель.
Управление шпинделем осуществляется функциями М, выполняющими
 включение-выключение шпинделя по заданному алгоритму (см. 8.7.12).

Единицы измерения параметра S определяются установками кодов модальной
 группы М. В настоящий момент система поддерживает только
 программирование скорости вращения шпинделя в об/мин (по коду G97).

Диапазон допустимых значений S устанавливается файле конфигурации системы
BASE.INI (Приложение А) для каждой ступени передаточной коробки шпинделя.

При запуске шпинделя:
 ■ если ступень передаточной коробки шпинделя включена явно
   (кодами М41..М46) -система проверяет значение S на соответствие
   диапазону данной ступени, если  значение S не находится в
   установленном диапазоне -блокирует запуск шпинделя.
 ■ если установлен код автоматического выбора ступени (М40)-
   система автоматически устанавливает ступень, диапазон которой
   соответсвует заданному коду S, и запускает шпиндель.

Может программироваться с числом или целочисленным Е -параметром (Е0..Е9).
При включении и сбросе, а также на начало файла устанавливается
 значение S = 0.

Расположенный на пульте оператора потенциометр коррекции скорости шпинделя
 (см. Глава 2) позволяет изменять значение, программируемое кодом S по
 всей траектории движения в диапазоне 75-125% от заданной величины.

На станках где управление скоростью вращения шпинделя выполняется
 механически -код S не используется.

@8.7.11 Программирование адреса  T

Программирование слова с адресом Т определяет номер инструмента,
 а также связанный с ним номер ячейки в таблице парной коррекции
 на инструмент DL где:
 ■ D -коррекция на радиус инструмента;
 ■ L- коррекция на длину инструмента.

Параметр, определяющий номер инструмента отделен от параметра
 определяющего номер коррекции знаком "."

Номер инструмента -целое положительное число, диапазон допустимых
 значений устанавливается файле конфигурации системы BASE.INI
 (см. Приложение А) для каждого конкретного станка;
Может программироваться с числом или целочисленным Е -параметром (Е0..Е9).
Программирование адреса Т -установочная операция в, результате которой
 в системную переменную заносится значение номера инструмента, который
 будет установлен в шпиндель последующей командой М06 (см. 8.7.12).

Номер парной коррекции- целое положительное число, задает в системную
 переменную номер ячейки таблицы DL,  значения коррекции инструмента,
 записанные в данной ячейке станут активными после выполнения ближайшей
 команды смены инструмента М06.
Диапазон допустимых значений 0..99;
Может программироваться с числом или целочисленным Е -параметром (Е0..Е9).
Не обязательно программируется с адресом Т.

Примеры программирования адреса Т:
T8.8   T5.99   T1   TЕ2   TЕ0.Е9

@8.7.12 Программирование адреса  М

Программирование слова с адресом М вызывает на отработку одну из функций
 станочной автоматики. Функции станочной автоматики (см. Приложение В)
 составляются программистом-наладчиком на этапе привязки системы, их
 состав и количество зависит от характеристик конкретного станка.

Числовой параметр при адресе М задает порядковый номер функции, которую
 надо исполнить. Диапазон допустимых значений параметра 0..99 однако
 заданы могут быть только значения функций, определенные программистом-
 наладчиком для данного станка.

Если в кадре вместе с функциями М задано перемещение-одни функции
 будут отработаны до начала движения, другие после его завершения,
 указанный признак устанавливает программист при написании функций.

В одном кадре можно программировать 0..3 функций М.
Может программироваться с числом или целочисленным Е -параметром (Е0..Е9).

Функция М06 вместе с установкой инструмента, заданного кодом Т,
 одновременно активизирует номер, связанной с инструментом парной
 коррекции, если он был задан с кодом Т.

В таблице 8.7.5 приведен набор операций М, наиболее часто используемый
 в управлении станками. Полный перечень операций М для Вашего станка
 с описанием алгоритмов работы приведен в Приложении В.

 Таблица 8.7.5  Операции М




 ┌───────────────────────────────────────────────────────────────────────┐
 │ Код │ Движение │ Чем отменить │ Действие                              │
 ├───────────────────────────────────────────────────────────────────────┤
 │ М00 │ После    │ Начало цикла │ Технологический останов программы     │
 │     │          │              │  (движение, шпиндель, охладитель      │
 │     │          │              │  выключены, выход в режим HOLD)       │
 │ М01 │ После    │ Начало цикла │ Факультативный останов программы      │
 │     │          │              │  (если USO =1, М01 обрабатывается как │
 │     │          │              │  М00, если USO =0 -М01 пропускается)  │
 │ М02 │ После    │       -      │ Принудительное завершение программы   │
 │ М03 │ Перед    │ М04, М05     │ Включение вращения шпинделя           │
 │     │          │ М14, М19     │  по часовой стрелке                   │
 │ М04 │ Перед    │ М03, М05     │ Включение вращения шпинделя           │
 │     │          │ М14, М19     │  против часовой стрелки               │
 │ М05 │ После    │ М03, М04     │ Отключение шпинделя                   │
 │     │          │ М13, М14     │  и охладителя                         │
 │ М06 │ После    │      -       │ Смена инструмента                     │
 │ М07 │ Перед    │ М09          │ Включение охлаждения воздухом         │
 │ М08 │ Перед    │ М09          │ Включение охлаждения жидкостью        │
 │ М09 │ После    │ М07, М08     │ Отключение охлаждения                 │
 │ М13 │ Перед    │ М04, М05,    │ Включение вращения шпинделя по        │
 │     │          │ М14, М19     │  часовой стрелке, вкл. охлаждения     │
 │ М14 │ Перед    │ М03, М05,    │ Включение вращения шпинделя против    │
 │     │          │ М13, М19     │  часовой стрелки, вкл. охлаждения     │
 │ М19 │ Перед    │ М03,М04,М05, │ Останов шпинделя и                    │
 │     │          │ М13, М14     │  ориентация по углу                   │
 │ М40 │ Перед    │ М41,М42,М43, │ Устанавливает режим                   │
 │     │          │ М44,М45,М46  │  автоматического выбора ступени       │
 │ М41 │ Перед    │ М42,М43,М44  │ Диапазон передач шпинделя,            │
 │     │          │ М45,М46,М40  │  ступень 1                            │
 │ М42 │ Перед    │ М41,М43,М44  │ Диапазон передач шпинделя,            │
 │     │          │ М45,М46,М40  │  ступень 2                            │
 │ М43 │ Перед    │ М41,М42,М44  │ Диапазон передач шпинделя,            │
 │     │          │ М45,М46,М40  │  ступень 3                            │
 │ М44 │ Перед    │ М41,М42,М43  │ Диапазон передач шпинделя,            │
 │     │          │ М45,М46,М40  │  ступень 4                            │
 │ М45 │ Перед    │ М41,М42,М43  │ Диапазон передач шпинделя,            │
 │     │          │ М44,М46,М40  │  ступень 5                            │
 │ М46 │ Перед    │ М41,М42,М43  │ Диапазон передач шпинделя,            │
 │     │          │ М44,М45,М40  │  ступень 6                            │
 │ М60 │ После    │      -       │ Смена детали                          │
 └───────────────────────────────────────────────────────────────────────┘

@8.7.13 Программирование адреса  Н

Программирование слова с адресом Н вызывает на отработку одну из
 вспомогательных функций управления станочной автоматикой.
Вспомогательные функции станочной автоматики (см. Приложение В)
 составляются программистом -наладчиком на этапе привязки системы,
 их состав и количество зависит от характеристик конкретного станка.

Числовой параметр при адресе Н задает порядковый номер функции,
 которую надо исполнить. Диапазон допустимых значений параметра 0..99
 однако заданы могут быть только значения функций, определенные
 программистом-наладчиком для конкретного станка.

Если в кадре вместе с функциями Н задано перемещение-одни функции
 будут отработаны до начала движения, другие после его завершения,
 указанный признак устанавливает программист при формировании функций
 управления автоматикой станка.

В одном кадре можно программировать 0..1 функцию Н.
Может программироваться с числом или целочисленным Е -параметром (Е0..Е9).
Вспомогательные функции Н нельзя программировать в УП, они разработаны для
 наладчика и отрабатываются только в режиме ручного ввода MDI (Глава 3).

Полный перечень операций Н для Вашего станка с описанием алгоритмов работы
 приведен в Приложении В.

@8.8  ПАРАМЕТРИЧЕСКОЕ ПРОГРАММИРОВАНИЕ

В системе предусмотрено два различных типа переменных:
 ■ основные -массив целых и вещественных переменных, предоставляемый
   программисту -технологу для составления управляющих программ;
 ■ расширенные -переменные через которые обеспечивается доступ к
   таблицам точек привязки (UAO), корректоров (DL), а также к некоторым
   системным переменным.

Оба типа переменных программируются как слово с адресом Е, но в
 расширенных переменных между адресом и числовым параметром присутствует
 специальный дополнительный код (8.8.2).
Просмотреть текущие значения Е- параметров можно в функциональных режимах
 "Установки" (см. Глава 5), "Редактор" (см. Глава 7), либо отобразить
  Е- параметр на экране при помощи команды DIS.

@8.8.1  Основные переменные

Для хранения и передачи данных в системе "АЛЬФА" организован специальный
 массив переменных, назовем их Е- параметры. Они позволяют
 программировать геометрические и технологические данные цикла обработки,
 применяются в математических и тригонометрических операциях, а также в
 вычислениях значений выражений.

Записываются как слово с адресом E, за которым следует числовой параметр
 (индекс), указывающий номер данной переменной в массиве.
Диапазон числового кода 0..199, (может быть расширен до 65535).

Примеры программирования слов с адресом Е:
E46  Е199  E0  E99  Е145.

Первые десять параметров (Е0..Е9) определены как целые числа (LongInt)
 с диапазоном значений -2147483647..+2147483647. Остальные параметры
 (E10..E99) определены как действительные 64-х разрядные 15-ти знаковые
 числа (Double) с диапазоном значений -2e308..+2e308.

Переменные с индексами Е0..Е99 автоматически обнуляются:
 ■ при включении системы;
 ■ в начале каждой УП при компиляции и отработке.
 ■ в операциях сброса "Параметры в исходное" и ESC.

Переменные с индексами Е100..Е199 сохраняют свои значения, пока не будет
 выполнено новое присвоение, при выключении системы значения указанных
 переменных сохраняются в файле конфигурации BASE.INI.

Основные E-параметры можно использовать в управляющей программе
 и в режиме ручного ввода (MDI) в качестве:
 ■ операторов присваивания (E40 = 25);
 ■ в выражениях операторов присваивания (E22 =SQR(E56+41.23)-E14);
 ■ в качестве переменных параметров в кадрах ISO (XE76 GE0 FE50);
 ■ в выражениях оператора DIS (DIS, 'Длина =',Е20+Е22-Е50).

@8.8.2  Расширенные переменные

Расширенные переменные предназначены:
 ■ для доступа к ячейкам таблицы привязки UAO;
 ■ для доступа к ячейкам таблицы коррекции на инструмент DL;
 ■ для доступа к текущим системным параметрам.

Программируются в управляющей программе:
 ■ в выражениях операторов присваивания (E22 =SQR(ED56+ЕА4)-EХ);
 ■ в выражениях оператора DIS (DIS, 'Длина =',ЕZ20+ЕZ-ЕL50,'N=',EK).

в режиме ручного ввода (MDI) в качестве:
 ■ операторов присваивания, кроме текущих системных переменных (ED40=25);
 ■ в выражениях операторов присваивания (EL22 =EZ-E40+EZ4/2);
 ■ в выражениях оператора DIS (DIS, 'Z Длина =',ЕZ).

Формат расширенных переменных для работы с таблицей UAO:
Е[буквенный адрес оси][номер ячейки таблицы UAO]
например:
ЕХ58 -значение ячейки 58, поля координаты Х, таблицы UAO;
EZ2   -значение ячейки 2, поля координаты Z, таблицы UAO;
ЕА99  -значение ячейки 99, поля координаты А, таблицы UAO;

Формат расширенных переменных для работы с таблицей DL:
Е[буквенный адрес D или L][номер ячейки таблицы DL]
например:
ЕD34 -значение ячейки 34, поля D (коррекция на радиус), таблицы DL;
ЕL99  -значение ячейки 99, поля L (коррекция на длину), таблицы DL.

Доступ к текущим системным переменным:
Е[буквенный адрес оси]
например:
ЕХ -текущее значение координаты Х, взятое в станочной системе координат;
ЕY -текущее значение координаты Y, взятое в станочной системе координат;
ЕA -текущее значение координаты A, взятое в станочной системе координат;
ЕN -номер текущей системы отсчета (UAO);
ЕК -номер текущего активного корректора на длину и радиус инструмента DL.
В текущие переменные нельзя записать значение, их можно только читать.

@8.8.3  Кадры присваивания

Е- параметры получают значения в кадрах присваивания,
 имеющих следующий формат:

Еn =  "выражение"         -для основных переменных (8.8.1);
Е<адрес>n = "выражение"   -для расширенных переменных (8.8.2);

где "выражение"- совокупность арифметических операций, функций и
 операндов (Е- параметров или числовых констант), результатом выражения
 является число, которое будет сохранено в переменной стоящей слева от
 знака "=".
<адрес> -буква, характеризующая расширенный код (D,L, или имя оси);
n - индекс переменной.

Между словом с адресом Е и знаком "=", а также между знаком "=" и
 "выражением" допускается программировать произвольное количество пустых
  символов (пробелов). В одном кадре можно выполнять произвольное
  количество присвоений, разделяя их знаком "," например:

N25 E14=E35, E198=2.354-EX+E100,E0=0   , E198 =50, E30=ED35, E55=SQR(E10)
EX15=EX, EY15=EY, EZ15=EZ, EA15=EA EB15=EB, E150=EA15, E90=0

В режиме командной строки (MDI) допускается присвоение основных и
 расширенных переменных одном кадре (см. последний пример).
Нельзя переносить часть операторов на другую строку, а также
 программировать совместно с операторами присваивания операторы
 других типов (ISO или трехбуквенных кодов).


Операции в выражениях блоков присваивания

Система выполняет следующие арифметические операции:
     +   -сложение;
     -   -вычитание;
     *   -умножение;
     /   -деление.

Арифметические операции могут использоваться как напрямую в выражениях
 так и в параметрах функций.

Значения математических выражений вычисляются с учетом
 приоритетов скобок и операций.
 Операции умножение(*) деление(/) имеют приоритет выше чем
 операции сложение(+) вычитание(-).
 Приоритеты операций умножение(*) деление(/) равный между собой.
 Приоритеты операций сложение(+) вычитание(-) равный между собой.
Арифметические операции, имеющие равный приоритет выполняются в порядке
 следования. Результаты выполнения  арифметические операции с различными
 комбинациями типов чисел (LongInt -целое, Double -вещественное число),
 приведены ниже:
   LongInt  "операция" LongInt  = LongInt
   Double   "операция" Double   = Double
   LongInt  "операция" Double   = Double

Число или результат выражения принимают тип того Е-параметра, которому
 они присваиваются, если целому числу присваивается вещественный
 результат -он округляется до ближайшего целого значения.

Функции в выражениях блоков присваивания

Система поддерживает следующие функции:
  SIN(i)    -вычисляет синус i;
  COS(i)    -вычисляет косинус i;
  TAN(i)    -вычисляет тангенс i;
  ART(i)    -вычисляет арктангенс i;
  SQR(i)    -вычисляет квадратный корень из i;
  ABS(i)    -вычисляет абсолютное значение i;
  INT(i)    -вычисляет целую часть i;
  NEG(i)    -изменяет знак i на противоположный.

Формальный параметр i в функциях может быть задан:
 ■ числом;
 ■ основным или расширенным Е- параметром;
 ■ "выражением".

Значения тригонометрических функций SIN,COS,TAN и результаты
 вычислений функции ART следует выражать в градусах.

Примеры программирования блоков присваивания

N001  Е0 =0
N364  Е10 =2831.3920384
N0192       E8 = 29381.012811
N2  E37= (E31*  SIN(E30)+129.291)/SQR(E16) +E0/0.02937
N11    E0=ABS(2938.19222222*SIN(E34+E35))
N99999 E0    =     SQR(    ABS(-11111.34857934857)   ) +7
N123  "SIN_UG"  E88=SIN(E56)
N0001  E75=NEG(E75)
N15    E17       =     ART(      E2   /     10    )
N8     E25 = E25 +30
N184   E8 = 28374.38467/ 18267.20348
N002   ABS(SQR((E46+29.293)*((3+2)/(E12/2+293.11))))
E18 =EZ-EL
E3  = (ED11-ED12)/ 7.3451
E199 =EX
E150 = ED+14.223
ED8 = ED7-1.0234
EL99 =E140
EX1 =EX-E120
EZ1 =EZ-EL
N25 E14=E35, E198=2.354-EX+E100,E0=0   ,  E198 =50, E30=ED35, E55=SQR(E10)
N224  E76=34.521, E150=(E76+E77)/2, E76=E150, E199=ABS(SQR(3.1415*E99))
N1000  E10=0, E11=0, E12=0, E100=0

@8.9  КАДРЫ С ТРЕХБУКВЕННЫМИ КОДАМИ

В этом разделе изложены функциональность, синтаксис и порядок
 программирования кадров, имеющих в качестве операторов трехбуквенные коды.
Указанные операторы удобно классифицировать на следующие группы:

 Операторы, изменяющие систему отсчета осей.
 Операторы, изменяющие последовательность  выполнения программы.
 Операторы вывода информации на экран.
 Операторы, устанавливающие значения трехбуквенных системных флагов.

@8.9.1 Операторы, изменяющие систему отсчета осей

Данную группу составляют операторы, позволяющие передвигать систему
 отсчета, в которой запрограммированы все геометрические элементы детали,
 относительно станочной системы координат.

В группу входят следующие операторы:

■ UAO-  использование абсолютных начальных точек;
■ UOT-  определение и использование временных начальных точек;
■ UIO -  определение и использование инкрементных начальных точек.

Система отсчета, заданная операторами UAO, UOT, UIO  остается активной,
 пока не будет переустановлена одной из названных инструкций.

@8.9.1.1  UAO-  использование абсолютных начальных точек

Формат программирования:
(UAO, n)

Операнды  (   UAO  ,   n   ) при программировании могут быть разделены
 между собой произвольным количеством пустых символов (пробелов).

Инструкция устанавливает, для всех кадров перемещений, новую систему
 отсчета, в которой точка начала координат совпадает с координатами,
 заданными под индексом  n  в специально организованной таблице начальных
 точек (далее таблица UAO).
Диапазон допустимых значений индекса  n-  0..99.
Индекс n  может программироваться либо явно, либо с использованием
 целочисленного E -параметра (Е0..Е9).

Ввод координат начальных точек  в таблицу UAO осуществляется
 ■ из меню "Установки" (см. Глава 5);
 ■ с помощью расширенных переменных (см. 8.8.2);
 ■ файле конфигурации BASE.INI (см. Приложение А).

Координаты всех начальных точек, задействованных в управляющей программе
 должны быть введены в таблицу UAO до выполнения компиляции УП(Глава 7).

Координаты начальных точек вносятся в таблицу UAO:
 ■ по каждой из отведенных осей;
 ■ в системе координат станка;
 ■ в единицах измерения- мм.
 ■ диапазон значений для любой оси- 99999..+99999 мм.

В ячейке с индексом "0" хранятся нулевые значения смещения по всем осям.
Эти значения нельзя переустановить из системы, тем самым,
 при программировании (UAO, 0), гарантируется работа в станочной
 системе координат.

Система автоматически устанавливает значение (UAO, 0), задавая станочную
 систему координат:
 ■ при включении;
 ■ на момент начала управляющей программы;
 ■ при выполнении операций сброса (см. Глава 3).

Пример программирования инструкции UAO

N001  X0 Y0 Z0
N002  (UAO, 1)         В ячейке 1 таблицы UAO:  X-70 Y-30 Z-50
N003  X35  Y5
N004  Z-50
N005  G1 Y-20
N006  X-35             программа обработки
N007  Y0
N008  X-20
N007  G2  X20  I0 J0
N008  X40
N009  G0 Z0
N012  (UAO, 2)         В ячейке 2 таблицы UAO:  X-125 Y-60 Z-80
N003  X35  Y5
N004  Z-50
N005  G1 Y-20
N006  X-35             та- же программа обработки что и выше
N007  Y0
N008  X-20
N007  G2  X20  I0 J0
N008  X40
N009  G0 Z0

@8.9.1.2  UOT- определение и использование временных начальных точек

Формат программирования:
(UOT, n [  Var(1),  Var(2),  ...  Var(i) ] )

где:
n  -индекс таблицы UAO (см. 8.9.1, UAO);
Var1..i- адрес i-той оси с числовым значением или основным Е параметром,
 система принимает это значение как смещение и добавляет его к значению
 абсолютного начала координат для данной оси взятой из ячейки n таблицы UAO

Программирование операндов, заключенных в [ ] необязательно.
Каждый адрес может быть запрограммирован только один раз,
 последовательность задания адресов -произвольная. Для незаданных осей,
 активным остается текущее начало координат (UAO, n).

Операнды  ( UOT , n , Var1..i  ) при программировании могут быть разделены
 между собой произвольным количеством пустых символов (пробелов).

Параметры смещений программируются:
 ■ явным числовым значением;
 ■ основным E -параметром (см. 8.8.1).
 ■ в единицах измерения- мм, или мкм, в зависимости от активности
   кодов G70..G71 модальной группы F (см. 8.7.2).

Примеры:
N023  (UOT, 35, X-100, Y-20.345, Z1.23  A0.2  B2.8)
N291  (UOT, 0,  U428367.3625, VE34, W-192.01)
N028  (UOT,1)
N028      (      UOT    ,          1        )
N527   (UOT, E2,  XE56,  Z20,  AE48)

Пример программирования инструкции UOT
В таблице UAO заданы значения:
1    X-150  Y-200
2    X-500  Y-300

N001  X0 Y0
N002  (UOT, 0,  X-50 Y-100)
N003  X0 Y0
N004  (UOT, 1)
N005  X0 Y0
N006  (UOT, 1,  X-100 Y75)
N007  X0 Y0
N008   E4   = 2
N009   E10 = 20
N010  (UOT, E4,  X150 YE10)
N011  X0 Y0
N012  E10 = -100
N013  E120 = -120
N014  (UOT, E4,  XE10 YE120)
N015  X0 Y0
N016  (UOT, 0)
N017  Y0

@8.9.1.3  UIO- определение и использование инкрементных начальных точек

Формат программирования:
(UIO, [  Var(1),  Var(2),  ...  Var(i) ] )

где:
Var1..i- адрес i-той оси с числовым значением,
 система принимает это значение как смещение и добавляет его
 к текущему значению абсолютного начала координат для данной оси.

Программирование операндов, заключенных в [ ] необязательно.
Каждый адрес может быть запрограммирован только один раз,
 последовательность задания адресов -произвольная.
Для незаданных осей, активным остается текущее начало координат,
 пустой оператор (UIO) не вызывает никаких действий.

Параметры смещений программируются:
 ■ явным числовым значением;
 ■ основным E -параметром (см. 8.8.1).
 ■ в единицах измерения- мм, или мкм, в зависимости
   от активности кодов G70..G71 модальной группы F (см. 8.7.2).

Операнды  ( UIO , Var1..i  ) при программировании могут быть разделены
 между собой произвольным количеством пустых символов (пробелов)

Примеры:
N023  (UIO,  X-100,  Z1.23  UE45  B243.8912)
N291  (UIO, 0,  U428367.3625     ,      VE34   ,  W-192.01     )
N028  (UIO)
N028      (      UIO      )
N527   (UIO, E2,  XE56,  Z20,  AE48)

Пример программирования инструкции UIO
N001  G00 X0 Y0
N002  (UIO,  X-50 Y-50)
N003  X20 Y20
N004  G01 X-20
N005  G00
N006  (UIO,  X-50 Y-50)
N007  X20 Y20
N008  G01 X-20
N009  G00
N010  E32 = 50
N011  (UIO,  X-50 YE32)
N012  X20 Y20
N013  G01 X-20

@8.9.2 Операторы, изменяющие последовательность выполнения программ

В группу входят следующие операторы:
 ■ RPT, ERP- циклический повтор группы кадров УП;
 ■ CLS, SUB, ESUB- использование подпрограмм;
 ■ DNC, BEQ,BGT, BLT, BGE, BLE- команды программных переходов.

@8.9.2.1  RPT, ERP- циклический повтор кадров управляющей программы

Команды RPT и ERP ограничивают группу кадров УП, которые следует выполнить
 заданное число раз. Эта группа начинается с RPT и заканчивается ERP.
Формат полной команды RPT/ERP следующий:

(RPT,i)
..........
(ERP)
где:
RPT- оператор, задающий начало цикла;
i -счетчик количества повторов:
 ■ целое число;
 ■ диапазон допустимых значений- 1..65535;
 ■ может программироваться либо явно,
   либо E -параметром целого типа (Е0..Е9);
 ■ уменьшается на 1 при каждом проходе;

.........  - группа программных блоков;
ERP- оператор, задающий конец цикла.
Цикл завершается, если на момент выполнения оператора ERP значение
 счетчика i = 0.

Максимальное количество циклов в файле- 99.
Максимальный установленный уровень вложений циклов -3 в каждой
 подпрограмме или в программе, значит если организовать циклы с
 использованием подпрограмм, то при уровне вложений подпрограмм
 равным 5 можно получить уровень вложений цикла -15.
В рамках одной структуры внутри цикла RPT/ERP можно открыть еще
 до 2 циклов повтора например:

N000  (RPT, Е1)                 начало цикла 3го уровня
.........
N100  (RPT, 50)                 начало цикла 2го уровня
.........
N200  (RPT, 9999)               начало цикла 1го уровня
.........
N300  (ERP)                     конец цикла 1го уровня
.........
N400  (ERP)                     конец цикла 2го уровня
.........
N500  (ERP)                     конец цикла 3го уровня

Пример использования операторов RPT/ERP
(повторение циклов с постоянным интервалом)
N000 (DIS,  ' используем:  вложенный RPT, UIO, G41 ')
N001  X0Y0
N002  S1000 T1.99 M06 M03
N003  (RPT,2)
N004  G0 Z0
N005  (UIO,X80,Y30)
N006  X-25 Y-20
N007  (RPT,3)
N008  G91 Z-10
N009  G90 G1 G41 X-20 Y-20 F500
N010  Y15
N010  X20
N011  Y-15
N012  X-25
N013  G40 Y-20
N015  (ERP)
N015  (ERP)
N016  G0 Z0

Пример использования операторов RPT/ERP
(эквидистантные отверстия)
N000 (DIS,  ' используем:  RPT,  G81,  Е- параметры ')
;
N001  X0Y0
N002  S1000 T1.1 M06 M03
N003  E0    = 8
N004  E10  = 15
N005  E11  = 25
N006  E12  = 20
N007  E13  = 10
;
N008  G81 R40
N009  (RPT, E0)
N010  XE10 YE11 Z-10
N011  E10 =E10 + E12
N012  E11 =E11 + E13
N013  (ERP)
N014  G80 Z0

@8.9.2.2  CLS, SUB, ESUB- использование подпрограмм

Подпрограмма- это последовательность кадров, которые определяют
 повторяющийся цикл обработки.

Операторы SUB, ESUB позволяют определить подпрограмму.
Формат полной команды SUB/ESUB следующий:

(SUB,  "имя подпрограммы")
..........
(ESUB)

где:
SUB- оператор, задающий начало подпрограммы;
"имя подпрограммы"- алфавитно-цифровой код:
 ■ содержит 1..8 символов;
 ■ первый символ -буква;
 ■ все буквы заглавные;
 ■ имена различных подпрограмм на должны повторяться в одном файле.

.........  - группа программных блоков;
ESUB- оператор, задающий конец подпрограммы;

Подпрограммы определяются в текущем файле выше признака начала основной
 программы- %. Подпрограммы делятся на внешние и внутренние (см.8.6).
Внутренние подпрограммы являются неотьемлемой частью файла, в котором
 они размещены. Текст внешних подпрограмм временно присоединяется к
 тексту текущего файла по следующей инструкции
 #  <имя файла>  ,  <имя подпрограммы>
 далее редактируется, компилируется как обычный текст, при завершении
 работы с файлом -не сохраняется на диске.

Операция вставки текста подпрограмм в исходный файл выполняется
 автоматически при загрузке файла или по команде "Сборка" (см. Глава 7).
Номер кадра с инструкцией  #  не программируется.

Максимальное количество подпрограмм в файле- 128.
Максимальный уровень вложений подпрограмм -5,

Определенная операторами SUB/ESUB подпрограмма может быть вызвана из
 основной программы или из любой подпрограммы, в том числе данной
 (рекурсивно) с помощью оператора CLS.
Формат программирования:

(CLS, "имя подпрограммы" )
где:
CLS- оператор, вызова подпрограммы;
"имя подпрограммы"- алфавитно-цифровой код одной из
подпрограмм, определенных в текущем файле операторами
SUB/ESUB.

Пример использования операторов подпрограмм
(операторы  SUB  ESUB  CLS)
N01 (SUB,CIRCLE)
N02 E01=E25/E20
N03 (RPT,E01)
N04 E10=E10+E20
N05 (DIS,'ТЕКУЩИЙ УГОЛ=',E10,' градусов')
N06 E14=E12+E11*COS(E10)
N07 E15=E13+E11*SIN(E10)
N08 XE14YE15
N09 (ERP)
N10 (ESUB)
%
N11 (UAO,1)
N12 G1G90
N13 E10=0                         текущий угол
N14 E11=100                       радиус окружности
N15 E12=0                         центр окружности по X
N16 E13=0                         центр окружности по Y
N17 E20=0.5                       угловое приращение
N18 E25=300                       часть дуги в градусах
N19 E26=-50                       глубина (Z)
N20 E60=1800                      подача
N21 XE11Y0Z0FE60
N22 (CLS,CIRCLE)
N23 G0Z0

@8.9.2.3  DNC, BEQ, BGT, BLT, BGE, BLE- команды программных переходов

Команды переходов осуществляют переход на программный блок, содержащий
 соответствующее поле метки. Переходы могут быть безусловными и условными.
Условия задаются с помощью числовых значений, Е- параметров, "выражений".
Формат и назначение операторов перехода:

(BNC, "метка")- безусловный переход на блок с меткой;
(BGT, Var1, Var2, "метка")- переход на блок с меткой если
                             Var1 больше чем Var2;
(BLT, Var1, Var2, "метка")- переход на блок с меткой если
                             Var1 меньше чем Var2;
(BEQ, Var1, Var2, "метка")- переход на блок с меткой если
                             Var1 равно Var2;
(BNE, Var1, Var2, "метка")- переход на блок с меткой если
                             Var1 не равно Var2;
(BGE, Var1, Var2, "метка")- переход на блок с меткой если
                             Var1 больше или равно Var2;
(BLE, Var1, Var2, "метка")- переход на блок с меткой если
                             Var1 меньше или равно Var2;
где:
Var1, Var2- переменные Е- параметры, числа или "выражения" (8.8),
 значения которых определяют переход по условию;
 "метка"- алфавитно-цифровой код, содержащий 1..8 знаков в
 двойных кавычках (8.4).

Не допускаются переходы:
 ■ из основной программы в подпрограмму;
 ■ из подпрограммы в основную программу;
 ■ в тело цикла, минуя оператор RPT;
 ■ в тело автоматического цикла, минуя операторы G81..G89.

Если переменные Var1, Var2 вещественные, любая математическая операция
 выполненная с ними, обладает ошибкой приближения, характерной для
 процессора, который выполняет накопление после каждой последовательно
 выполняемой операции. Такую ошибку необходимо учитывать в операторах
 перехода BNE, BEQ, BGE, BLE при определении той десятичной дроби-порога,
 ниже которой обе переменные можно считать равными.

Примеры кадров программных переходов:
N11    (BNC, QUIT)
N29374 (BGT, E45, E1, BACK)
N153      (    BGL   ,     29384.4837  ,   29384.4836,  L00000 )
N2222  (BEQ, 2, E2, STOP)
N923   (BNE, 0.229293, 0.229294, _LABEL)
N7777  (BGE,    E0,    1.92837, EXIT)
N0564 (BGE, E32-2374.492+ED, E192, STOP)
N0129  (BEQ, EX, EZ, BREAK)
N2182  (BNE, EL2+EL+2.132-E140, E45+E145, LAB)
N3421  (BGT,EK,4, INC)

Пример использования оператора перехода:
N000 (DIS,  ' используем:  RPT,  G81,  Е- параметры ')
;
N001  X0Y0
N002  S1000 T1.1 M06 M03
N003  E0    = 16
N004  E10  = 15
N005  E11  = 25
N006  E12  = 20
;
N007  G81 R40
N008  (RPT, E0)
N009  XE10 YE11 Z-10
N010  E10 =E10 + E12
N011  (BLT, E10, 160, ENDRPT)
N012  E10=155
N013  E11=55
N014  E20= NEG(E20)
N015  "ENDRPT" (ERP)
N016  G80 Z0

@8.9.3 Операторы вывода информации на экран

В группу входит единственный оператор:
DIS- отображение на экране переменной или контекста.

Команда DIS позволяет воспроизвести на экране, в поле сообщений оператора,
 значение заданной переменной или контекста.

Формат команды:
(DIS, [ "контекст", "выражение", ...  ] )

где:
"контекст"- набор любых символов, заключенный в одинарные кавычки ' ',
"выражение"- числовое значение, Е- параметр или математическое выражение.

Количество операндов типа "контекст" или "выражение",программируемых в
 одной команде DIS не ограничено.
Операнды разделены друг от друга знаком ",".

Вещественные Е- параметры выводятся в 12 позициях с 3 дробными знаками.
Общая длина строки- 40 знаков.

Сообщения, выданные командой DIS, отображаются в отдельной строке зеленым
 цветом и автоматически сбрасываются в следующих случаях:
 ■ начало программы;
 ■ конец программы;
 ■ новый оператор DIS.

Программируются из УП или с командной строки в режиме MDI.
Примеры программирования команды DIS:

(DIS,   'ФРЕЗА  R= '  ,  Е40  ,  '  Вылет L= ', E48 )
(DIS,  ', Е55 ,  'fy3%%FHG','ABC', E47, E1, E0)
(DIS, 'СМЕНИ ИНСТРУМЕНТ')
 (DIS, ' Закрепи деталь ' )
 (DIS,  'A = ',  COS(E23/3.1415*180)*E11+245.101)
(DIS,   SQR(    ABS(-11111.34857934857)   ) +7)
(DIS   ,    NEG  (   E75  )  )
(DIS, 'Арктангенс Е2=  ',  ART( E2 ),  ' градусов')
(DIS,   ABS(SQR((E46+29.293)*((3+2)/(E12/2+293.11)))))
(DIS, 'Точка №', 1,'X=',EX1,'Y=',EY1,'Z=',EZ1)
(DIS, EX, EY, EZ)
(DIS, E190+E199)

@8.9.4 Вспомогательные операторы

В группу входят следующие операторы:
 ■ UCV-  отображение на дисплее координат в режиме реального времени;
 ■ TMR- время останова в конце кадра по команде G04.
 ■ СOL-  установка цвета отрисовки кадров в графическом режиме

@8.9.4.1  UCV- отображение на дисплее координат

Формат программирования:
(UCV, Var )
где:
UCV- код, задающий функцию;
Var-  целое число или Е- параметр целого типа (Е0..Е9).
Допустимый диапазон значений 0..2.

Значение параметра Var  связано с видом отображения координат
следующим соответствием:
 0 -на дисплей выводится расчетное значение координаты;
 1 -на дисплей выводится значение координаты с датчика  преобразователя;
 2 -на дисплей выводится разность между расчетным значением координаты
    и значением координаты с датчика преобразователя;

Примеры программирования функции UCV:
N003  (UCV,  2)
N900  (UCV, E6)
N456  (   UCV   ,   E0  )

@8.9.4.2  TMR- время останова в конце кадра по команде G04

Функция устанавливает значение системной переменной TMR, которое
 используется командой G04 для отработки программной паузы (8.7.2).

Формат программирования:
(TMR, Var )
где:
TMR- код, задающий функцию;
Var-  целое число или Е- параметр целого типа (Е0..Е9).
Допустимый диапазон значений 0..255.
Значение параметра Var заносится в системную переменную TMR.

Примеры программирования функции TMR:
N003  (TMR,  20)
N900  (TMR, E0)
N456  (     TMR   ,   E5  )

@8.9.4.3  СOL- установка цвета отрисовки кадров в графическом режиме

Функция устанавливает цвет, которым в графическом режиме (см. Глава 7)
 будут отрисованы траектории всех кадров, следующих за данным оператором.

Формат программирования:
(СOL, Var )
где:
СOL -код, задающий функцию;
Var-  целое число или Е- параметр целого типа (Е0..Е9),
      допустимый диапазон значений 0..8.

В зависимости от значения параметра Var устанавливаются следующие цвета:
 1 -серый;
 2 -синий;
 3 -зеленый;
 4 -голубой;
 5 -красный;
 6 -сиреневый;
 7 -желтый;
 8 -белый;
 0 -системный, специальный режим в котором траектории различных типов
    перемещений рисуются своим цветом:
     ■ зеленым -команды подвода-отвода, быстрый ход (G0);
     ■ желтым  -линейная интерполяция,  рабочий ход (G1);
     ■ голубым -круговая интерполяция,  рабочий ход (G2,G3);

Установленный оператором СOL цвет остается активным, пока не будет
 перезаписан следующим оператором СOL. В графическом режиме редактора
 предусмотрена возможность оперативно перейти от пользовательской палитры
 цветов (1..8) к системной (0) и наоборот.

В начале программы автоматически устанавливается цвет -системный,
соответствующий оператору (СOL,0)

@8.9.4.4  HLT- программное прерывание компиляции

Функция прерывает компиляцию управляющей программы и выдает сообщение
"Прерывание компиляции".

Формат программирования:
(HLT)
где:  HLT -код, задающий функцию;

Может использоваться при отладке УП как временный код, позволяющий
 остановить компиляцию в любом кадре, например для контроля значений
 Е -параметров в данной точке. Совместно с операторами условного перехода
 (8.9.2) может использоваться как постоянный код, блокирующий загрузку
 УП, если какие-либо параметры не соответствуют программным условиям.