@7.  РЕДАКТОР

Окно "Редактор" предназначено для подготовки к исполнению управляющих
 программ (УП).
Основные операции, выполняемые в "Редакторе":

 ■ загрузка УП из архива на жестком диске, или с дискеты;
 ■ редактирование, используя технологию РС;
 ■ графическая иммитация отработки;
 ■ сохранение УП в архиве или на дискете;
 ■ компилирование и загрузка УП в оперативную память.

Сразу после вызова окна "Редактор", появляется заставка на синем фоне,
 далее именуемая "главное меню".

В первой строке главного меню отображается "имя файла" текущей УП,
 знак "-" голубого цвета перед именем программы сигнализирует, о том,
 что в УП были проведены изменения с момента последнего сохранения.

В левой части второй строки выводятся сообщения системы, в правой ее
 части -два числа, образующие координаты курсора:
 1. позиция символа в строке;
 2. номер текущей строки.

Между двумя разделительными линиями отображается текст УП.
При входе в "Редактор" система автоматически загружает файл, который
 был загружен во время последней работы в "Редакторе"

Наиболее важные команды "Редактора" и клавиши их исполнения т.н.
 "горячие ключи" отображены в нижней строке главного меню.

Внимание!
Существуют два режима работы "Редактора":
 ■ если управляющая программа не загружена для исполнения в оперативную
   память-работа ведется в режиме редактирования, т.е. открыты все опции
   загрузки и корректировки файлов управляющей программы;
 ■ если управляющая программа загружена для исполнения в оперативную
   память-работа ведется в режиме просмотра, т.е. блокируются все функции,
   которые могли бы привести к изменению кода загруженной УП.

В нижней строке-подсказке заблокированные коды обозначаются пустым
 прямоугольником. Для возвращения "Редактора" в штатный режим работы
 необходимо снять УП с исполнения командой Alt + F10.

@7.1  КОМАНДЫ "ГЛАВНОГО МЕНЮ"
Ниже приведены команды "Редактора", исполняемые из "главного меню".

@7.1.1  Команды перемещения курсора

Следующие команды с клавиатуры управляют перемещением курсора в окне
 "главного меню":

               -курсор на одну позицию влево;
               -курсор на одну позицию вправо;
 Tab            -курсор на 6 позиций вправо;
               -курсор на одну строку вверх;
               -курсор на одну строку вниз;
 Home  	        -курсор в начало текущей строки;
 End            -курсор в конец текущей строки;
 PgDn           -прокрутка на 20 строк (1 страницу) вниз по файлу;
 PgUp           -прокрутка на 20 строк (1 страницу) вверх по файлу;
 Ctrl + PgDn    -прокрутка на 200 строк (10 страниц) вниз;
 Ctrl + PgUp    -прокрутка на 200 строк (10 страниц) вверх;
 Ctrl + Home    -курсор в начало файла;
 Ctrl + End     -курсор в конец файла;

@7.1.2  Режимы редактирования вставка/замена

Команда  Ins  с клавиатуры устанавливает режим редактирования текста.

Режиму "замена" соответствует увеличенный курсор,
 режиму "вставка" -обычный, при входе в "Редактор" система автоматически
 устанавливает режим "вставка".

В режиме "замена" символ ASCII, введенный с клавиатуры, помещается в
 текущую позицию курсора, заменяя предыдущий символ, после чего курсор
 сдвигается на одну позицию вправо.
В режиме "вставка" -строка раздвигается на 1 позицию, введенный символ
 помещается перед символом, на который указывает курсор. Если длина
 строки достигает максимальной величины (79 символов), система блокирует
 дальнейший ввод символов в данной строке.

@7.1.3  Работа клавиши "ввод" в главном меню

Команда Enter с клавиатуры вызывает следующие действия:

В режиме редактирования (7.1.2) "замена" курсор помещается на первый
 непустой символ следующей строки, если строка является последней в
 файле, тогда ниже строки, помеченной курсором, вставляется новая пустая
 строка, курсор помещается на первую позицию новой строки.

В режиме редактирования "вставка" ниже строки помеченной курсором,
 вставляется новая пустая строка, ряд символов от позиции курсора до
 конца текущей строки переносится на вновь образованную строку, курсор
 помещается на первую непустую позицию новой строки.

Если для образования новой строки не хватает оперативной памяти,
 система не выполняет данное действие и выдает сообщение
 "Недостаточно памяти".

@7.1.4  Удаление символов слева от курсора

Команда BackSpase с клавиатуры:

 ■ удаляет из строки символ, расположенный слева от курсора;
 ■ если курсор находится в первой позиции строки команда BackSpase
   игнорируется.

@7.1.5  Удаление символов справа от курсора

Команда Del с клавиатуры:

 ■ удаляет символ, на который указывает курсор;
 ■ если справа от курсора нет непустых символов, команда Del переносит
   строку, следующую за текущей, в конец текущей строки, если длина,
   полученной таким образом строки превысит максимальную (79 символов)-
   операция Del игнорируется, на экран выдается сообщение "Длинная строка".

@7.1.6  Вызов основных функций

Список основных функций "главного меню" и команды их вызова:

 F1          -вызвать режим "Помощь" для получения справки;
 F2          -сохранить файл в архиве или на дискете;
 F3*         -выбор и загрузка файла УП в "Редактор";
 F4          -графический режим;
 F5*         -компиляция и загрузка управляющей программы;
 F6          -поиск контекста;
 F7          -разметка строчного блока;
 F8*         -вставка строки;
 F9*         -копирование строчного блока;
 F10*        -перенос строчного блока;
 Alt +F1     -вызов страницы, последнего обращения к справочной службе;
 Alt +F2     -копия файла;
 Alt +F3*    -новый файл;
 Alt +F4     -вход в графический режим для отрисовки выделенного блока;
 Alt +F5     -начало программы с произвольной точки;
 Alt +F6*    -замена контекста;
 Alt +F7     -снятие разметки строчного блока;
 Alt +F8*    -удаление строки;
 Alt +F9*    -удаление выделенного строчного блока;
 Alt +F10*   -нумерация кадров УП по всему файлу;
 Alt +F10**  -выгрузка УП из оперативной памяти;
 Ctrl+F1     -вызов таблицы точек привязки (UAO);
 Ctrl+F2     -вызов таблицы корректоров (DL);
 Ctrl+F3     -вызов таблицы основных Е -параметров;
 Ctrl+F4     -вызов буфера сохраняемых Е -параметров;
 Ctrl+F5*    -сборка в файле внешних подключаемых подпрограмм;
 Ctrl+F6     -вызов "Журнала" хронологии работы станка;
 Ctrl+F7     -вызов "Архива" хронологии работы станка;
 Ctrl+F8     -копирование выделенного блока в "текстовый буфер" на диск;
 Ctrl+F9*    -вставка строк из "текстового буфера" в текущий файл;
 Ctrl+F10    -нумерация кадров УП основной программы.

Символом "*" помечены функции, недоступные в режиме просмотр
 (при загруженной УП). В режиме редактирование исполняются все функции
 кроме помеченной символом "**".

Активные в текущий момент основные функции высвечиваются в нижней
 строке-подсказке. Для просмотра функций, исполняемых совместно с
 управляющей клавишей Alt или Ctrl -нажмите и удерживайте соответствующую
 управляющую клавишу.

@7.2  Окно "Помощь"

В окне "Помощь" предоставляется справочная информация о работе системы
 по всем разделам (см. Глава 4).

Команда F1 с клавиатуры.
При поступлении команды, система активизирует окно "Помощь"
 в режиме "каталог".

Команда Alt + F1 с клавиатуры.
При поступлении команды, система активизирует окно "Помощь", повторяя
 вывод страницы, которая была активна при последнем обращении к окну.

@7.3  Сохранение текущего файла

Команда F2 с клавиатуры

По данной команде производится перезапись текущего файла на то устройство
 с которого он был считан. Если в начале имени файла присутствуют
 символы А: -запись ведется на дискету, в противном случае файл
 сохраняется в архивном каталоге (ISO), расположенном внутри базового
 каталога пакета "АЛЬФА". Файл сохраняется без дополнительных запросов
 с именем и аттрибутами предшествующей версии, которая, таким образом,
 безвозвратно теряется.

Система не ведет сохранение строк, расположенных от начала файла до
 первого оператора подключения внешних подпрограмм (8.6), заданного
 инструкцией  #  <имя файла> , <имя подпрограммы> ... <имя подпрограммы>
 если указанный оператор обнаружен в тексте УП.

Если на диске не хватает места для размещения новой версии файла,
 система выдает сообщение "Нет места на диске". Если при записи файла
 возникает ошибка, система выдает сообщение "Ошибка записи файла",
 в этом случае рекомендуется запустить программу восстановления жесткого
 диска NDD /COMPLETE C:  из каталога NU системы DOS.
При успешном выполнении команды система выдает сообщение "Файл сохранен".

@7.4  Работа с каталогом файлов архива или дискеты

Команда F3 с клавиатуры

По данной команде на экране появляется меню "Чтение файла" (Рис 7.1).

                                  Рис 7.1
 ┌──────────── Чтение файла ─────────────┐
 │                                       │
 │  Маска *.ISO_                         │
 │                                       │
 │- Файлы -------------------------------│
 │                                       │
 │                                       │
 │                                       │
 │                                       │
 │                                       │
 │                                       │
 │                                       │
 │                                       │
 │                                       │
 │                                       │
 └───────────────────────────────────────┘

Меню содержит командную строку с именем "Маска" и окно "Файлы".
В командной строке задается параметр, в котором указывается общий признак
 в именах файлов, по которому они будут выбираться из каталога.

Примеры чтения каталога архива:
A*.*     -выбрать из каталога все файлы, начинающиеся с буквы A;
*.ISO   -все файлы с расширением ISO;
PRES*.UP -все файлы, начинающиеся с PRES, с расширением UP;
*.*        -все файлы каталога.

Для чтения с дискеты поставьте контекст "A:" перед параметром "Маска",
 примеры чтения каталога дискеты:
A:A*.*
A:*.ISO
A:PRES*.UP
A:*.*

Пользуясь командами редактора строки (3.2) введите параметр "Маска"
 и нажмите одну из следующих клавиш:

 Enter, , Alt + Ф  -переход в окно "Файлы";
 Esc                -выход из меню "Чтение файла" в "главное меню".

Если выбран переход в окно "Файлы" -на экране отобразится список
 файлов (см. Рис.7.2), считанный из архива или с дискеты, в
 соответствии с параметром "Маска".

                                  Рис 7.2
 ┌──────────── Чтение файла ─────────────┐
 │                                       │
 │  Маска *.ISO                          │
 │                                       │
 │- Файлы ───────────────────────────────│
 │                                       │
 │    000710.ISO      1396    10-Mar- 1  │
 │    000716.ISO      4738     2-Apr- 1  │
 │    000726.ISO      2307    13-Apr- 1  │
 │    000755.ISO      4588    29-Mar- 1  │
 │    000777.ISO       515     3-May- 1  │
 │    000835.ISO      2228    29-Mar- 1  │
 │       022.ISO    101560    29-Mar- 1  │
 │       023.ISO     97951    29-Mar- 1  │
 │                                       │
 └───────────────────────────────────────┘

В первой колонке выводится "имя файла", во второй -объем
 (общее количество символов в файле), в третьей -дата образования файла.

Для загрузки файла УП в "Редактор" подведите селектор (выделенную
 зеленым фоном область экрана) к нужному файлу и нажмите клавишу Enter.

Если в выгружаемом файле были произведены несохраненные изменения,
 система выдаст меню -запрос на дальнейшие действия (7.32).

Если в файле УП запрограммированы операторы подключения внешних
 подпрограмм  (8.6.3) -система автоматически вставляет текст указанных
 подпрограмм в начало файла или выдает соответствующую ошибку, если
 операция по каким-либо причина не может быть выполнена.

Команды исполняемые в окне "Файлы":

 Esc        -выход из меню "Чтение файла" в главное меню;
 , Alt+М   -переход в строку "Маска";
           -перемещение селектора на 1 позицию вверх каталога;
           -перемещение селектора на 1 позицию вниз;
 PgUp       -перемещение селектора на 7 позиций вверх каталога;
 PgDn       -перемещение селектора на 7 позиций вниз;
 Home       -перемещение селектора в начало каталога;
 End        -перемещение селектора в конец каталога;
 Enter      -загрузка в редактор, выделенного селектором файла
             и выход в главное меню;
 Del        -удаление файла, помеченного селектором;
 Alt+Q      -удаление всей группы файлов, показанных в окне.

При поступлении команды удаления (Del, Alt+Q), система запрашивает
 подтверждение на их выполнение.
Для подтверждения выполнения команды нажмите клавишу "Y" клавиатуры,
 в случае отказа от выполнения данной команды нажмите клавишу "N".

@7.5  ГРАФИЧЕСКАЯ ИММИТАЦИЯ ОТРАБОТКИ УП

Команда F4 с клавиатуры

Графический режим предназначен для визуального контроля траекторий
 движения инструмента, задаваемых в блоках текущей управляющей программы.

Возможности и свойства графического режима:
 ■ рабочей плоскостью может являться любая пара активных осей;
 ■ функция "окно" обеспечивает многократное увеличение участков
   изображения, с запоминанием последних 10 окон по каждой плоскости;
 ■ мгновенная отрисовка -позволяет сразу отобразить траектории всей
   управляющей программы;
 ■ пошаговый режим- покадровая отрисовка траекторий УП с одновременным
   контролем прохождения текущего кадра;
 ■ траектории отображаются относительно любой выбранной системы отсчета;
 ■ возможность контролировать геометрию элементов (снять координаты
   точки, произвести замеры расстояний и.т.д.).
 ■ оперативное управление цветовой палитрой;

Экран в графическом режиме

Система загружает графический экран VGA 640x480 точек, 16 цветов.
В верхней строке, справа показаны имена выбранных осей, составляющих
 плоскость отрисовки, с координатами центра курсора. Остальная часть
 экрана отведена под отрисовку траекторий УП. Первоначальная картинка
 "исходное окно" рисуется:
 ■ в плоскости образованной первой и второй осью, заданными в
   конфигурации (обычно XY);
 ■ в системе координат станка;
 ■ в области рабочих перемещений станка, установленных в файле
   конфигурации BASE.INI для выбранных осей.

Масштабная линейка по обоим осям формируется автоматически.
Соотношение масштабов всегда сохраняется 1:1, что обеспечивает вывод
 неискаженного изображения. В левом верхнем углу экрана отображаются
 адреса осей, образующих плоскость и номер текущего окна,
 "исходное окно" всегда имеет номер -0. В левом нижнем углу
 отображается текущая система отсчета, относительно которой ведется
 отрисовка, задается номером из таблицы UAO (5.1),"исходное окно"
 имеет номер UAO0, соответствующее отрисовке в системе координат станка.

Команды управления
В графическом режиме исполняются следующие команды с клавиатуры:

             -перемещение графического курсора влево на 10 пикселов;
             -перемещение графического курсора вправо на 10 пикселов;
             -перемещение графического курсора вверх на 10 пикселов;
             -перемещение графического курсора вниз на 10 пикселов;
 Shift +     -перемещение графического курсора влево на 1 пиксел;
 Shift +     -перемещение графического курсора вправо на 1 пиксел;
 Shift +     -перемещение графического курсора вверх на 1 пиксел;
 Shift +     -перемещение графического курсора вниз на 1 пиксел;
 Ins          -переключение размеров графического курсора;
 F1           -вызов справочного окна "Помощь";
 Alt +F1      -вызов страницы, последнего обращения к справочной службе;
 F2, Alt +F2  -выбор осей, формирующих рабочую плоскость;
 F3, Alt +F3  -переключение режимов отрисовки мгновенная/покадровая;
 F4, Alt +F4  -наложение/снятие координатной сетки;
 F5, Alt +F5  -включение/выключение коррекции на длину и радиус фрезы;
 F6, Alt +F2  -вкл/выкл полной отрисовки в режиме "фиксация цикла";
 F7, Alt +F7  -замер расстояния;
 F8, Alt +F8  -установка системы отсчета;
 F9, Alt +F9  -управление цветом;
 F10,Alt +F10 -управление отрисовкой кадров подвода/отвода;
 Select       -задание нового окна и перерисовка картинки в новом окне;
 Ctrl +      -перерисовка картинки в предыдущем окне;
 Ctrl +      -перерисовка картинки в последущем окне;
 Home         -перерисовка картинки в первом (исходном) окне;
 End          -перерисовка картинки в последнем окне;
 Enter        -перерисовка картинки в текущем окне;
 Esc          -выход из графического режима

Функции графического режима

Одна из основных функций графического режима, функция "Окно" обеспечивает
 многократное увеличение участков изображения, с запоминанием последних
 10 окон по каждой плоскости;

Если удерживать в нажатом положении клавишу Alt -в верхней строке
 высвечивается строка-подсказка в которой отражены функции графического
 режима, задающие режим отрисовки:

 F1Помощь F2Плоскость F3Шагами F4Сетка F5Фреза F6Полная F7Замер F8UAO
 F9Цвет F0G0

 Подсветка "горячих клавиш" сигнализирует об активности указанной функции.
 На момент загрузки нового файла (7.4) функции автоматически
  устанавливаются в следующее "исходное" состояние:

 F3   -режим "Шагами" выключен;
 F4   -режим "Сетка" включен;
 F5   -режим "Фреза" включен
 F6   -режим "Полная" выключен;
 F7   -режим "Замер" выключен;
 F8   -режим "UAO" выключен;
 F9   -режим "Цвет" включен;
 F10  -режим " G0" включен

Рассмотрим работу функций более подробно.

@7.5.1  Функция "окно"

Данная функция позволяет многократно увеличивать любой участок
 изображения, для этого:
 ■ установите курсор в один из углов выбранной области и нажмите
   клавишу Select";
 ■ переместите курсор в диагонально противоположный угол и повторно
   нажмите "Select".

В результате -указанная часть изображения будет отрисована во весь экран.
Данная операция может выполняться многократно, до тех пор пока цена
 деления одного пиксела экрана не станет меньше 0.1 мкм. Первоначальная
 картинка, "исходное" окно, рисуется в области рабочих перемещений станка.
Соотношение масштабов по установленным осям всегда сохраняется 1:1.

Система запоминает установки последних 10 окон в каждой плоскости.
Для перехода в предыдущее окно данной плоскости нажмите  -Ctrl+ .
Для перехода в последующее окно данной плоскости нажмите -Ctrl+ .
Для возврата в исходное окно нажмите клавишу -Home.
Для перехода в последнее выбранное окно данной плоскости нажмите -End.
Для перерисовки текущего окна нажмите клавишу -Enter.

Номер текущего окна отображается в верхнем левом углу экрана вместе
 с адресами осей, составляющих текущую плоскость.

@7.5.2  Функция "Помощь"

В окне "Помощь" предоставляется справочная информация
о работе системы по всем разделам (см. Глава 4).

Команда F1 с клавиатуры.
При поступлении команды, система активизирует окно "Помощь"
 в режиме "каталог".

Команда Alt + F1 с клавиатуры.
При поступлении команды, система активизирует окно "Помощь", повторяя
 вывод страницы, которая была активна при последнем обращении к окну.

Вывод информации функции "Помощь" осуществляется в текстовом режиме,
 по окончании работы функции, система восстанавливает текущую картинку
 графического режима.

@7.5.3  Функция "Плоскость"

Команда F2 или Alt + F2 с клавиатуры.

По данной команде система устанавливает новую плоскость отрисовки.
Выбор осей новой плоскости осуществляется путем последовательного
 перебора адресов станка, составляющих его координатные оси:

 XY ("исходная"), XZ,YZ  -для 3 осевого станка с адресами XYZ
 XY ("исходная"), XZ,XC,YZ,YC,ZC  -для 4 осевого станка с адресами XYZС
 XY ("исходная"), XZ,XA,XB,YZ,YA,YB,ZA,ZB,AB  -для 5 осевого станка
    с адресами XYZAB

Если текущая плоскость последняя в своем ряду -следующей будет выбрана
"исходная плоскость" и.т.д.

Отрисовка выполняется в последнем, ранее установленном масштабном окне
 выбранной плоскости, все атрибуты отрисовки (шаг, фреза, полная, цвет,
 UAO, G0) сохраняются. Если смена плоскости выполнена при активной опции
 "Замер" -данная опция автоматически выключается.

@7.5.4  Функция "Шагами"

Команда F3 или Alt + F3 с клавиатуры.

По данной команде система высвечивает в верхней строке текст исполняемого
 кадра и входит в "шаговый" режим отрисовки, в котором наряду с командами
 (7.5.2) исполняются  команды управления шагом:

 PgDn         -отрисовать следующий кадр;
 Shift + PgDn -отрисовать 20 последующих кадров;
 Ctrl + PgDn  -отрисовать 200 последующих кадров;
 PgUp         -отрисовать все кадры текущей подпрограммы.

Текущая точка отображается в режиме мигания.
По окончании отрисовки система автоматически выключает "шаговый" режим.
На любом шаге можно отключить "шаговый" режим, нажатием клавиши F3,
 в этом случае система выполнит "мгновенную" (со скоростью машинной
 обработки) дорисовку траекторий оставшихся кадров.

@7.5.5  Функция "Сетка"

Команда F4 или Alt + F4 с клавиатуры.

По данной команде система включает/выключает режим отображения
 координатной сетки с последующей перерисовкой в текущем окне.

@7.5.6  Функция "Фреза"

Команда F5 или Alt + F5 с клавиатуры.

По данной команде система включает/выключает режим
 "коррекция на инструмент" с последующей перерисовкой в текущем окне.

В режиме "включено" -система отображает траектории движения,
 с теми значениями коррекции, как они заданы в управляющей программе.
В режиме "выключено" -система отображает траектории движения, посчитанные
 с нулевыми значениями коррекции на радиус и длину инструмента,
 что позволяет оценить истинные контуры детали.

Если управляющая программа загружена в память-
 режим "выключено" блокируется.

@7.5.7  Функция "Полная"

Команда F6 или Alt + F6 с клавиатуры.

По данной команде система включает/выключает режим отображения ранее
 отработанных кадров программы, с последующей перерисовкой в текущем окне.
Команда активна, если управляющая программа загружена в память машины и
 находится в состоянии "фиксация цикла" (2.2.4), в этом случае:

 ■ если функция "включена" -выполняется отрисовка, начиная с первого
   кадра УП, причем все кадры расположенные выше кадра "фиксации"
   изображаются затененным серым цветом, независимо от состояния
   функции "Цвет", начиная с кадра "фиксации", отрисовка ведется в
   обычном режиме.
 ■ если функция "выключена" -отрисовка ведется в обычном режиме,
   начиная с кадра "фиксации".

@7.5.8  Функция "Замер"

Функция предназначена для замера расстояния между двумя точками в
 текущем окне. Порядок замера следующий:

 ■ установите курсор в первую "исходную" точку и нажмите клавишу
   F7 или Alt + F7, в верхней строке появится индикация
   "Длина отрезка-    0.000 мм";
 ■ перемещая курсор, котролируйте значение в верхней строке, оно равно
   длине отображаемого отрезка, (от "исходной" точки до точки
   перекрестия курсора) спроекцированного на текущую плоскость.
 ■ повторно нажмите клавишу F7 или Alt+ F7 для выхода из функции "замер".

Для точного позиционирования курсора пользуйтесь клавишами Shift + .
При смене окна происходит автоматический выход из функции "Замер".

@7.5.9  Функция "UAO"

Команда F8 или Alt + F8 с клавиатуры.

По данной команде в верхней строке экрана появится запрос -
 "Укажите номер UAO:  n", где  n -номер текущего UAO. Пользуясь командами
 редактора строки укажите номер точки из таблицы UAO (5.1), относительно
 которой в дальнейшем будут отображатся координаты и шкалы во всех
 плоскостях.

После ввода значения -запрос исчезает, система выполняет перерисовку
 в текущем окне. Установленное значение UAO отображается в левом нижнем
 углу экрана. В строке-подсказке функция UAO подсвечивается, если текущее
 значение UAO -не равно 0.

@7.5.10 Функция "Цвет"

Команда F9 или Alt + F9 с клавиатуры.

По данной команде система включает/выключает режим "цвет пользователя"
 с последующей перерисовкой в текущем окне.

 ■ если режим "включен" -изображение траекторий ведется цветом, заданным
   в УП программистом -технологом с помощью оператора COL (8.9.4).
 ■ если режим "выключен" -изображение траекторий ведется "системным"
   цветом и не зависит от установок оператора COL.
"Системный" цвет предусматривает выбор цвета отрисовки в соответсвии
 с типом перемещения:
     	зеленым -команды подвода-отвода, быстрый ход (G0);
  	желтым  -линейная интерполяция,  рабочий ход (G1);
	голубым -круговая интерполяция,  рабочий ход (G2,G3);

Система автоматически устанавливает цвет "системный" в начале каждой
 управляющей программы, поэтому если в УП не запрограммированы
 операторы COL -переключение состояния данного режима не приведет
 к изменению цветов отрисовки.

@7.5.11 Функция "G0"

Команда F10 или Alt + F10 с клавиатуры.

По данной команде система включает/выключает режим "холостой ход"
 с последующей перерисовкой в текущем окне.

 ■ если режим "включен" -траектории холостого хода, заданные кодом G0,
   отрисовываются в обычном порядке;
 ■ если режим "выключен" -траектории холостого хода не отрисовываются;

@7.6  Компиляция управляющей программы

Команда F5 с клавиатуры

По данной команде производится проверка УП на предмет правильности
 написания, соблюдения форматов кадров (Глава 8), контролируется условие,
 что значения координат, подач и др. параметров находятся в диапазонах,
 установленных в файле конфигурации BASE.INI (см. Приложение А).

Если в УП обнаружена ошибка:
 ■ система прерывает компиляцию;
 ■ указывает курсором местонахождение ошибки в файле;
 ■ выдает номер и текст ошибки.

Если все условия выполняются, система выдает заставку об успешной
 компиляции (см. Рис 7.3) и запрашивает подтверждение на постановку
 текущей УП к исполнению.

                                            Рис 7.3
 ┌─────────────────── Сообщение ────────────────────┐
 │                                                  │
 │  Успешная компиляция.                            │
 │  Создать управляющую программу 000716.ISO?       │
 │                                                  │
 │ ------------------------------------------------ │
 │                                                  │
 │               Yes               No               │
 │                                                  │
 └──────────────────────────────────────────────────┘

Если нажата клавиша N -система снимает заставку и возвращается в режим
 редактирования.
Если нажата клавиша Y  -управляющая программа с данным именем загружается
 в память машины и становится готовой к отработке.

Для формирования загрузочного модуля УП, система использует значения,
 установленные в таблицах UAO, DL и сохраняемых Е -параметрах на момент
 загрузки. Если какие-либо из указанных параметров необходимо изменить
 по ходу программы -после внесения новых значений выполните повторную
 компиляцию УП.

С момента постановки УП на исполнение "Редактор" начинает работать в
 режиме "просмотр",  в нем блокируются все функции, которые могут привести
 к изменению кода загруженной управляющей программы. В нижней строке
 подсказке заблокированные коды обозначаются пустым прямоугольником.
Для возвращения "Редактора" в штатный режим, необходимо снять УП с
 исполнения командой Alt + F10.

@7.7  Поиск контекста

Команда F6 с клавиатуры

На экране появляется меню "Поиск" (см. Рис 7.4), содержащее командную
 строку "Текст".
                                                    Рис 7.4
 ┌───────────────────────── Поиск ───────────────────────────┐
 │                                                           │
 │  Текст : E35_                                             │
 │                                                           │
 └───────────────────────────────────────────────────────────┘

Наберите в командной строке необходимый контекст, используя команды
 редактора строки (3.2) и нажмите клавишу "Enter", меню "Поиск" исчезнет,
 на экране отобразится файловая страница с выделенным искомым текстом.
Для продолжения поиска заданного контекста используйте команду "Alt+L"
 из главного меню. Для выхода из опции "Поиск" в главное меню нажмите
 клавишу "Esc".

Поиск ведется от строки, помеченной курсором, до конца файла.
Система выдает сообщение "Указанный текст не найден", если на указанном
 участке файла обнаружить заданный контекст не удалось.

Максимальная длина искомого текста -48 символов.
В строке могут быть заданы любые ASCII -символы в т.ч. пустые.

@7.8  Разметка блока редактирования

Команда F7 с клавиатуры

Данная команда позволяет выделить в файле УП группу строк, называемых
 блоком редактирования, с которым в дальнейшем могут выполняться операции
 копирования, переноса, удаления, отрисовки, копирования в буфер и.т.д.

Подведите курсор к нужной строке и укажите, командой F7 строку-
 начало блока, подобным образом укажите строку -конец блока,
 помеченные строки выделятся желтым текстом на красном фоне.

Разметку можно производить как сверху вниз так и снизу вверх.
Если блок уже помечен, нажатие клавиши F7 начинает новую разметку,
 предыдущая разметка при этом отменяется.
Полностью снять разметку можно командой Alt + F7.

Командами Shift+ , Shift+  можно корректировать уже обозначенную
 разметку, либо самостоятельно выполнить новую разметку.

Для корректировки верхней границы:
 ■ установите курсор на первую помеченную строку;
 ■ клавишами Shift+  переместите верхнюю границу разметки
   до нужной строки.

Для корректировки нижней границы:
 ■ установите курсор на строку, следующую за последней помеченной;
 ■ клавишами Shift+  переместите нижнюю границу разметки до
  нужной строки.

Если курсор не находится в указанных позициях, или разметка отсутствует-
 по командам Shift+ , Shift + система выполняет новую разметку, начиная
 с текущей строки.

@7.9  Вставка строки

Команда F8 с клавиатуры

По данной команде выполняется вставка пустой строки перед строкой,
 на которую указывает курсор. Если объем памяти недостаточен для
 размещения новой строки, система блокирует исполнение команды и выдает
 в рабочей строке сообщение "Недостаточно памяти".

@7.10 Копирование блока редактирования

Команда F9 с клавиатуры

По данной команде выполняется вставка группы строк помеченного блока
 редактирования (7.8) перед строкой, на которую указывает курсор,
 при этом предыдущая разметка блока редактирования снимается и
 переносится на вновь образованные строки. Копирование может выполняться
 в том числе и внутрь помеченного блока редактирования. Если объем памяти
 недостаточен для размещения новой группы строк, система блокирует
 исполнение команды и выдает в рабочей строке сообщение
 "Недостаточно памяти". При отсутствии разметки блока редактирования
 (7.8) система выдает сообщение "Блок не помечен".

@7.11 Перенос блока редактирования

Команда F10 с клавиатуры

По данной команде выполняется вставка группы строк помеченного блока
 редактирования перед строкой, на которую указывает курсор,
 с одновременным удалением исходных строк, при этом разметка блока
 редактирования переносится на вновь образованные строки. Перенос внутрь
 помеченного блока редактирования не приводит к изменениям в файле.

При отсутствии разметки блока редактирования (7.8) система выдает
 сообщение "Блок не помечен".

@7.12 Копия файла

Команда Alt + F2 с клавиатуры

По данной команде производится запись текущего файла в архивный каталог
 или на дискету с указанием нового имени файла.

На экране появляется меню "Копия файла" (см. Рис 7.5), содержащее рабочую
 строку "Новое имя".
                                                    Рис 7.5
 ┌────────────────────── Копия файла ────────────────────────┐
 │                                                           │
 │  Новое имя : 000716.ISO_                                  │
 │                                                           │
 └───────────────────────────────────────────────────────────┘

Задайте в рабочей строке, используя команды редактора строки (3.2),
 новое имя файла в соответствии с принятым форматом (см. ниже) и нажмите
 клавишу "Enter". В результате, в архив или на дискету будет записан
 текущий файл с указанным новым именем, это-же имя будет присвоено и
 самому текущему файлу в редакторе.

Система запрашивает подтверждение на выполнение копии, если файл с
 указанным именем уже существует в архиве или на дискете.
Для выхода из меню "Копия файла" в главное меню нажмите клавишу "Esc".

Формат структуры "имя файла"
Имя файла -структура, состоящая из двух частей, собственно имени и
 расширения имени, разделенных друг от друга символом ".".

Имя -алфавитно-цифровой код, являющийся обязательной составляющей
 "имени файла", содержит 1..8 символов.
Расширение -алфавитно-цифровой код, содержащий 1..3 символов, служит
 для организации групп файлов, связанных общими признаками для облегчения
 их поиска в каталоге. Не является обязательной составляющей имени файла.
Для записи файла на дискету укажите перед именем файла контекст "A:",
 иначе запись будет производится в архивный каталог.

Примеры правильного задания имени файла:

 L0000000, NONAME, _FREZ1, 000675, A:B, A:PROGRAM5      -без расширения;
 L0000000.UP, _FREZ1.046, 000675.BAK, NONAME.0, A:B.ISO -с расширением;

@7.13 Организация нового файла в редакторе

Команда Alt + F3 с клавиатуры

По данной команде текущий файл выгружается (7.32), после чего в редактор
 устанавливается пустой файл со стандартным именем NONAME без расширения
 (7.12).

Рекомендуется не сохранять файлы УП с именем NONAME, а присваивать файлам
 оригинальные имена, используя опцию "Копия файла" (7.12).

@7.14 Графика траекторий блока редактирования

Команда Alt + F4 с клавиатуры

Система активизирует графический режим и работает аналогично (7.5),
 с той разницей, что во всех режимах отрисовываются только траектории
 кадров, выделенные как блок редактирования (7.8).

При отсутствии разметки блока редактирования система выдает
 сообщение "Блок не помечен".

@7.15 Начало программы с произвольного кадра

Команда Alt + F5 с клавиатуры

По данной команде система загружает текущую УП в оперативную память
 машины и устанавливает режим "фиксация цикла" в кадре на который
 указывает курсор. Если указанный курсором кадр по ходу программы
 выполняется один раз -система выдает запрос на подтверждение команды
 (см. Рис. 7.6).
                                            Рис 7.6
 ┌──────────────────── Точка ───────────────────────┐
 │                                                  │
 │  Фиксировать с указанного кадра                  │
 │  управляющую программу 000716.ISO?               │
 │                                                  │
 │ ──────────────────────────────────────────────── │
 │                                                  │
 │               Yes               No               │
 │                                                  │
 └──────────────────────────────────────────────────┘

нажмите:
 ■ клавишу Y для "фиксации цикла" и выхода в "главное меню" редактора;
 ■ клавишу N для выхода в "главное меню".

Перед запуском отработки программы установите координаты станка в точку
 "фиксации", c помощью режима PROF (3.4.7).

Если указанный курсором кадр выполняется многократно
 (кадр подпрограммы, охваченный циклами или операторами перехода)
 система выдает заставку (см. Рис 7.7) и предлагает в графическом
 режиме указать, в каком месте исполнения данного кадра надо
 произвести "фиксацию цикла".
                                             Рис 7.7
 ┌──────────────────── Точка ───────────────────────┐
 │                                                  │
 │  Кадр отрабатывается многократно.                │
 │  Продолжить поиск в графическом режиме?          │
 │                                                  │
 │ ──────────────────────────────────────────────── │
 │                                                  │
 │               Yes               No               │
 │                                                  │
 └──────────────────────────────────────────────────┘

нажмите:
 ■ клавишу Y для входа в графический режим,
 ■ клавишу N для выхода в "главное меню"

В графическом режиме для поиска нужной точки используется функция "Шагами".
В верхней строке высвечивается кадр, в котором нужно произвести
 "фиксацию цикла". При нажатии клавиши PgDn система отображает часть
 программы от начала файла до первой точки исполнения указанного кадра,
 при следующем нажатии PgDn -до второй точки и.т.д  до конца файла.
 Текущая точка отображается в режиме мигания. В меню-подсказке,
 не используемая в данном режиме функция "Фреза" заменена функцией "Точка".

Для "фиксации цикла" выбирите нужную точку исполнения заданного кадра
 и нажмите клавишу F5 или Alt+ F5 клавиатуры.
В верхней строке появится запрос на подтверждение команды-
 "Фиксировать УП с указанной точки?  <Y>-Да,  <N>-Нет", нажмите:

 ■ клавишу Y для "фиксации цикла" и выхода в "главное меню" редактора;
 ■ клавишу N для продолжения работы в графическом режиме.

За исключением указанных выше изменений команд PgDn и F5 (Alt+ F5)
 работа "графики" в режиме поиска точки не отличается от работы в
 режиме просмотра траекторий (7.5, 7.14). Чтобы визуально различить
 эти два режима -подсветка координат задающих плоскость, и функций
 в строке-подсказке в режиме поиска точки выполняется красным цветом,
 в режиме просмотра траекторий -зеленым.

Перед запуском отработки программы установите координаты станка в точку
 "фиксации",c помощью режима PROF (3.4.7).

@7.16 Замена контекста

Команда Alt + F6 с клавиатуры

На экране появляется меню "Замена" (см. Рис 7.8), содержащее две
 командные строки с именами "Текст" и "Новый".
                                                    Рис 7.8
 ┌──────────────────────── Замена ───────────────────────────┐
 │                                                           │
 │  Текст : 100.234_                                         │
 │ ───────────────────────────────────────────────────────── │
 │  Новый : 101.062                                          │
 │                                                           │
 └───────────────────────────────────────────────────────────┘

Наберите, используя команды редактора строки (3.2), в первой строке текст
 подлежащий замене, а во второй строке текст, на который будет заменен
 существующий. В командных строках могут быть заданы любые ASCII -символы
 в т.ч. пустые, количество символов в строке "Текст" может не совпадать
 с количество символов в строке "Новый".

В строке "Текст", кроме команд редактора строки (3.2) выполняются
 следующие команды :
 клавиши  , Alt + Н, Enter -переход в строку "Новый";
 клавиша  Esc               -выход из меню "Замена".

В строке "Новый", кроме команд редактора строки (3.2) выполняются
 следующие команды :
 клавиши , Alt+Т    -переход из строки "Новый" в строку "Текст";
 клавиша Enter       -запуск режима пошагового поиска и замены;
 клавиша Esc         -выход из меню "Замена".

После нажатия клавиши "Enter" в строке "Новый", меню "Замена" исчезает,
 система выполняет поиск заданного текста начиная со строки, помеченной
 курсором до конца файла. Если поиск завершился успешно, система
 отображает страницу с выделенным контекстом и в строке сообщений выдает
 запрос на дальнейшие действия, выполните одну из следующих команд:

 Y    -заменить найденный текст на новый и продолжить поиск;
 N    -не заменять найденный текст и продолжить поиск;
 Esc  -выйти из режима пошагового поиска и замены.

Процесс автоматически прекращается, если строка поиска не может быть
 обнаружена, в этом случае система выдает сообщение
 "Указанный текст не найден".

@7.17 Снятие разметки блока редактирования

Команда Alt + F7 с клавиатуры

Данная команда снимает разметку блока редактирования (7.8),
если она была ранее выполнена.

@7.18 Удаление строки

Команда Alt + F8 с клавиатуры

По данной команде выполняется удаление строки, на которую указывает курсор.
Если текущая строка является последней строкой файла, система выполняет
 очистку данной строки.

@7.19 Удаление блока редактирования

Команда Alt + F9 с клавиатуры

По данной команде выполняется удаление группы строк, помеченных как
 блок редактирования (7.8).

При отсутствии разметки блока редактирования система выдает сообщение
 "Блок не помечен", при нормальном завершении команды выдается
 сообщение "Блок удален".

@7.20 Нумерация кадров файла

Команда Alt + F10 с клавиатуры

Данная опция позволяет пронумеровать кадры по всему файлу управляющей
 программы, кадры подпрограмм и основной программы нумеруются в общем
 порядке. Для нумерации только кадров основной программы пользуйтесь
 командой Ctrl+F10 (7.31).

Первому сверху кадру присваивается номер 1, далее кадры нумеруются
 сверху вниз по файлу с шагом 1, паралельно с нумерацией выполняется
 автоматическое выравнивание текста программы по левому краю. Кадры
 комментарии и пустые строки не нумеруются. Для выполнения нумерации
 наличие в кадрах адреса N необязательно.

При нормальном завершении команды система выдает сообщение
 "Выполнена нумерация кадров".
Команда активна только в режиме "редактирование".

@7.21 Снятие УП с исполнения

Команда Alt + F10 с клавиатуры

По данной команде система выдает заставку (см. Рис 7.9) и запрашивает
 подтверждение на снятие с исполнения УП.

                                           Рис 7.9
 ┌─────────────────── Внимание ─────────────────────┐
 │                                                  │
 │  Загружена управляющая программа 000716.ISO      │
 │  Удалить?                                        │
 │                                                  │
 │ ──────────────────────────────────────────────── │
 │                                                  │
 │               Yes               No               │
 │                                                  │
 └──────────────────────────────────────────────────┘

Нажмите:
 ■ клавишу Y для снятия УП с исполнения, и возвращения в "главное меню",
   с этого момента "Редактор" переходит из режима "просмотр" в режим
   "редактирование", текущая управляющая программа остается загруженной
   в "Редакторе".
 ■ клавишу N для возвращения в "главное меню".

Заставка  (Рис 7.9) в обоих случаях снимается.

@7.22 Вызов таблицы UAO

Команда Ctrl + F1 с клавиатуры

По данной команде система выдает таблицу UAO, позволяющую контролировать
 параметры точек привязки, либо установить новые значения.
Заставка и все команды вызываемого меню аналогичны (5.1).

@7.23 Вызов таблицы DL

Команда Ctrl + F2 с клавиатуры

По данной команде система выдает таблицу DL, позволяющую контролировать
 параметры коррекции на радиус и длину инструмента, либо установить
 новые значения.
Заставка и все команды вызываемого меню аналогичны (5.2).

@7.24 Вызов таблицы Е -параметров

Команда Ctrl + F3 с клавиатуры

По данной команде система выдает таблицу основных Е -параметров (8.8),
 позволяющую контролировать обнуляемые (Е0..Е99) и необнуляемые
 (Е100..Е199) системные переменные, либо установить новые значения.
Заставка и все команды вызываемого меню аналогичны (5.3).

@7.25 Вызов буфера необнуляемых Е -параметров

Команда Ctrl + F4 с клавиатуры

Часто, особенно во время отладки программы с использованием
 параметрического программирования (8.8), возникает необходимость
 контролировать состояние Е-параметров на момент возникновения ошибки
 компиляции и др. случаях. Контроль обнуляемых переменных (Е0..Е99)
 ведется из таблицы Е -параметров (7.24). Значения необнуляемых
 параметров (Е100..Е199) в процессе компиляции не меняются, они
 будут занесены в данную таблицу по ходу отработки программы. Для
 контроля необнуляемых переменных в процессе компиляции создан
 "буфер" необнуляемых Е -параметров (индексированный массив 100..199).
 В начале компиляции программы в "буфер" копируются значения необнуляемых
 переменных, по ходу компиляции эти значения изменяются так как
 запрограммировано в УП, прервав компиляцию в любой точке инструкцией
 (HLT) или по ошибке можно контролировать правильность присвоения
 указанных параметров.

По данной команде система выдает меню "Е -буфер" (см. Рис 7.10),
 в котором отражены значения "буфера" необнуляемых параметров на
 текущий момент компиляции.

                   Рис 7.10
 ┌────── E -буфер ─────────┐
 │                         │
 │  100             0.0000 │
 │  101             0.0000 │
 │  102             0.0000 │
 │  103             0.0000 │
 │  104             0.0000 │
 │  105             0.0000 │
 │  106             0.0000 │
 │  107             0.0000 │
 │  108             0.0000 │
 │  109             0.0000 │
 │                         │
 └─────────────────────────┘

Команды, исполняемые в меню "Е-буфер":
 PgDn   -следующая страница;
 PgUp   -предыдущая страница;
 Home   -первая страница;
 End    -последняя страница;
 Esc    -выход в главное меню.

При загрузке каждой новой программы -"буфер" обнуляется.

@7.26 Сборка внешних подпрограмм

Команда Ctrl + F5 с клавиатуры

По данной команде система обновляет тексты внешних подпрограмм,
 подключаемых инструкцией # (8.6).

Выполняется удаление "старого" текста внешних подпрограмм, от начала
 файла до первого оператора подключения (#). Согласно программированным
 операторам подключения заново формируются тексты внешних подпрограмм,
 взятые из файлов -источников и помещаются в начало текущего файла.
 Если при выполнении "сборки" возникла ошибка -она высвечивается в строке
 сообщений, курсор указывает оператор в котором произошла ошибка.
 Если операция выполнена успешно -система выдает сообщение
 "Выполнена сборка внешних подпрограмм" и позиционирует курсор в
 начало файла.

@7.27 "Журнал" работы станка

Команда Ctrl + F6 с клавиатуры

По данной команде система вызывает меню "Журнал" в котором отражена
 хронология работы станка за последний период (примерно 4..6 месяцев).
 Меню и выполняемые в нем команды аналогичны п.3.3.8.

@7.28 "Архив" работы станка

Команда Ctrl + F7 с клавиатуры

По данной команде система вызывает меню "Архив" в котором отражена
 хронология работы станка за период, предшествующий записям в "Журнал"
 работы станка.
 Меню и выполняемые в нем команды аналогичны п.3.3.9.

@7.29 Копирование в текстовый буфер

Команда Ctrl + F8 с клавиатуры

По данной команде система выполняет копирование группы строк, выделенных
 как блок редактирования (7.8) в специальный текстовый файл Cache.tmp,
 расположенный  на жестком диске.

Объем копируемого блока не ограничивается.
 При успешном сохранении выдается сообщение "Буфер сохранен", в противном
 случае в окне сообщений высвечивается соответствующая ошибка.
 При отсутствии разметки блока редактирования система выдает сообщение
 "Блок не помечен". Копированный в текстовый буфер фрагмент хранится в
  нем, пока не будет перезаписан следующей командой Ctrl + F8.
 При включении системы текстовый буфер очищается.

Операция выполняется совместно с командой "Вставка из текстового буфера"
 и позволяет переносить фрагменты текста из одного файла- в другой, а
 также выполнять копирование, наряду с командой F9 (7.10).

@7.30 Вставка из текстового буфера

Команда Ctrl + F9 с клавиатуры

По данной команде система выполняет вставку группы строк ренее
 копированных в текстовый файл Cache.tmp (7.29), перед строкой,
 помеченной курсором. При успешном выполнении система выдает сообщение
 "Буфер копирован", в противном случае высвечивается соответствующая
 ошибка. При отсутствии данных в текстовом буфере выдается сообщение
 "Буфер пуст". Вставленный блок автоматически размечается как блок
 редактирования.

Операция выполняется совместно с командой "Копирование в текстовый буфер"
 и позволяет переносить фрагменты текста из одного файла- в другой,
 а также выполнять копирование, наряду с командой F9 (7.10).

@7.31 Нумерация кадров основной программы

Команда Ctrl + F10 с клавиатуры

Данная опция позволяет пронумеровать только кадры основной программы,
кадры внешних и внутренних подпрограмм не нумеруются.
Для нумерации всех кадров файла пользуйтесь командой Alt+F10 (7.20).

Первому кадру, следующему за символом % присваивается номер 1, далее
 кадры нумеруются сверху вниз по файлу с шагом 1, паралельно с
 нумерацией выполняется автоматическое выравнивание текста программы
 по левому краю. Кадры комментарии и пустые строки не нумеруются.
 Для выполнения нумерации наличие в кадрах адреса N необязательно.

При нормальном завершении команды система выдает сообщение
"Выполнена нумерация кадров".
Команда активна только в режиме "редактирование".

@7.32 Выход из функционального режима "Редактор"

Команда Alt + X с клавиатуры

По данной команде система завершает работу в окне "Редактор"
и возвращается в окно "главное" системы.

Если в текущем файле имеется несохраненная информация, система отображает
 на экране окно "Сообщение" (см. Рис 7.11).

                                        Рис 7.11
 ┌───────────────── Сообщение ───────────────────┐
 │                                               │
 │  Файл 000716.ISO был изменен. Сохранить?      │
 │                                               │
 │ ───────────────────────────────────────────── │
 │                                               │
 │          Yes         No         Esc           │
 │                                               │
 └───────────────────────────────────────────────┘

В окне выдается предупреждение о наличии в выгружаемом файле
 несохраненной информации и предлагается выполнить одну
 из следующих команд:

 Y    -сохранить информацию в текущем файле и выйти из "Редактора";
 N    -выйти из "Редактора" без сохранения информации;
 Esc  -отказаться от выхода, продолжить работу в "Редакторе".

Указанное окно появляется при любой попытке выгрузить файл, в котором
были сделаны не сохраненные изменения (7.4, 7.13).
