@6.  НАЛАДКА

Опция "Наладка" предназначена для настройки аппаратуры системы и станка.
Структурно опция организована в виде "главного меню" из которого
 осуществляется вызов следующих функциональных окон:

"Помощь"    -справочная информация по всем разделам системы;
"Установки" -задание основных переменных и параметров системы;
"Порты"     -контроль и управление дискретными сигналами автоматики;
 "ЦАП"      -контроль и настройка плат управления приводами;
 "ДОС"      -контроль датчиков преобразователей;
 "Движение" -настройка приводов, определение коэффициентов движения
             для каждого конкретного привода.

Вход в режим защищен паролем -кодовое слово 0..16 любых символов.
Для запроса пароля на экране появляется заставка (см. Рис 6.1).

                                 Рис 6.1
 ┌─────────────── Пароль ───────────────┐
 │                                      │
 │                                      │
 │ _                                 │
 │──────────────────────────────────────│
 │                                      │
 │                  Esc                 │
 └──────────────────────────────────────┘

Ввведите пароль, пользуясь командами редактора строки (3.2), вводимые
 символы будут отображаться неявно в виде знаков "". Ели пароль введен
 верно, на экране появится заставка "главного меню" опции "Наладка"
 (см. Рис 6.2), в противном случае система блокирует вход в опцию.

                                                    Рис 6.2
 ┌──────────────────────────────────────────────────────────┐
 │                                                          │
 │      НАЛАДКА                                             │
 │     ________________________________________________     │
 │                                                          │
 │                                                          │
 │      ■    Установка основных параметров системы          │
 │      ■    Управление  электроавтоматикой станка          │
 │      ■    Контроль датчиков положения координат          │
 │      ■    Прямое управление напряжением на приводах      │
 │      ■    Диагностика и тестирование                     │
 │                                                          │
 │                                                          │
 └──────────────────────────────────────────────────────────┘

Команды управления "главного меню"

В режиме "главного меню" выполняются следующие команды с клавиатуры:
F1        -вызов меню "Помощь";
Alt +F1   -вызов страницы, последнего обращении к справочной службе;
F2        -вызов меню "Установки";
F3        -вызов меню "Порты";
F4        -вызов меню "ЦАП";
F5        -вызов меню "ДОС";
F6        -вызов меню "Движение" (активно при включенном станке);
F9        -сброс ошибки;
Alt+X     -выход из режима "Наладка".

Внимание!
В окне "Наладка" осуществляется блокировка движения от маховиков и
 задатчиков скорости, если указанные органы управления организованы
 на данном станке.

Функциональные окна меню "Наладка"

Каждое окно предназначено для выполнения некоторого законченного действия,
 тестирования и настройки определенного аппаратного блока.

@6.1  ОКНО "ПОМОЩЬ"

В окне "Помощь" предоставляется справочная информация
о работе системы по всем разделам (см. Глава 4).

Клавиша F1
При поступлении команды, система:
 ■ активизирует окно "Помощь" в режиме "каталог".

Клавиши  Alt + F1
При поступлении команды, система:
 ■ активизирует окно "Помощь", повторяя вывод страницы, которая была
   активна при последнем обращении к окну.

@6.2  ФУНКЦИЯ "УСТАНОВКИ"

Клавиша F2
При поступлении команды на экране появляется заставка меню "Установки".

Функция предназначена для ввода и корректировки основных параметров
 конфигурации системы. Параметры разбиты на 2 группы, каждая группа
 отображается на своем листе, номер текущего листа выводится в правом
 верхнем углу меню.

@6.2.1  Общие системные параметры

 На листе 1 устанавливаются параметры системы, не зависящие от конкретной
 оси Для установки параметров исполняются следующие команды с клавиатуры:

      -переместить селектор на 1 позицию вверх по списку;
      -переместить селектор на 1 позицию вниз  по списку;
 Home  -переместить селектор в начало списка;
 End   -переместить селектор в конец списка;
 Tab   -отобразить лист 2;
 F4    -редактировать указанный селектором параметр используя команды
        редактора строки (3.2);
 Esc   -завершить работу в меню "Установки".

Система игнорирует команду "Enter" в редакторе строки, если параметр
 введен некорректно или его значение находится за пределами
 установленного диапазона.

 ■ Ускорение на быстрых подачах -с данным ускорением система рассчитывает
   перемещение вектора на холостых ходах (по коду G0) во всех режимах
   управления станком, диапазон значений- 1..5000 мм/с2;

 ■ Ускорение на рабочих подачах -с данным ускорением система рассчитывает
   перемещение вектора на рабочих ходах (по коду G1.. G3) во всех режимах
   управления станком, диапазон значений- 1..5000 мм/с2

Внимание!
Значения ускорений должны устанавливатся с учетом реальной возможности их
 отработки системой привод-двигатель, в противном случае возможны удары,
 колебания, рассогласования при движении на старте-торможении.
Ускорение на быстрых подачах обычно выставляется максимальным, при котором
 реверс в широком диапазоне подач выполняется без удара.
Ввиду того, что рабочие подачи обычно значительно меньше подач подвода-
 отвода, для повышения точности прохождения участков разгона-торможения,
 рекомендуется задавать ускорение на рабочих подачах в 2..4 раза меньше
 ускорения на быстрых подачах.

 ■ Рассогласование до СТОП подачи -если разность между расчетным и
   датчиковым значениями координаты превысит указанную величину -система
   вырабатывает ошибку "Рассогласование по оси <имя оси>", останавливает
   цикл и отключается привод оси, по которой произошла ошибка,
   диапазон значений- 100..10000 мкм  (целое число);
   Восстановление оси после данной ошибки выполняйте как указано в 3.3.14.

 ■ Рассогласование до СТОП станка -если разность между расчетным и
   датчиковым значениями координаты превысит указанную величину -система
   вырабатывает ошибку "Предельное рассогласование по оси <имя оси>" и
   выключает станок, диапазон значений- 100..10000 мкм  (целое число);

 ■ Допустимое  R1 - R0 окружности -если разность между начальным и конечным
   радиусом запрограммированной дуги превысит указанное значение- система
   выдает ошибку компиляции  "Неконгруэнтный профиль", в противном случае
   выполняется отработка дуги, диапазон значений- 0.01..1 мм;

 ■ Допустимый перепад скоростей DV -переменная устанавливает значение
   максимального перепада скоростей <ступеньки> при отработке движения
   по коду G27. На изломах траекторий движения  возникают скачкообразные
   изменения составляющих скорости по осям (dV), которые привод не может
   отработать. Система снижает подачу на подходе к точкам излома с
   расчетом, чтобы dV не превышала величины заданной переменной,
   диапазон значений 0.01..5.0 мм/сек;

 ■ Время ожидания включения ССИ- время между двумя командами на включение
   насоса импульсной смазки, диапазон значений 0..100000 сек;

 ■ Время работы насосов ССИ- продолжительность работы насоса ССИ после
   включения, диапазон значений 0..100 сек;

 ■ Длительность циклов автоматики- в течении указанного времени ведется
   опрос дискретных сигналов в циклах электроавтоматики. Если ожидаемый
   сигнал получен- система немедленно приступает к выполнению следующего
   программного шага, если ожидаемого сигнала нет по истечении данного
   времени - система генерирует соответствующую ошибку,
   диапазон значений 0..100 сек;

 ■ Пауза в циклах автоматики- устанавливается длительность пауз,
   организованных программистом в циклах электроавтоматики,
   диапазон значений 0..10 сек;

 ■ Период обновления экрана- через заданный интервал времени система
   выполняет новую отрисовку параметров экрана в окнах "Главное" и
   "Наладка", диапазон значений 0..10 сек;

 ■ Обновление дискретных сигналов- через заданный интервал времени система
   выполняет новую отрисовку состояния сигналов станочной автоматики в
   Экране 3, правой панели (2.3.7), диапазон значений 0..10 сек;

 ■ Время индикации сообщения- система автоматически снимет с экрана
   выданное сообщение по истечении указанного времени,
   диапазон значений 0..100 сек;

@6.2.2  Параметры, характеризующие заданную ось

На листе 2 устанавливаются параметры системы, для каждой конкретной оси.

В левом верхнем углу отображается координатная ось, по которой ведутся
 установки. Параметры разбиты на 4 группы, каждая группа отображается в
 своем окне: 1- ЦАП, 2- ДОС, 3- Штурвалы, 4- Движение.

Для установки параметров исполняются следующие команды с клавиатуры:

     -переместить селектор на 1 позицию вверх по списку;
     -переместить селектор на 1 позицию вниз   по списку;
     -перемещение селектора на начало следующего окна,
     -перемещение селектора на начало предыдущего окна;
 Home -переместить селектор в начало окна ЦАП;
 End  -переместить селектор в конец окна Движение;
 Tab  -отобразить лист 1;
 F2   -выбор оси, по которой устанавливаются параметры.
 F4   -редактировать указанный селектором параметр используя команды
       редактора строки (3.2);
 Esc  -завершить работу в меню "Установки".

Система игнорирует команду "Enter" в редакторе строки, если параметр
 введен некорректно или его значение находится за пределами
 установленного диапазона.

Параметры окна ЦАП

В окне ЦАП по каждой оси устанавливаются параметры, связанные с работой
 платы преобразования цифрового сигнала в аналоговый, которым ведется
 управление приводами.

 ■ Фаза -знак управляющего напряжения на выходе ЦАП при подаче на вход
   положительной дискреты, используется при настройке, когда направление
   перемещения по оси противоположно заданному,
   диапазон значений -1..+1 (целые числа),
   значение 0 соответствует отключению управления;

 ■ Баланс -дискрета, соответствующая напряжению 0В на выходе ЦАП,
   определяется в функции "ЦАП" (6.4),
   диапазон значений 0..65534 (целые числа);

Параметры окна ДОС

В окне ДОС по каждой оси устанавливаются параметры, связанные с работой
 платы преобразования сигнала, поступающего с датчика обратной связи.

 ■ Слежение -добротность слежения за расчетной координатой параметр k1,
   настраивается в функции "Движение" (см. 6.6) отдельно по каждой оси,
   диапазон значений 0..255 (целые числа),
   если установлено значение 0, то слежение по данной оси отключено;

 ■ Масштаб -количество дискрет, считанных с выхода платы-преобразователя
   при прохождении исполнительным органом станка расстояния 1 мм,
   диапазон значений -50000..+50000 (целые числа),
   знак "-" реверсирует направление считывания датчика, ставится когда
   изменение расчетной координаты противоположно изменению координаты,
   считанной с датчика-преобразователя.

Параметры окна "Штурвалы"

В окне "Штурвалы" по каждой оси устанавливаются параметры, определяющие
 работу штурвалов и задатчиков скорости.

 ■ Масштаб -количество дискрет, считанных с выхода платы-преобразователя
   штурвала, соответствующее заданию перемещения исполнительного органа
   станка на 1 мм, (например, если за 1 оборот штурвала проходит 10000
   дискрет, а необходимо чтобы за 1 оборот станина переместилась на 2 мм,
   тогда в параметр "масштаб" надо задать 10000/2  =5000).
   диапазон значений -50000..+50000 (целые числа),
   знак "-" реверсирует направление считывания датчика, ставится когда
   изменение расчетной координаты противоположно изменению координаты,
   считанной с датчика-преобразователя.

 ■ Дискрета -значение дискреты ЦАП, определяющее максимальную скорость
   "задатчика", подбирается в соответствии с градацией "задатчика",
   диапазон значений 0..65534 (целые числа),

 ■ Ускорение -количество дискрет ЦАП приращиваемое системой за машинный
   такт (0.002с) в процессе набора значения "Дискрета", регулирует
   ускорение при работе от "задатчика".
   Диапазон значений 0..65534 (целые числа),

Параметры окна "Движение"

В окне "Движение" устанавливаются значения коэффициентов k2,  которые
 используются при формировании управляющей дискреты на выходе ЦАП для
 достижения оптимального движения при различных значениях подачи.

Фиксированные значения подач, функцией которых является коэффициент k2,
 задаются в файле конфигурации BASE.INI (см. Приложение А, Таблица 4.2).
 Параметры k2 =f(F) предварительно определяются в функции "Движение" (6.6).
 Диапазон значений 0..32767 (целые числа).

@6.3  ФУНКЦИЯ "ПОРТЫ"

Клавиша F3
При поступлении команды на экране появляется заставка меню "Порты"

С помощью данной функции выполняются следующие операции:
 ■ контроль сигналов "ввода-вывода" электроавтоматики станка;
 ■ управление каждым, отдельно взятым, сигналом "вывода";
 ■ имитация прохождения сигналов "ввода";
 ■ программирование сигналов "ввода-вывода" на работу по заданным платам
   и разрядам.

Указанные операции позволяют быстро и удобно проверить работоспособность
 органов управления на пульте оператора, правильность и надежность
 срабатывания станочных микропереключателей, нормальное функционирование
 золотников, клапанов и др. станочной автоматики.

@6.3.1  Экран меню "Порты"

На экране отображается таблица дискретных сигналов "ввода-вывода"
 таблица задается в файле конфигурации BASE.INI
 (см. Приложение А, Таблицы 2.1, 2.2), содержит следующие поля:

 ■ N -порядковый номер сигнала в таблице, обращение к дискретным
      сигналам внутри системы ведется по их порядковому номеру;
 ■ Плата -номер платы, на которую физически смонтирован данный сигнал,
   (все установленные в системе платы  имеют бирки с номерами, платы ввода
   и платы вывода нумеруются раздельно), диапазон значений 1...n, где
   n - число плат ввода или вывода соответственно, организованных
   в файле конфигурации системы BASE.INI (см. Приложение А, Таблица 1);
 ■ Канал -номер канала платы, на которую физически смонтирован данный
   сигнал, обычно используются 24-х канальные платы, номер канала
   маркирован на плате напротив каждой монтажной колодки.
   диапазон значений 0..23 (целые числа);
 ■ Маска -специальный параметр, позволяющий имитировать сигналы "ввода"
   и задавать различные сигналы "вывода", диапазон значений 0..2 (целые);
 ■ Факт -фактической значение сигнала, воспринимаемое системой;
 ■ Провод -маркировка провода данного сигнала, устанавливается в файле
   конфигурации системы BASE.INI, формат- 1..6 любых символов.

 ■ Операция -краткое название сигнала, устанавливается в файле
   конфигурации системы BASE.INI, формат- строка из 30 символов.

В левом верхнем углу выводится символ, указывающий тип выделенного
 селектором сигнала:  -сигнал ввода,  -сигнал вывода.

@6.3.2  Команды управления

В меню "Порты" исполняются следующие команды с клавиатуры:

          -переместить селектор на 1 позицию вверх по списку;
          -переместить селектор на 1 позицию вниз   по списку;
 PageUp    -переместить селектор на 10 позиций вверх по списку;
 PageDown  -переместить селектор на 10 позиций вниз по списку;
 Home      -переместить селектор в начало списка;
 End       -переместить селектор в конец списка;
 F1        -вызвать режим "Помощь" для получения справки;
 Alt +F1   -вызов страницы, последнего обращения к справочной службе;
 F4        -редактировать параметры сигнала, используя команды редактора
            строки (3.2), в строке помеченной селектором последовательно
            редактируются поля "плата", "канал", "маска";
 Esc       -завершить работу в меню "Порты".

Система игнорирует команду "Enter" в редакторе строки, если параметр
 введен некорректно или его значение находится за пределами
 установленного диапазона.

@6.3.3  Имитация сигналов "ввода"

С помощью поля "маска" (6.3.1) имеется возможность модифицировать входные
 сигналы, воспринимаемые системой:

 ■ если значение "маска" установлено 2    -текущий фактический сигнал
   принимает значение (0..1) в соответствии с состоянием того реального
   устройства, с которым он работает;
 ■ если значение "маска" установлено 0..1 -текущий фактический сигнал
   принимает значение "маска" независимо от состояния реального устройства.

Таким образом, можно блокировать ошибки, возникающие по каналам "ввода",
 а также искусственно иммитировать различные ситуации, изменяя состояния
 дискретных входных сигналов (например, при отладке алгоритмов станочной
 автоматики).

Внимание!
Будьте внимательны маскируя сигналы, связанные с защитными
 функциями станка.

В окне "Сигналы автоматики станка" (2.3.7) отражается реальное состояние
 станочных сигналов, без учета их маскирования.

@6.3.4  Управление сигналами "вывода"

С помощью поля "маска" (6.3.1) возможно управление отдельно взятыми
 сигналами "вывода":

 ■ задание значение "маска" равным 0..1 эквивалентно подаче
   соответствующей команды на исполнительный механизм, с которым работает
   данный сигнал "вывода";
 ■ задание значение "маска" равным 2- снимает влияние параметра "маска"
   на состояние фактического управляющего сигнала вывода".

Внимание!
Управление сигналами "вывода" при помощи параметра "маска" осуществляется
 напрямую, минуя алгоритмические защиты и ограничения. Будьте внимательны
 при работе в данном режиме.

@6.3.5  Привязка дискретных сигналов

Каждый сигнал из таблицы сигналов "ввода-вывода" может быть легко
 перенастроен на работу с любой соответствующей платой (INP,OUT) и каналом
 без перепрограммирования станочной автоматики. Для этого достаточно
 перемонтировать сигнальный провод на другое место и установить значения
 полей "плата", "канал" по данному сигналу в соответствии с новым монтажом.
 Платы "ввода" и "вывода" маркируются и нумеруются раздельно, это
 необходимо учитывать при задании поля "плата". Следите, чтобы
 установленные значения не повторялись в других сигналах данного типа.

 Возможен контроль сигналов по загоранию светодиодов, установленных на
 платах INP, OUT. Свечение диода соответствует состоянию сигнала
 равным 1, погасание -0, и не зависит от параметра "маска".

@6.4  ФУНКЦИЯ "ЦАП"

Клавиша F4
При поступлении команды на экране появляется заставка меню "ЦАП"
 С помощью данной функции выполняются следующие операции:

 ■ проверка работоспособности платы ЦАП (цифроаналоговое преобразование
   сигнала) по каждому из каналов путем подачи на вход любого цифрового
   управляющего сигнала с последующим контролем выходного сигнала-
   напряжения (10V в режиме "станок выключен";
 ■ определение дискреты "баланс", которой соответствует напряжение 0V на
   выходе канала ЦАПа;
 ■ контроль движения по заданной оси с управлением от системной платы ЦАП
   в режиме "станок включен".

На время работы функции, слежение по всем осям блокируется.
 При завершении работы функции "ЦАП" слежение по осям восстанавливается
 с прежними значениями.

@6.4.1  Экран меню ЦАП

На экране появляется меню "ЦАП" содержащее три информационных
 окна "Установки", "Управление", "Контроль".

В окне "Установки" отображаются:
 ■ название оси, по которой производятся проверки;
 ■ "инкремент" -переменная, на которую будет изменяться
   (в плюс или минус) цифровая управляющая дискрета.

В окне "Управление" отображаются:
 ■ дискрета "баланс", значению которой должно соответствовать
   напряжение 0V на выходе ЦАПа;
 ■ "рабочая дискрета", задающая цифровой управляющий сигнал.

В окне "Контроль" отображаются:
 ■ номер платы ЦАП, с которой работает данная ось;
 ■ номер канала ЦАП по установленной оси;
 ■ полная дискрета на входе в ЦАП, представляющая собой сумму дискрет
   "баланс" и "рабочая дискрета";
 ■ теоретическое напряжение на выходе в вольтах, рассчитанное
   по формуле "напряжение" = "рабочая дискрета" *  Ku,
   где Ku = 10V /  32767 дискрет (для 16-ти разрядного ЦАПа);
 ■ значение координаты текущей оси, по датчику (мм).

@6.4.2  Команды управления

В меню "ЦАП" исполняются следующие команды с клавиатуры:

        -уменьшить дискрету  "баланс" на величину "инкремента";
        -увеличить дискрету  "баланс" на величину "инкремента";
        -уменьшить "рабочую дискрету" на величину "инкремента";
        -увеличить "рабочую дискрету" на величину "инкремента";
 Del     -сбросить в 0 значение "рабочей дискреты";
 Ins     -изменить знак "рабочей дискреты" на противоположный;
 Home    -установить исходное значение дискреты "баланс",
          исходным считается значение 32767;
 F1      -окно "Помощь", выдача справки по всем разделам системы;
 Alt +F1 -вызов страницы, последнего обращения к справочной службе;
 F2      -выбор оси, по которой будет производиться настройка;
 F3      -выбор "инкремента" (6.4.1) из ряда 1,10,100,1000;
 Esc     -выход в "главное меню" окна "Наладка".

@6.4.3  Методика проверки платы ЦАП

Выполняйте проверки в следующем порядке:

 ■ выключите станок;
 ■ войдите в данное меню;
 ■ подсоедините вольтметр к выходу одного из каналов платы ЦАП;
 ■ клавишей F2 установите ось, с которой работает данный канал;
 ■ клавишей F3 установите "инкремент" равным 1000;
 ■ изменяя клавишами  значение "рабочей дискреты", контролируйте
   по вольтметру выходное напряжение, оно должно изменяться в диапазоне
   не уже ё8.5V, иначе канал считается не рабочим;
 ■ клавишей Del сбросьте значение "рабочей дискреты";
 ■ клавишей F3 выберите удобный "инкремент", изменяя клавишами 
   значение дискреты "баланс" установите на выходе ЦАП напряжение 0В;
 ■ изменяйте "рабочую дискрету" при разных значениях "инкремента",
   при этом напряжение на вольтметре не должно отличаться от
   теоретического (в окне "Контроль") более чем на 5% в диапазоне ё8.5V.

@6.4.4 Контроль управления движением

Если все проверки по пункту 6.4.3 успешно завершены, контролируйте
 движение от задания с ЦАПа, выполнив следующие пункты:

 ■ включите станок;
 ■ по возможности установите оси вдали от конечных выключателей;
 ■ войдите в данное меню;
 ■ клавишей F2 установите ось, с которой работает данный канал;
 ■ если координата по датчику быстро изменяет свое значение (бежит)
   при значении "рабочей дискреты" равной 0 -  выполните необходимую
   подстройку на плате приводов, либо компенсируйте указанный перекос,
   подобрав клавишами  значение дискреты "баланс", при котором
   координата по датчику практически не меняет своего значения (стоит).
 ■ клавишей F3 установите "инкремент" равным 100;
 ■ изменяя клавишами  значение "рабочей дискреты", контролируйте
   движение исполнительного механизма. Скорость движения должна плавно
   возрастать с возрастанием значения "рабочей дискреты" и падать,
   при приближении данного значения к нулю, движение должно быть ровное,
   без стуков и колебаний, смена знака "рабочей дискреты" должна приводить
   к смене направления движения. Работая в данном режиме, наладчик сам
   должен контролировать положение исполнительного механизма и не
   допускать его выхода за область допустимых перемещений.
   Клавиша Del сбрасывает значение "рабочей дискреты" в 0, приводя к
   мгновенному останову. Клавиша Ins реверсирует направление движения;
 ■ подобным образом проверьте движение по всем осям.

@6.5  ФУНКЦИЯ "ДОС"

Клавиша F5
При поступлении команды на экране появляется заставка меню "ДОС"

С помощью данной функции осуществляется контроль:
 ■ работоспособности цепи датчик -плата преобразования сигнала датчика
   для определенных в файле BASE.INI (см. Приложение А) координатных осей
   и штурвалов;
 ■ точного положения "ноль метки" датчиков.

Задается физическое перемещение исполнительного органа датчика,
 одновременно контролируется цифровой сигнал, поступающий с выхода
 платы-преобразователя.

@6.5.1  Экран меню "ДОС"

На экране появляется меню "ДОС" содержащее три информационных
 окна "Установки", "Связь", "Контроль".

В окне "Установки" отображаются:
 ■ название оси или номер штурвала, по которым производятся проверки;
 ■ "инкремент" -переменная, на которую будут выполняться дискретные
   перемещения исполнительного органа датчика.

В окне "Связь" отображаются:
 ■ номер платы, по которой работает указанная ось или штурвал;
 ■ номер канала, по которому работает указанная ось или штурвал.

В окне "Контроль" отображаются:
 ■ значение цифрового сигнала, поступающее с выхода платы-преобразователя,
  представленное в двоичном (линейка 24 бита) и десятичном кодах;
 ■ значение координаты с датчика-преобразователя, если контролируется
   координатная ось или задаваемая штурвалом подача (мм/мин), если
   контролируется штурвал.
 ■ сигнал прохождения "ноль метки".

@6.5.2  Команды управления

В меню "ДОС" исполняются следующие команды с клавиатуры:

 F1      -окно "Помощь", выдача справки по всем разделам системы;
 Alt +F1 -вызов страницы, последнего обращения к справочной службе;
 F2      -выбор оси или штурвала, по которым будет производится настройка;
 F3      -выбор "инкремента" (6.5.1) из ряда 1,8,16,32,64,128;
 F10     -сброс индикации прохождения  "ноль метки";
        -задание перемещения в "-" на величину "инкремента";
        -задание перемещения в "+" на величину "инкремента";
 Esc     -выход в "главное меню" окна "Наладка".

@6.5.3  Порядок работы

Выполняйте проверки в следующем порядке:

 ■ клавишей F2 установите текущую ось или штурвал, система выполняет
   последовательный перебор сначала координатных осей, а затем
   штурвалов в том порядке, в котором они организованы в файле
   конфигурации BASE.INI.
 ■ клавишей F3 установите необходимое значение "инкремента";
 ■ задайте перемещение исполнительного органа датчика, Если станок
   включен, перемещение по координатным осям задается клавишами 
   (6.5.2) на величину "инкремента", но может осуществляться и вручную,
   если это физически возможно. Выходной сигнал должен изменяться
   адекватно перемещениям исполнительного органа датчика.

 На Рис 6.3 приведена зависимость изменяемого разряда цифрового сигнала на
  выходе от значения установленного "инкремента", при задании перемещений
  от станка:
                                                            Рис 6.3
 ┌──────────────────────────────────────────────────────────────────┐
 │  "инкремент"        │      1     8    16    32    64    128      │
 │──────────────────────────────────────────────────────────────────│
 │  изменяемый разряд  │      0     3     4     5     6      7      │
 └──────────────────────────────────────────────────────────────────┘

@6.6  ФУНКЦИЯ "ДВИЖЕНИЕ"

Клавиша F6
При поступлении команды на экране появляется заставка меню "Движение".

Функция позволяет определить коэффициенты k1,k2, система использует их как
 параметры управления приводом при выполнении перемещений по осям станка.
 Для определения коэффициентов задается циклическое движение по выбранной
 оси, на указанном участке ходового винта, с заданной подачей, в этом
 режиме осуществляется подбор параметров k1, k2 по критерию "наименьшего
 рассогласования". Полученные коэффициенты вводятся в систему.
 Определение и ввод в систему параметров k1, k2 выполняется на этапе
 привязки системы к станку, а также после ремонтных работ, связанных с
 приводами, двигателями, механикой ходовой части станка.
 Функция "Движение" активна только в состоянии "станок включен".

@6.6.1  Коэффициенты k1, k2

 k1 -коэффициент жесткости слежения:
      -регулирует мощность процесса, посредством которого система
       компенсирует возникающие погрешности;
      -диапазон значений 0..20 (целые числа);
      -значение k1 = 0 соответствует работе без слежения.

 k2 -коэффициент скорости:
      -связывает управляющий сигнал и реальную скорость
       перемещения по оси в режиме V =const;
      -является функцией текущей подачи k2 =f(F);
      -диапазон значений 0..32767 (целые числа);
      -определяется для каждой оси при фиксированных значениях
       подачи, которые задаются в файле конфигурации BASE.INI.

@6.6.2  Экран  меню "Движение"

На экране появляется меню "Движение" содержащее три
 информационных окна "Установки", "Управление", "Контроль".

В окне "Установки" отображаются:
 ■ название оси, по которой производятся проверки;
 ■ участок координатной оси, в котором будут выполняться перемещения,
   задается значениями краев min, max  исходя из условий:
     -минимальный диапазон max-min должен быть не менее 20 мм;
     -значения min, max задаются из диапазона рабочей зоны перемещений
      станка по данной оси, не ближе 10 мм от его краев. В начале работы
      система автоматически устанавливает параметр max -10 мм от
      максимального значения, установленного для данной оси
      (см. файл BASE.INI, Таблица 4.1, в Приложении А), параметр min-
      в среднее значение данной оси.
 ■ текущее значение подачи (мм/мин).

В окне "Управление" отображаются:
 ■ состояние цикла (ПУСК/СТОП);
 ■ текущее значение коэффициента k2;
 ■ текущее значение коэффициента k1;

В окне "Контроль" отображаются:
 ■ расчетное текущее значение координаты;
 ■ текущее значение координаты по датчику;
 ■ разница между показаниями расчета и датчика (рассогласование).

@6.6.3  Команды управления в режиме "СТОП" цикла

Исполняются следующие команды с клавиатуры:

 F1      -окно "Помощь", выдача справки по всем разделам системы;
 Alt +F1 -вызов страницы, последнего обращения к справочной службе;
 F2      -выбор оси, по которой будет производится настройка;
 F3      -установить минимальное значение диапазона (min);
 F4      -установить максимальное значение диапазона (max);
 F5      -установить текущее значение подачи;
 Alt+1   -записать текущий коэффициент k1 в "Установки" системы
          (параметр "Слежение", 6.3.6) для данной оси.
 Alt+2   -записать текущий коэффициент k2 в "Установки" системы
          (параметр "Дискрета" в окне "Движение" 6.3.7) по оси.
          Система сохранит коэффициент k2 только в том случае,
          если заданная подача находится в ряду фиксированных
          значений подач установленных в файле конфигурации
          BASE.INI (см. Приложение А, Таблица 4.2),
          в противном случае система выдает сообщение
          "ЗНАЧЕНИЕ ПОДАЧИ -НЕ УЗЛОВАЯ ТОЧКА".
 Esc     -выход в "главное меню" окна "Наладка".

Установка значений по клавишам F3..F5 выполняется с помощью команд
 редактора строки (3.2). Система подтверждает исполнение команд
 Alt+1, Alt+2 выдачей сообщения "КОЭФФИЦИЕНТ СОХРАНЕН"
Команда ПУСК цикла задается кнопкой P3 с пульта оператора (см. Глава 2).

@6.6.4  Команды управления в режиме "ПУСК" цикла

Исполняются следующие команды с клавиатуры:
           -уменьшить значение k1 на 1;
           -увеличить значение k1 на 1;
 Ctrl +    -уменьшить значение k2 на 1;
 Ctrl +    -увеличить значение k2 на 1;
           -уменьшить значение k2 на 10;
           -увеличить значение k2 на 10;

Исходными значениями k1 и k2, являются значения заданные в меню
 "Установки" функции "Наладка" (6.2); Начальное движение всегда
 выполняется в сторону станочного нуля (точку с координатой "max").
 Команда СТОП цикла задается кнопкой P4 с пульта оператора (см. Глава 2).

@6.6.5  Порядок определения коэффициента k2 =f(F)

Для снятия характеристики k2 =f(F) выполните следующие действия:
 ■ клавишей F2 установите текущую ось;
 ■ выберите участок ходового винта, установив параметры min,max;
 ■ задайте величину подачи из ряда фиксированных значений, определенных
   в файле конфигурации BASE.INI;
 ■ запустите цикл, нажав кнопку P3 на пульте оператора;
 ■ установите клавишей  значение k1 =1;
 ■ изменяя k2 командами ,Ctrl+,Ctrl+ добейтесь минимальных и
   устойчивых значений параметра "рассогласование" (6.7.2),
   контролируемого на участке постоянной скорости V =const;
 ■ остановите цикл, нажав кнопку P4 на пульте оператора;
 ■ командой Alt+2 сохраните коэффициент k2 в системе.

Определите, таким образом, k2 =f(F) для всех F, по всем осям.

@6.6.6  Порядок определения коэффициента k1

Определение предельного значения коэффициента k1 выполняйте после того
 как значения k2 =f(F) введены в систему, в следующем порядке:

 ■ задайте величину подачи равной 2..4 м/мин;
 ■ запустите цикл, нажав кнопку P3 на пульте оператора;
 ■ установите клавишей  значение k1 =1;
 ■ увеличивайте клавишей  значение k1 до появления характерных признаков
   перерегулирования (вибрация, тряска), особенно заметных на участках
   разгона-торможения, ближайшее меньшее значение k1 является его
   предельным значением -k1 пред;
 ■ остановите цикл, нажав кнопку P4 на пульте оператора;

Допускается ввод в систему любого значения k1 из диапазона 1..k1пред
 (большим k1 соответствует повышенная "точность", меньшим k1-
 улучшение параметра "шероховатость").
